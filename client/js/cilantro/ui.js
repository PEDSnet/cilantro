define("date",[],function(){Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}},Date.getMonthNumberFromName=function(t){for(var e=Date.CultureInfo.monthNames,i=Date.CultureInfo.abbreviatedMonthNames,n=t.toLowerCase(),r=0;e.length>r;r++)if(e[r].toLowerCase()==n||i[r].toLowerCase()==n)return r;return-1},Date.getDayNumberFromName=function(t){for(var e=Date.CultureInfo.dayNames,i=Date.CultureInfo.abbreviatedDayNames,n=(Date.CultureInfo.shortestDayNames,t.toLowerCase()),r=0;e.length>r;r++)if(e[r].toLowerCase()==n||i[r].toLowerCase()==n)return r;return-1},Date.isLeapYear=function(t){return 0===t%4&&0!==t%100||0===t%400},Date.getDaysInMonth=function(t,e){return[31,Date.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},Date.getTimezoneOffset=function(t,e){return e?Date.CultureInfo.abbreviatedTimeZoneDST[t.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[t.toUpperCase()]},Date.getTimezoneAbbreviation=function(t,e){var i,n=e?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard;for(i in n)if(n[i]===t)return i;return null},Date.prototype.clone=function(){return new Date(this.getTime())},Date.prototype.compareTo=function(t){if(isNaN(this))throw Error(this);if(t instanceof Date&&!isNaN(t))return this>t?1:t>this?-1:0;throw new TypeError(t)},Date.prototype.equals=function(t){return 0===this.compareTo(t)},Date.prototype.between=function(t,e){var i=this.getTime();return i>=t.getTime()&&e.getTime()>=i},Date.prototype.addMilliseconds=function(t){return this.setMilliseconds(this.getMilliseconds()+t),this},Date.prototype.addSeconds=function(t){return this.addMilliseconds(1e3*t)},Date.prototype.addMinutes=function(t){return this.addMilliseconds(6e4*t)},Date.prototype.addHours=function(t){return this.addMilliseconds(36e5*t)},Date.prototype.addDays=function(t){return this.addMilliseconds(864e5*t)},Date.prototype.addWeeks=function(t){return this.addMilliseconds(6048e5*t)},Date.prototype.addMonths=function(t){var e=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+t),this.setDate(Math.min(e,this.getDaysInMonth())),this},Date.prototype.addYears=function(t){return this.addMonths(12*t)},Date.prototype.add=function(t){if("number"==typeof t)return this._orient=t,this;var e=t;return(e.millisecond||e.milliseconds)&&this.addMilliseconds(e.millisecond||e.milliseconds),(e.second||e.seconds)&&this.addSeconds(e.second||e.seconds),(e.minute||e.minutes)&&this.addMinutes(e.minute||e.minutes),(e.hour||e.hours)&&this.addHours(e.hour||e.hours),(e.month||e.months)&&this.addMonths(e.month||e.months),(e.year||e.years)&&this.addYears(e.year||e.years),(e.day||e.days)&&this.addDays(e.day||e.days),this},Date._validate=function(t,e,i,n){if("number"!=typeof t)throw new TypeError(t+" is not a Number.");if(e>t||t>i)throw new RangeError(t+" is not a valid value for "+n+".");return!0},Date.validateMillisecond=function(t){return Date._validate(t,0,999,"milliseconds")},Date.validateSecond=function(t){return Date._validate(t,0,59,"seconds")},Date.validateMinute=function(t){return Date._validate(t,0,59,"minutes")},Date.validateHour=function(t){return Date._validate(t,0,23,"hours")},Date.validateDay=function(t,e,i){return Date._validate(t,1,Date.getDaysInMonth(e,i),"days")},Date.validateMonth=function(t){return Date._validate(t,0,11,"months")},Date.validateYear=function(t){return Date._validate(t,1,9999,"seconds")},Date.prototype.set=function(t){var e=t;return e.millisecond||0===e.millisecond||(e.millisecond=-1),e.second||0===e.second||(e.second=-1),e.minute||0===e.minute||(e.minute=-1),e.hour||0===e.hour||(e.hour=-1),e.day||0===e.day||(e.day=-1),e.month||0===e.month||(e.month=-1),e.year||0===e.year||(e.year=-1),-1!=e.millisecond&&Date.validateMillisecond(e.millisecond)&&this.addMilliseconds(e.millisecond-this.getMilliseconds()),-1!=e.second&&Date.validateSecond(e.second)&&this.addSeconds(e.second-this.getSeconds()),-1!=e.minute&&Date.validateMinute(e.minute)&&this.addMinutes(e.minute-this.getMinutes()),-1!=e.hour&&Date.validateHour(e.hour)&&this.addHours(e.hour-this.getHours()),-1!==e.month&&Date.validateMonth(e.month)&&this.addMonths(e.month-this.getMonth()),-1!=e.year&&Date.validateYear(e.year)&&this.addYears(e.year-this.getFullYear()),-1!=e.day&&Date.validateDay(e.day,this.getFullYear(),this.getMonth())&&this.addDays(e.day-this.getDate()),e.timezone&&this.setTimezone(e.timezone),e.timezoneOffset&&this.setTimezoneOffset(e.timezoneOffset),this},Date.prototype.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},Date.prototype.isLeapYear=function(){var t=this.getFullYear();return 0===t%4&&0!==t%100||0===t%400},Date.prototype.isWeekday=function(){return!(this.is().sat()||this.is().sun())},Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})},Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})},Date.prototype.moveToDayOfWeek=function(t,e){var i=(t-this.getDay()+7*(e||1))%7;return this.addDays(0===i?i+=7*(e||1):i)},Date.prototype.moveToMonth=function(t,e){var i=(t-this.getMonth()+12*(e||1))%12;return this.addMonths(0===i?i+=12*(e||1):i)},Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/864e5)},Date.prototype.getWeekOfYear=function(t){var e=this.getFullYear(),i=this.getMonth(),n=this.getDate(),r=t||Date.CultureInfo.firstDayOfWeek,s=8-new Date(e,0,1).getDay();8==s&&(s=1);var o=(Date.UTC(e,i,n,0,0,0)-Date.UTC(e,0,1,0,0,0))/864e5+1,a=Math.floor((o-s+7)/7);if(a===r){e--;var l=8-new Date(e,0,1).getDay();a=2==l||8==l?53:52}return a},Date.prototype.isDST=function(){return console.log("isDST"),"D"==(""+this).match(/(E|C|M|P)(S|D)T/)[2]},Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())},Date.prototype.setTimezoneOffset=function(t){var e=this.getTimezoneOffset(),i=-6*Number(t)/10;return this.addMinutes(i-e),this},Date.prototype.setTimezone=function(t){return this.setTimezoneOffset(Date.getTimezoneOffset(t))},Date.prototype.getUTCOffset=function(){var t,e=-10*this.getTimezoneOffset()/6;return 0>e?(t=""+(e-1e4),t[0]+t.substr(2)):(t=""+(e+1e4),"+"+t.substr(1))},Date.prototype.getDayName=function(t){return t?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]},Date.prototype.getMonthName=function(t){return t?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]},Date.prototype._toString=Date.prototype.toString,Date.prototype.toString=function(t){var e=this,i=function i(t){return 1==(""+t).length?"0"+t:t};return t?t.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(t){switch(t){case"hh":return i(13>e.getHours()?e.getHours():e.getHours()-12);case"h":return 13>e.getHours()?e.getHours():e.getHours()-12;case"HH":return i(e.getHours());case"H":return e.getHours();case"mm":return i(e.getMinutes());case"m":return e.getMinutes();case"ss":return i(e.getSeconds());case"s":return e.getSeconds();case"yyyy":return e.getFullYear();case"yy":return(""+e.getFullYear()).substring(2,4);case"dddd":return e.getDayName();case"ddd":return e.getDayName(!0);case"dd":return i(e.getDate());case"d":return""+e.getDate();case"MMMM":return e.getMonthName();case"MMM":return e.getMonthName(!0);case"MM":return i(e.getMonth()+1);case"M":return e.getMonth()+1;case"t":return 12>e.getHours()?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return 12>e.getHours()?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()},Date.now=function(){return new Date},Date.today=function(){return Date.now().clearTime()},Date.prototype._orient=1,Date.prototype.next=function(){return this._orient=1,this},Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){return this._orient=-1,this},Date.prototype._is=!1,Date.prototype.is=function(){return this._is=!0,this},Number.prototype._dateElement="day",Number.prototype.fromNow=function(){var t={};return t[this._dateElement]=this,Date.now().add(t)},Number.prototype.ago=function(){var t={};return t[this._dateElement]=-1*this,Date.now().add(t)},function(){for(var t,e=Date.prototype,i=Number.prototype,n="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),r="january february march april may june july august september october november december".split(/\s/),s="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),o=function(t){return function(){return this._is?(this._is=!1,this.getDay()==t):this.moveToDayOfWeek(t,this._orient)}},a=0;n.length>a;a++)e[n[a]]=e[n[a].substring(0,3)]=o(a);for(var l=function(t){return function(){return this._is?(this._is=!1,this.getMonth()===t):this.moveToMonth(t,this._orient)}},h=0;r.length>h;h++)e[r[h]]=e[r[h].substring(0,3)]=l(h);for(var c=function(t){return function(){return"s"!=t.substring(t.length-1)&&(t+="s"),this["add"+t](this._orient)}},u=function(t){return function(){return this._dateElement=t,this}},d=0;s.length>d;d++)t=s[d].toLowerCase(),e[t]=e[t+"s"]=c(s[d]),i[t]=i[t+"s"]=u(t)}(),Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")},Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)},Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)},Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)},Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)},Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},function(){Date.Parsing={Exception:function(t){this.message="Parse error at '"+t.substring(0,10)+" ...'"}};for(var t=Date.Parsing,e=t.Operators={rtoken:function(e){return function(i){var n=i.match(e);if(n)return[n[0],i.substring(n[0].length)];throw new t.Exception(i)}},token:function(){return function(t){return e.rtoken(RegExp("^s*"+t+"s*"))(t)}},stoken:function(t){return e.rtoken(RegExp("^"+t))},until:function(t){return function(e){for(var i=[],n=null;e.length;){try{n=t.call(this,e)}catch(r){i.push(n[0]),e=n[1];continue}break}return[i,e]}},many:function(t){return function(e){for(var i=[],n=null;e.length;){try{n=t.call(this,e)}catch(r){return[i,e]}i.push(n[0]),e=n[1]}return[i,e]}},optional:function(t){return function(e){var i=null;try{i=t.call(this,e)}catch(n){return[null,e]}return[i[0],i[1]]}},not:function(e){return function(i){try{e.call(this,i)}catch(n){return[null,i]}throw new t.Exception(i)}},ignore:function(t){return t?function(e){var i=null;return i=t.call(this,e),[null,i[1]]}:null},product:function(){for(var t=arguments[0],i=Array.prototype.slice.call(arguments,1),n=[],r=0;t.length>r;r++)n.push(e.each(t[r],i));return n},cache:function(e){var i={},n=null;return function(r){try{n=i[r]=i[r]||e.call(this,r)}catch(s){n=i[r]=s}if(n instanceof t.Exception)throw n;return n}},any:function(){var e=arguments;return function(i){for(var n=null,r=0;e.length>r;r++)if(null!=e[r]){try{n=e[r].call(this,i)}catch(s){n=null}if(n)return n}throw new t.Exception(i)}},each:function(){var e=arguments;return function(i){for(var n=[],r=null,s=0;e.length>s;s++)if(null!=e[s]){try{r=e[s].call(this,i)}catch(o){throw new t.Exception(i)}n.push(r[0]),i=r[1]}return[n,i]}},all:function(){var t=arguments,e=e;return e.each(e.optional(t))},sequence:function(i,n,r){return n=n||e.rtoken(/^\s*/),r=r||null,1==i.length?i[0]:function(e){for(var s=null,o=null,a=[],l=0;i.length>l;l++){try{s=i[l].call(this,e)}catch(h){break}a.push(s[0]);try{o=n.call(this,s[1])}catch(c){o=null;break}e=o[1]}if(!s)throw new t.Exception(e);if(o)throw new t.Exception(o[1]);if(r)try{s=r.call(this,s[1])}catch(u){throw new t.Exception(s[1])}return[a,s?s[1]:e]}},between:function(t,i,n){n=n||t;var s=e.each(e.ignore(t),i,e.ignore(n));return function(t){var e=s.call(this,t);return[[e[0][0],r[0][2]],e[1]]}},list:function(t,i,n){return i=i||e.rtoken(/^\s*/),n=n||null,t instanceof Array?e.each(e.product(t.slice(0,-1),e.ignore(i)),t.slice(-1),e.ignore(n)):e.each(e.many(e.each(t,e.ignore(i))),px,e.ignore(n))},set:function(i,n,r){return n=n||e.rtoken(/^\s*/),r=r||null,function(s){for(var o=null,a=null,l=null,h=null,c=[[],s],u=!1,d=0;i.length>d;d++){l=null,a=null,o=null,u=1==i.length;try{o=i[d].call(this,s)}catch(p){continue}if(h=[[o[0]],o[1]],o[1].length>0&&!u)try{l=n.call(this,o[1])}catch(f){u=!0}else u=!0;if(u||0!==l[1].length||(u=!0),!u){for(var g=[],m=0;i.length>m;m++)d!=m&&g.push(i[m]);a=e.set(g,n).call(this,l[1]),a[0].length>0&&(h[0]=h[0].concat(a[0]),h[1]=a[1])}if(h[1].length<c[1].length&&(c=h),0===c[1].length)break}if(0===c[0].length)return c;if(r){try{l=r.call(this,c[1])}catch(y){throw new t.Exception(c[1])}c[1]=l[1]}return c}},forward:function(t,e){return function(i){return t[e].call(this,i)}},replace:function(t,e){return function(i){var n=t.call(this,i);return[e,n[1]]}},process:function(t,e){return function(i){var n=t.call(this,i);return[e.call(this,n[0]),n[1]]}},min:function(e,i){return function(n){var r=i.call(this,n);if(e>r[0].length)throw new t.Exception(n);return r}}},i=function(t){return function(){var e=null,i=[];if(arguments.length>1?e=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(e=arguments[0]),!e)return t.apply(null,arguments);for(var n=0,r=e.shift();r.length>n;n++)return e.unshift(r[n]),i.push(t.apply(null,e)),e.shift(),i}},n="optional not ignore cache".split(/\s/),s=0;n.length>s;s++)e[n[s]]=i(e[n[s]]);for(var o=function(t){return function(){return arguments[0]instanceof Array?t.apply(null,arguments[0]):t.apply(null,arguments)}},a="each any all".split(/\s/),l=0;a.length>l;l++)e[a[l]]=o(e[a[l]])}(),function(){var t=function(e){for(var i=[],n=0;e.length>n;n++)e[n]instanceof Array?i=i.concat(t(e[n])):e[n]&&i.push(e[n]);return i};Date.Grammar={},Date.Translator={hour:function(t){return function(){this.hour=Number(t)}},minute:function(t){return function(){this.minute=Number(t)}},second:function(t){return function(){this.second=Number(t)}},meridian:function(t){return function(){this.meridian=t.slice(0,1).toLowerCase()}},timezone:function(t){return function(){var e=t.replace(/[^\d\+\-]/g,"");e.length?this.timezoneOffset=Number(e):this.timezone=t.toLowerCase()}},day:function(t){var e=t[0];return function(){this.day=Number(e.match(/\d+/)[0])}},month:function(t){return function(){this.month=3==t.length?Date.getMonthNumberFromName(t):Number(t)-1}},year:function(t){return function(){var e=Number(t);this.year=t.length>2?e:e+(Date.CultureInfo.twoDigitYearMax>e+2e3?2e3:1900)}},rday:function(t){return function(){switch(t){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(t){t=t instanceof Array?t:[t];var e=new Date;this.year=e.getFullYear(),this.month=e.getMonth(),this.day=1,this.hour=0,this.minute=0,this.second=0;for(var i=0;t.length>i;i++)t[i]&&t[i].call(this);if(this.hour="p"==this.meridian&&13>this.hour?this.hour+12:this.hour,this.day>Date.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");var n=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);return this.timezone?n.set({timezone:this.timezone}):this.timezoneOffset&&n.set({timezoneOffset:this.timezoneOffset}),n},finish:function(e){if(e=e instanceof Array?t(e):[e],0===e.length)return null;for(var i=0;e.length>i;i++)"function"==typeof e[i]&&e[i].call(this);if(this.now)return new Date;var n=Date.today(),r=!(null==this.days&&!this.orient&&!this.operator);if(r){var s,o,a;return a="past"==this.orient||"subtract"==this.operator?-1:1,this.weekday&&(this.unit="day",s=Date.getDayNumberFromName(this.weekday)-n.getDay(),o=7,this.days=s?(s+a*o)%o:a*o),this.month&&(this.unit="month",s=this.month-n.getMonth(),o=12,this.months=s?(s+a*o)%o:a*o,this.month=null),this.unit||(this.unit="day"),(null==this[this.unit+"s"]||null!=this.operator)&&(this.value||(this.value=1),"week"==this.unit&&(this.unit="day",this.value=7*this.value),this[this.unit+"s"]=this.value*a),n.add(this)}return this.meridian&&this.hour&&(this.hour=13>this.hour&&"p"==this.meridian?this.hour+12:this.hour),this.weekday&&!this.day&&(this.day=n.addDays(Date.getDayNumberFromName(this.weekday)-n.getDay()).getDate()),this.month&&!this.day&&(this.day=1),n.set(this)}};var e,i=Date.Parsing.Operators,n=Date.Grammar,r=Date.Translator;n.datePartDelimiter=i.rtoken(/^([\s\-\.\,\/\x27]+)/),n.timePartDelimiter=i.stoken(":"),n.whiteSpace=i.rtoken(/^\s*/),n.generalDelimiter=i.rtoken(/^(([\s\,]|at|on)+)/);var s={};n.ctoken=function(t){var e=s[t];if(!e){for(var n=Date.CultureInfo.regexPatterns,r=t.split(/\s+/),o=[],a=0;r.length>a;a++)o.push(i.replace(i.rtoken(n[r[a]]),r[a]));e=s[t]=i.any.apply(null,o)}return e},n.ctoken2=function(t){return i.rtoken(Date.CultureInfo.regexPatterns[t])},n.h=i.cache(i.process(i.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),r.hour)),n.hh=i.cache(i.process(i.rtoken(/^(0[0-9]|1[0-2])/),r.hour)),n.H=i.cache(i.process(i.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),r.hour)),n.HH=i.cache(i.process(i.rtoken(/^([0-1][0-9]|2[0-3])/),r.hour)),n.m=i.cache(i.process(i.rtoken(/^([0-5][0-9]|[0-9])/),r.minute)),n.mm=i.cache(i.process(i.rtoken(/^[0-5][0-9]/),r.minute)),n.s=i.cache(i.process(i.rtoken(/^([0-5][0-9]|[0-9])/),r.second)),n.ss=i.cache(i.process(i.rtoken(/^[0-5][0-9]/),r.second)),n.hms=i.cache(i.sequence([n.H,n.mm,n.ss],n.timePartDelimiter)),n.t=i.cache(i.process(n.ctoken2("shortMeridian"),r.meridian)),n.tt=i.cache(i.process(n.ctoken2("longMeridian"),r.meridian)),n.z=i.cache(i.process(i.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),r.timezone)),n.zz=i.cache(i.process(i.rtoken(/^(\+|\-)\s*\d\d\d\d/),r.timezone)),n.zzz=i.cache(i.process(n.ctoken2("timezone"),r.timezone)),n.timeSuffix=i.each(i.ignore(n.whiteSpace),i.set([n.tt,n.zzz])),n.time=i.each(i.optional(i.ignore(i.stoken("T"))),n.hms,n.timeSuffix),n.d=i.cache(i.process(i.each(i.rtoken(/^([0-2]\d|3[0-1]|\d)/),i.optional(n.ctoken2("ordinalSuffix"))),r.day)),n.dd=i.cache(i.process(i.each(i.rtoken(/^([0-2]\d|3[0-1])/),i.optional(n.ctoken2("ordinalSuffix"))),r.day)),n.ddd=n.dddd=i.cache(i.process(n.ctoken("sun mon tue wed thu fri sat"),function(t){return function(){this.weekday=t}})),n.M=i.cache(i.process(i.rtoken(/^(1[0-2]|0\d|\d)/),r.month)),n.MM=i.cache(i.process(i.rtoken(/^(1[0-2]|0\d)/),r.month)),n.MMM=n.MMMM=i.cache(i.process(n.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),r.month)),n.y=i.cache(i.process(i.rtoken(/^(\d\d?)/),r.year)),n.yy=i.cache(i.process(i.rtoken(/^(\d\d)/),r.year)),n.yyy=i.cache(i.process(i.rtoken(/^(\d\d?\d?\d?)/),r.year)),n.yyyy=i.cache(i.process(i.rtoken(/^(\d\d\d\d)/),r.year)),e=function(){return i.each(i.any.apply(null,arguments),i.not(n.ctoken2("timeContext")))},n.day=e(n.d,n.dd),n.month=e(n.M,n.MMM),n.year=e(n.yyyy,n.yy),n.orientation=i.process(n.ctoken("past future"),function(t){return function(){this.orient=t}}),n.operator=i.process(n.ctoken("add subtract"),function(t){return function(){this.operator=t}}),n.rday=i.process(n.ctoken("yesterday tomorrow today now"),r.rday),n.unit=i.process(n.ctoken("minute hour day week month year"),function(t){return function(){this.unit=t}}),n.value=i.process(i.rtoken(/^\d\d?(st|nd|rd|th)?/),function(t){return function(){this.value=t.replace(/\D/g,"")}}),n.expression=i.set([n.rday,n.operator,n.value,n.unit,n.orientation,n.ddd,n.MMM]),e=function(){return i.set(arguments,n.datePartDelimiter)},n.mdy=e(n.ddd,n.month,n.day,n.year),n.ymd=e(n.ddd,n.year,n.month,n.day),n.dmy=e(n.ddd,n.day,n.month,n.year),n.date=function(t){return(n[Date.CultureInfo.dateElementOrder]||n.mdy).call(this,t)},n.format=i.process(i.many(i.any(i.process(i.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(t){if(n[t])return n[t];throw Date.Parsing.Exception(t)}),i.process(i.rtoken(/^[^dMyhHmstz]+/),function(t){return i.ignore(i.stoken(t))}))),function(t){return i.process(i.each.apply(null,t),r.finishExact)});var o={},a=function(t){return o[t]=o[t]||n.format(t)[0]};n.formats=function(t){if(t instanceof Array){for(var e=[],n=0;t.length>n;n++)e.push(a(t[n]));return i.any.apply(null,e)}return a(t)},n._formats=n.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]),n._start=i.process(i.set([n.date,n.time,n.expression],n.generalDelimiter,n.whiteSpace),r.finish),n.start=function(t){try{var e=n._formats.call({},t);if(0===e[1].length)return e}catch(i){}return n._start.call({},t)}}(),Date._parse=Date.parse,Date.parse=function(t){var e=null;if(!t)return null;try{e=Date.Grammar.start.call({},t)}catch(i){return null}return 0===e[1].length?e[0]:null},Date.getParseFunction=function(t){var e=Date.Grammar.formats(t);return function(t){var i=null;try{i=e.call({},t)}catch(n){return null}return 0===i[1].length?i[0]:null}},Date.parseExact=function(t,e){return Date.getParseFunction(e)(t)}}),function(t,e){return"function"==typeof define&&define.amd?define("inputio",["jquery"],function(i){return t.InputIO=e(i)}):t.InputIO=e(t.jQuery)}(this,function(){var t,e,i,n,r,s,o,a,l,h,c,u,d,p,f;return l=$.isArray,d=function(t){return"number"===$.type(t)},u=function(t){return d(t)&&t!==+t},h=function(t){return"boolean"===$.type(t)},p=function(t){return"string"===$.type(t)},c=function(t){return"date"===$.type(t)},s=null!=Date.CultureInfo,a=function(t){return t.attr("data-type")||t.attr("type")},o=function(t){var e,n,r,s,o,l,h;if(s=!1,n=$(t).not(":disabled"),n.is("input[type=checkbox]")&&n.length>1&&(s=!0),n.is("input[type=radio],input[type=checkbox]")&&(n=n.filter(":checked")),n.is("select[multiple]"))s=!0,o=i(n.val(),a(n));else if(s||n.length>1)for(s=!0,o=[],l=0,h=n.length;h>l;l++)r=n[l],e=$(r),o.push(i(e.val(),a(e)));else o=i(n.val(),a(n));return(null==o||""===o)&&(o=s?[]:null),o},f=function(t,e){var i,n,r,s,o,a;if(r=!1,i=$(t),i.is("select[multiple],input[type=radio],input[type=checkbox]")&&(r=!0),!r&&i.length>1)for(l(e)||(e=[e]),n=o=0,a=e.length;a>o;n=++o)s=e[n],$(i[n]).val(s);else r&&!l(e)?e=[e]:!r&&l(e)&&(e=e[0]),i.val(e)},n=function(t){if(!s)throw Error("date.js must be installed to properly dates");return Date.parse(t)},r={"boolean":function(t){return Boolean(t)},number:function(t){return parseFloat(t)},string:function(t){return""+t},date:n,datetime:n,time:n},i=function(t,e){var n,s;return null==t?null:(l(t)?(n=function(){var n,r,o;for(o=[],n=0,r=t.length;r>n;n++)s=t[n],o.push(i(s,e));return o}(),t=n.length?n:null):null!=r[e]&&(t=r[e](t)),""===t||u(t)?null:t)},e={"boolean":h,number:d,string:p,date:c,datetime:c,time:c},t=function(t,i){return null!=e[i]?e[i](t):!0},{get:o,set:f,coerce:i,coercers:r,check:t,checkers:e}}),define("plugins/backbone-marionette",["../jquery","../underscore","../backbone"],function(t,e,i){i.ChildViewContainer=function(t,e){var i=function(t){this._views={},this._indexByModel={},this._indexByCollection={},this._indexByCustom={},this._updateLength(),this._addInitialViews(t)};e.extend(i.prototype,{add:function(t,e){var i=t.cid;this._views[i]=t,t.model&&(this._indexByModel[t.model.cid]=i),t.collection&&(this._indexByCollection[t.collection.cid]=i),e&&(this._indexByCustom[e]=i),this._updateLength()},findByModel:function(t){var e=this._indexByModel[t.cid];return this.findByCid(e)},findByCollection:function(t){var e=this._indexByCollection[t.cid];return this.findByCid(e)},findByCustom:function(t){var e=this._indexByCustom[t];return this.findByCid(e)},findByIndex:function(t){return e.values(this._views)[t]},findByCid:function(t){return this._views[t]},remove:function(t){var e=t.cid;t.model&&delete this._indexByModel[t.model.cid],t.collection&&delete this._indexByCollection[t.collection.cid];var i;for(var n in this._indexByCustom)if(this._indexByCustom.hasOwnProperty(n)&&this._indexByCustom[n]===e){i=n;break}i&&delete this._indexByCustom[i],delete this._views[e],this._updateLength()},call:function(t,e){e=Array.prototype.slice.call(arguments,1),this.apply(t,e)},apply:function(t,i){i=i||[],e.each(this._views,function(n){e.isFunction(n[t])&&n[t].apply(n,i)})},_updateLength:function(){this.length=e.size(this._views)},_addInitialViews:function(t){if(t){var e,i,n=t.length;for(i=0;n>i;i++)e=t[i],this.add(e)}}});var n=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return e.each(n,function(t){i.prototype[t]=function(){var i=e.values(this._views),n=[i].concat(e.toArray(arguments));return e[t].apply(e,n)}}),i}(i,e),i.Wreqr=function(t,e,i){var n={};return n.Handlers=function(t,e){var i=function(){this._handlers={}};return i.extend=t.Model.extend,e.extend(i.prototype,{addHandler:function(t,e,i){var n={callback:e,context:i};this._handlers[t]=n},getHandler:function(t){var e=this._handlers[t];if(!e)throw Error("Handler not found for '"+t+"'");return function(){var t=Array.prototype.slice.apply(arguments);return e.callback.apply(e.context,t)}},removeHandler:function(t){delete this._handlers[t]},removeAllHandlers:function(){this._handlers={}}}),i}(t,i),n.Commands=function(t){return t.Handlers.extend({execute:function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);this.getHandler(t).apply(this,e)}})}(n),n.RequestResponse=function(t){return t.Handlers.extend({request:function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return this.getHandler(t).apply(this,e)}})}(n),n.EventAggregator=function(t,e){var i=function(){};return i.extend=t.Model.extend,e.extend(i.prototype,t.Events),i}(t,i),n}(i,i.Marionette,e);var n=function(t,e,i){var n={};t.Marionette=n;var r=Array.prototype.slice;return n.extend=t.Model.extend,n.getOption=function(t,e){if(t&&e){var i;return i=t.options&&e in t.options&&void 0!==t.options[e]?t.options[e]:t[e]}},n.createObject=function(){function t(){}var e;return e="function"==typeof Object.create?Object.create:function(e){t.prototype=e;var i=new t;return t.prototype=null,i}}(),n.triggerMethod=function(){for(var t,i,n=Array.prototype.slice.apply(arguments),r=n[0],s=r.split(":"),o="on",a=0;s.length>a;a++)t=s[a],i=t.charAt(0).toUpperCase(),o+=i+t.slice(1);return this.trigger.apply(this,n),e.isFunction(this[o])?(n.shift(),this[o].apply(this,n)):void 0},n.MonitorDOMRefresh=function(){function t(t){t._isShown=!0,n(t)}function i(t){t._isRendered=!0,n(t)}function n(t){t._isShown&&t._isRendered&&e.isFunction(t.triggerMethod)&&t.triggerMethod("dom:refresh")}return function(e){e.listenTo(e,"show",function(){t(e)}),e.listenTo(e,"render",function(){i(e)})}}(),function(t){function i(t,i,n,r){var s=r.split(/\s+/);e.each(s,function(e){var r=t[e];if(!r)throw Error("Method '"+e+"' was configured as an event handler, but does not exist.");t.listenTo(i,n,r,t)})}function n(t,e,i,n){t.listenTo(e,i,n,t)}function r(t,i,n,r){var s=r.split(/\s+/);e.each(s,function(){var e=t[e];t.stopListening(i,n,e,t)})}function s(t,e,i,n){t.stopListening(e,i,n,t)}function o(t,i,n,r,s){i&&n&&(e.isFunction(n)&&(n=n.call(t)),e.each(n,function(n,o){e.isFunction(n)?r(t,i,o,n):s(t,i,o,n)}))}t.bindEntityEvents=function(t,e,r){o(t,e,r,n,i)},t.unbindEntityEvents=function(t,e,i){o(t,e,i,s,r)}}(n),n.Callbacks=function(){this._deferred=i.Deferred(),this._callbacks=[]},e.extend(n.Callbacks.prototype,{add:function(t,e){this._callbacks.push({cb:t,ctx:e}),this._deferred.done(function(i,n){e&&(i=e),t.call(i,n)})},run:function(t,e){this._deferred.resolve(e,t)},reset:function(){var t=this,n=this._callbacks;this._deferred=i.Deferred(),this._callbacks=[],e.each(n,function(e){t.add(e.cb,e.ctx)})}}),n.Controller=function(t){this.triggerMethod=n.triggerMethod,this.options=t||{},e.isFunction(this.initialize)&&this.initialize(this.options)},n.Controller.extend=n.extend,e.extend(n.Controller.prototype,t.Events,{close:function(){this.stopListening(),this.triggerMethod("close"),this.unbind()}}),n.Region=function(t){if(this.options=t||{},this.el=n.getOption(this,"el"),!this.el){var e=Error("An 'el' must be specified for a region.");throw e.name="NoElError",e}if(this.initialize){var i=Array.prototype.slice.apply(arguments);this.initialize.apply(this,i)}},e.extend(n.Region,{buildRegion:function(t,e){var i="string"==typeof t,n="string"==typeof t.selector,r=t.regionType===void 0,s="function"==typeof t;if(!s&&!i&&!n)throw Error("Region must be specified as a Region type, a selector string or an object with selector property");var o,a;i&&(o=t),t.selector&&(o=t.selector),s&&(a=t),!s&&r&&(a=e),t.regionType&&(a=t.regionType);var l=new a({el:o});return l}}),e.extend(n.Region.prototype,t.Events,{show:function(t){this.ensureEl(),this.close(),t.render(),this.open(t),n.triggerMethod.call(t,"show"),n.triggerMethod.call(this,"show",t),this.currentView=t},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(t){return i(t)},open:function(t){this.$el.empty().append(t.el)},close:function(){var t=this.currentView;t&&!t.isClosed&&(t.close&&t.close(),n.triggerMethod.call(this,"close"),delete this.currentView)},attachView:function(t){this.currentView=t},reset:function(){this.close(),delete this.$el}}),n.Region.extend=n.extend,n.TemplateCache=function(t){this.templateId=t},e.extend(n.TemplateCache,{templateCaches:{},get:function(t){var e=this.templateCaches[t];return e||(e=new n.TemplateCache(t),this.templateCaches[t]=e),e.load()},clear:function(){var t,e=Array.prototype.slice.apply(arguments),i=e.length;if(i>0)for(t=0;i>t;t++)delete this.templateCaches[e[t]];else this.templateCaches={}}}),e.extend(n.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var t=this.loadTemplate(this.templateId);
return this.compiledTemplate=this.compileTemplate(t),this.compiledTemplate},loadTemplate:function(t){var e=i(t).html();if(!e||0===e.length){var n="Could not find template: '"+t+"'",r=Error(n);throw r.name="NoTemplateError",r}return e},compileTemplate:function(t){return e.template(t)}}),n.Renderer={render:function(t,e){var i="function"==typeof t?t:n.TemplateCache.get(t),r=i(e);return r}},n.View=t.View.extend({constructor:function(){e.bindAll(this,"render");var i=Array.prototype.slice.apply(arguments);t.View.prototype.constructor.apply(this,i),n.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled,this)},triggerMethod:n.triggerMethod,getTemplate:function(){return n.getOption(this,"template")},mixinTemplateHelpers:function(t){t=t||{};var i=this.templateHelpers;return e.isFunction(i)&&(i=i.call(this)),e.extend(t,i)},configureTriggers:function(){if(this.triggers){var t=this,i={},n=e.result(this,"triggers");return e.each(n,function(e,n){i[n]=function(i){i&&i.preventDefault&&i.preventDefault(),i&&i.stopPropagation&&i.stopPropagation();var n={view:this,model:this.model,collection:this.collection};t.triggerMethod(e,n)}}),i}},delegateEvents:function(t){this._delegateDOMEvents(t),n.bindEntityEvents(this,this.model,n.getOption(this,"modelEvents")),n.bindEntityEvents(this,this.collection,n.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(i){i=i||this.events,e.isFunction(i)&&(i=i.call(this));var n={},r=this.configureTriggers();e.extend(n,i,r),t.View.prototype.delegateEvents.call(this,n)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e),n.unbindEntityEvents(this,this.model,n.getOption(this,"modelEvents")),n.unbindEntityEvents(this,this.collection,n.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){if(!this.isClosed){var t=this.triggerMethod("before:close");t!==!1&&(this.isClosed=!0,this.triggerMethod("close"),this.remove())}},bindUIElements:function(){if(this.ui){var t=this;this.uiBindings||(this.uiBindings=e.result(this,"ui")),this.ui={},e.each(e.keys(this.uiBindings),function(e){var i=t.uiBindings[e];t.ui[e]=t.$(i)})}}}),n.ItemView=n.View.extend({constructor:function(){var t=Array.prototype.slice.apply(arguments);n.View.prototype.constructor.apply(this,t)},serializeData:function(){var t={};return this.model?t=this.model.toJSON():this.collection&&(t={items:this.collection.toJSON()}),t},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var t=this.serializeData();t=this.mixinTemplateHelpers(t);var e=this.getTemplate(),i=n.Renderer.render(e,t);return this.$el.html(i),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){if(!this.isClosed){this.triggerMethod("item:before:close");var t=Array.prototype.slice.apply(arguments);n.View.prototype.close.apply(this,t),this.triggerMethod("item:closed")}}}),n.CollectionView=n.View.extend({itemViewEventPrefix:"itemview",constructor:function(){this._initChildViewStorage();var t=Array.prototype.slice.apply(arguments);n.View.prototype.constructor.apply(this,t),this._initialEvents()},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this.render,this))},addChildView:function(t){this.closeEmptyView();var e=this.getItemView(t),i=this.collection.indexOf(t);this.addItemView(t,e,i)},onShowCalled:function(){this.children.each(function(t){n.triggerMethod.call(t,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.closeEmptyView(),this.closeChildren(),this.collection&&this.collection.length>0?this.showCollection():this.showEmptyView()},showCollection:function(){var t,e=this;this.collection.each(function(i,n){t=e.getItemView(i),e.addItemView(i,t,n)})},showEmptyView:function(){var e=n.getOption(this,"emptyView");if(e&&!this._showingEmptyView){this._showingEmptyView=!0;var i=new t.Model;this.addItemView(i,e,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getItemView:function(){var t=n.getOption(this,"itemView");if(!t){var e=Error("An `itemView` must be specified");throw e.name="NoItemViewError",e}return t},addItemView:function(t,i,r){var s=n.getOption(this,"itemViewOptions");e.isFunction(s)&&(s=s.call(this,t));var o=this.buildItemView(t,i,s);this.addChildViewEventForwarding(o),this.triggerMethod("before:item:added",o),this.children.add(o),this.renderItemView(o,r),this._isShown&&n.triggerMethod.call(o,"show"),this.triggerMethod("after:item:added",o)},addChildViewEventForwarding:function(t){var e=n.getOption(this,"itemViewEventPrefix");this.listenTo(t,"all",function(){var i=r.call(arguments);i[0]=e+":"+i[0],i.splice(1,0,t),n.triggerMethod.apply(this,i)},this)},renderItemView:function(t,e){t.render(),this.appendHtml(this,t,e)},buildItemView:function(t,i,n){var r=e.extend({model:t},n),s=new i(r);return s},removeItemView:function(t){var e=this.children.findByModel(t);this.removeChildView(e),this.checkEmpty()},removeChildView:function(t){t&&(this.stopListening(t),t.close&&t.close(),this.children.remove(t)),this.triggerMethod("item:removed",t)},checkEmpty:function(){this.collection&&0!==this.collection.length||this.showEmptyView()},appendHtml:function(t,e){t.$el.append(e.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},close:function(){if(!this.isClosed){this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed");var t=Array.prototype.slice.apply(arguments);n.View.prototype.close.apply(this,t)}},closeChildren:function(){this.children.each(function(t){this.removeChildView(t)},this),this.checkEmpty()}}),n.CompositeView=n.CollectionView.extend({constructor:function(){var t=Array.prototype.slice.apply(arguments);n.CollectionView.apply(this,t),this.itemView=this.getItemView()},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))},getItemView:function(){var t=n.getOption(this,"itemView")||this.constructor;if(!t){var e=Error("An `itemView` must be specified");throw e.name="NoItemViewError",e}return t},serializeData:function(){var t={};return this.model&&(t=this.model.toJSON()),t},render:function(){this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var t=this.renderModel();return this.$el.html(t),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){n.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered")},renderCollection:function(){var t=Array.prototype.slice.apply(arguments);n.CollectionView.prototype.render.apply(this,t)},renderModel:function(){var t={};t=this.serializeData(),t=this.mixinTemplateHelpers(t);var e=this.getTemplate();return n.Renderer.render(e,t)},appendHtml:function(t,e){var i=this.getItemViewContainer(t);i.append(e.el)},getItemViewContainer:function(t){if("$itemViewContainer"in t)return t.$itemViewContainer;var i;if(t.itemViewContainer){var n=e.result(t,"itemViewContainer");if(i=t.$(n),0>=i.length){var r=Error("The specified `itemViewContainer` was not found: "+t.itemViewContainer);throw r.name="ItemViewContainerMissingError",r}}else i=t.$el;return t.$itemViewContainer=i,i},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),n.Layout=n.ItemView.extend({regionType:n.Region,constructor:function(){this._firstRender=!0,this.initializeRegions();var t=Array.prototype.slice.apply(arguments);n.ItemView.apply(this,t)},render:function(){this._firstRender?this._firstRender=!1:(this.closeRegions(),this.reInitializeRegions());var t=Array.prototype.slice.apply(arguments),e=n.ItemView.prototype.render.apply(this,t);return e},close:function(){if(!this.isClosed){this.closeRegions(),this.destroyRegions();var t=Array.prototype.slice.apply(arguments);n.ItemView.prototype.close.apply(this,t)}},initializeRegions:function(){this.regionManagers||(this.regionManagers={});var t=this,i=this.regions||{};e.each(i,function(e,i){var r=n.Region.buildRegion(e,t.regionType);r.getEl=function(e){return t.$(e)},t.regionManagers[i]=r,t[i]=r})},reInitializeRegions:function(){this.regionManagers&&0===e.size(this.regionManagers)?this.initializeRegions():e.each(this.regionManagers,function(t){t.reset()})},closeRegions:function(){e.each(this.regionManagers,function(t){t.close()})},destroyRegions:function(){var t=this;e.each(this.regionManagers,function(e,i){delete t[i]}),this.regionManagers={}}}),n.AppRouter=t.Router.extend({constructor:function(e){var i=Array.prototype.slice.apply(arguments);if(t.Router.prototype.constructor.apply(this,i),this.options=e,this.appRoutes){var r=n.getOption(this,"controller");this.processAppRoutes(r,this.appRoutes)}},processAppRoutes:function(t,i){var n,r,s,o,a,l=[],h=this;for(s in i)i.hasOwnProperty(s)&&l.unshift([s,i[s]]);for(o=l.length,a=0;o>a;a++){if(s=l[a][0],r=l[a][1],n=t[r],!n){var c="Method '"+r+"' was not found on the controller",u=Error(c);throw u.name="NoMethodError",u}n=e.bind(n,t),h.route(s,r,n)}}}),n.Application=function(i){this.initCallbacks=new n.Callbacks,this.vent=new t.Wreqr.EventAggregator,this.commands=new t.Wreqr.Commands,this.reqres=new t.Wreqr.RequestResponse,this.submodules={},e.extend(this,i),this.triggerMethod=n.triggerMethod},e.extend(n.Application.prototype,t.Events,{execute:function(){var t=Array.prototype.slice.apply(arguments);this.commands.execute.apply(this.commands,t)},request:function(){var t=Array.prototype.slice.apply(arguments);return this.reqres.request.apply(this.reqres,t)},addInitializer:function(t){this.initCallbacks.add(t)},start:function(t){this.triggerMethod("initialize:before",t),this.initCallbacks.run(t,this),this.triggerMethod("initialize:after",t),this.triggerMethod("start",t)},addRegions:function(t){var i=this;e.each(t,function(t,e){var r=n.Region.buildRegion(t,n.Region);i[e]=r})},removeRegion:function(t){this[t].close(),delete this[t]},module:function(){var t=r.call(arguments);return t.unshift(this),n.Module.create.apply(n.Module,t)}}),n.Application.extend=n.extend,n.Module=function(t,e){this.moduleName=t,this.submodules={},this._setupInitializersAndFinalizers(),this.app=e,this.startWithParent=!0,this.triggerMethod=n.triggerMethod},e.extend(n.Module.prototype,t.Events,{addInitializer:function(t){this._initializerCallbacks.add(t)},addFinalizer:function(t){this._finalizerCallbacks.add(t)},start:function(t){this._isInitialized||(e.each(this.submodules,function(e){var i=!0;i=e.startWithParent,i&&e.start(t)}),this.triggerMethod("before:start",t),this._initializerCallbacks.run(t,this),this._isInitialized=!0,this.triggerMethod("start",t))},stop:function(){this._isInitialized&&(this._isInitialized=!1,n.triggerMethod.call(this,"before:stop"),e.each(this.submodules,function(t){t.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),n.triggerMethod.call(this,"stop"))},addDefinition:function(t,e){this._runModuleDefinition(t,e)},_runModuleDefinition:function(r,s){if(r){var o=e.flatten([this,this.app,t,n,i,e,s]);r.apply(this,o)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new n.Callbacks,this._finalizerCallbacks=new n.Callbacks}}),e.extend(n.Module,{create:function(t,i,n){var s=this,o=t,a=r.apply(arguments);a.splice(0,3),i=i.split(".");var l=i.length,h=[];return h[l-1]=n,e.each(i,function(e,i){var n=o;o=s._getModule(n,e,t),s._addModuleDefinition(n,o,h[i],a)}),o},_getModule:function(t,e,i){var r=t[e];return r||(r=new n.Module(e,i),t[e]=r,t.submodules[e]=r),r},_addModuleDefinition:function(t,i,n,r){var s,o;e.isFunction(n)?(s=n,o=!0):e.isObject(n)?(s=n.define,o=n.startWithParent):o=!0,s&&i.addDefinition(s,r),i.startWithParent,i.startWithParent=i.startWithParent&&o,i.startWithParent&&!i.startWithParentIsConfigured&&(i.startWithParentIsConfigured=!0,t.addInitializer(function(t){i.startWithParent&&i.start(t)}))}}),n}(i,e,t||window.jQuery||window.Zepto||window.ender);return n}),define("highcharts",[],function(){function t(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t}function e(){for(var t=0,e=arguments,i=e.length,n={};i>t;t++)n[e[t++]]=e[t];return n}function i(t,e){return parseInt(t,e||10)}function n(t){return"string"==typeof t}function r(t){return"object"==typeof t}function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function o(t){return"number"==typeof t}function a(t){return pe.log(t)/pe.LN10}function l(t){return pe.pow(10,t)}function h(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function c(t){return t!==j&&null!==t}function u(t,e,i){var s,o,a="setAttribute";if(n(e))c(i)?t[a](e,i):t&&t.getAttribute&&(o=t.getAttribute(e));else if(c(e)&&r(e))for(s in e)t[a](s,e[s]);return o}function d(t){return s(t)?t:[t]}function p(){var t,e,i=arguments,n=i.length;for(t=0;n>t;t++)if(e=i[t],e!==void 0&&null!==e)return e}function f(e,i){Me&&i&&i.opacity!==j&&(i.filter="alpha(opacity="+100*i.opacity+")"),t(e.style,i)}function g(e,i,n,r,s){var o=ue.createElement(e);return i&&t(o,i),s&&f(o,{padding:0,border:je,margin:0}),n&&f(o,n),r&&r.appendChild(o),o}function m(e,i){var n=function(){};return n.prototype=new e,t(n.prototype,i),n}function y(t){return t=""+(t||0),t.indexOf(".")>-1?t.split(".")[1].length:0}function v(t,e,n,r){var s=G.lang,o=t,a=-1===e?y(t):isNaN(e=_e(e))?2:e,l=void 0===n?s.decimalPoint:n,h=void 0===r?s.thousandsSep:r,c=0>o?"-":"",u=i(o=_e(+o||0).toFixed(a))+"",d=u.length>3?u.length%3:0;return c+(d?u.substr(0,d)+h:"")+u.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+h)+(a?l+_e(o-u).toFixed(a).slice(2):"")}function _(t,e){return Array((e||2)+1-(t+"").length).join(0)+t}function b(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),i.apply(this,t)}}function x(t,e,i,n){var r,s;for(i=p(i,1),r=t/i,e||(e=[1,2,2.5,5,10],n&&n.allowDecimals===!1&&(1===i?e=[1,2,5,10]:.1>=i&&(e=[1/i]))),s=0;e.length>s&&(t=e[s],!((e[s]+(e[s+1]||e[s]))/2>=r));s++);return t*=i}function w(t,e){var i,n,r=e||[[Ze,[1,2,5,10,20,25,50,100,200,500]],[Qe,[1,2,5,10,15,30]],[ti,[1,2,5,10,15,30]],[ei,[1,2,3,4,6,8,12]],[ii,[1,2]],[ni,[1,2]],[ri,[1,2,3,4,6]],[si,null]],s=r[r.length-1],o=Z[s[0]],a=s[1];for(n=0;r.length>n;n++)if(s=r[n],o=Z[s[0]],a=s[1],r[n+1]){var l=(o*a[a.length-1]+Z[r[n+1][0]])/2;if(l>=t)break}return o===Z[si]&&5*o>t&&(a=[1,2,5]),o===Z[si]&&5*o>t&&(a=[1,2,5]),i=x(t/o,a),{unitRange:o,count:i,unitName:s[0]}}function k(e,i,n,r){var s,o,a=[],l={},h=G.global.useUTC,c=new Date(i),u=e.unitRange,d=e.count;u>=Z[Qe]&&(c.setMilliseconds(0),c.setSeconds(u>=Z[ti]?0:d*ge(c.getSeconds()/d))),u>=Z[ti]&&c[oe](u>=Z[ei]?0:d*ge(c[te]()/d)),u>=Z[ei]&&c[ae](u>=Z[ii]?0:d*ge(c[ee]()/d)),u>=Z[ii]&&c[le](u>=Z[ri]?1:d*ge(c[ne]()/d)),u>=Z[ri]&&(c[he](u>=Z[si]?0:d*ge(c[re]()/d)),o=c[se]()),u>=Z[si]&&(o-=o%d,c[ce](o)),u===Z[ni]&&c[le](c[ne]()-c[ie]()+p(r,1)),s=1,o=c[se]();for(var f=c.getTime(),g=c[re](),m=c[ne](),y=h?0:(864e5+1e3*60*c.getTimezoneOffset())%864e5;n>f;)a.push(f),u===Z[si]?f=Q(o+s*d,0):u===Z[ri]?f=Q(o,g+s*d):h||u!==Z[ii]&&u!==Z[ni]?(f+=u*d,Z[ei]>=u&&f%Z[ii]===y&&(l[f]=ii)):f=Q(o,g,m+s*d*(u===Z[ii]?1:7)),s++;return a.push(f),a.info=t(e,{higherRanks:l,totalRange:u*d}),a}function D(){this.color=0,this.symbol=0}function C(t,e){var i,n,r=t.length;for(n=0;r>n;n++)t[n].ss_i=n;for(t.sort(function(t,n){return i=e(t,n),0===i?t.ss_i-n.ss_i:i}),n=0;r>n;n++)delete t[n].ss_i}function M(t){for(var e=t.length,i=t[0];e--;)i>t[e]&&(i=t[e]);return i}function T(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function S(t,e){var i;for(i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function P(t){X||(X=g(Fe)),t&&X.appendChild(t),X.innerHTML=""}function I(t,e){var i="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw i;de.console&&console.log(i)}function A(t){return parseFloat(t.toPrecision(14))}function O(t,e){K=p(t,e.animation)}function $(){var t=G.global.useUTC,e=t?"getUTC":"get",i=t?"setUTC":"set";Q=t?Date.UTC:function(t,e,i,n,r,s){return new Date(t,e,p(i,1),p(n,0),p(r,0),p(s,0)).getTime()},te=e+"Minutes",ee=e+"Hours",ie=e+"Day",ne=e+"Date",re=e+"Month",se=e+"FullYear",oe=i+"Minutes",ae=i+"Hours",le=i+"Date",he=i+"Month",ce=i+"FullYear"}function N(t){return G=xi(G,t),$(),G}function E(){return G}function L(){}function z(t,e,i){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,i||this.addLabel()}function F(t,e){return this.axis=t,e&&(this.options=e,this.id=e.id),this}function R(t,e,i,n,r,s){var o=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.stack=r,this.percent="percent"===s,this.alignOptions={align:e.align||(o?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":i?"bottom":"top"),y:p(e.y,o?4:i?14:-6),x:p(e.x,o?i?-6:6:0)},this.textAlign=e.textAlign||(o?i?"right":"left":"center")}function H(){this.init.apply(this,arguments)}function W(t,e){var n=e.borderWidth,r=e.style,s=i(r.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape,null,null,e.useHTML,null,"tooltip").attr({padding:s,fill:e.backgroundColor,"stroke-width":n,r:e.borderRadius,zIndex:8}).css(r).css({padding:0}).hide().add(),$e||this.label.shadow(e.shadow),this.shared=e.shared}function B(t,e){var i=$e?"":e.chart.zoomType;this.zoomX=/x/.test(i),this.zoomY=/y/.test(i),this.options=e,this.chart=t,this.init(t,e.tooltip)}function Y(t){this.init(t)}function V(t,e){var i,n=t.series;t.series=null,i=xi(G,t),i.series=t.series=n;var s=i.chart,o=s.margin,a=r(o)?o:[o,o,o,o];this.optionsMarginTop=p(s.marginTop,a[0]),this.optionsMarginRight=p(s.marginRight,a[1]),this.optionsMarginBottom=p(s.marginBottom,a[2]),this.optionsMarginLeft=p(s.marginLeft,a[3]);var l=s.events;this.runChartClick=l&&!!l.click,this.callback=e,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.hasCartesianSeries=s.showAxes,this.init(l)}var j,U,X,G,q,K,J,Z,Q,te,ee,ie,ne,re,se,oe,ae,le,he,ce,ue=document,de=window,pe=Math,fe=pe.round,ge=pe.floor,me=pe.ceil,ye=pe.max,ve=pe.min,_e=pe.abs,be=pe.cos,xe=pe.sin,we=pe.PI,ke=2*we/360,De=navigator.userAgent,Ce=de.opera,Me=/msie/i.test(De)&&!Ce,Te=8===ue.documentMode,Se=/AppleWebKit/.test(De),Pe=/Firefox/.test(De),Ie="http://www.w3.org/2000/svg",Ae=!!ue.createElementNS&&!!ue.createElementNS(Ie,"svg").createSVGRect,Oe=Pe&&4>parseInt(De.split("Firefox/")[1],10),$e=!Ae&&!Me&&!!ue.createElement("canvas").getContext,Ne=ue.documentElement.ontouchstart!==j,Ee={},Le=0,ze=function(){},Fe="div",Re="absolute",He="relative",We="hidden",Be="highcharts-",Ye="visible",Ve="px",je="none",Ue="M",Xe="L",Ge="rgba(192,192,192,"+(Ae?1e-6:.002)+")",qe="",Ke="hover",Je="select",Ze="millisecond",Qe="second",ti="minute",ei="hour",ii="day",ni="week",ri="month",si="year",oi="fill",ai="linearGradient",li="stops",hi="stroke",ci="stroke-width",ui={};de.Highcharts={},q=function(t,e,i){if(!c(e)||isNaN(e))return"Invalid date";t=p(t,"%Y-%m-%d %H:%M:%S");var n,r=new Date(e),s=r[ee](),o=r[ie](),a=r[ne](),l=r[re](),h=r[se](),u=G.lang,d=u.weekdays,f={a:d[o].substr(0,3),A:d[o],d:_(a),e:a,b:u.shortMonths[l],B:u.months[l],m:_(l+1),y:(""+h).substr(2,2),Y:h,H:_(s),I:_(s%12||12),l:s%12||12,M:_(r[te]()),p:12>s?"AM":"PM",P:12>s?"am":"pm",S:_(r.getSeconds()),L:_(fe(e%1e3),3)};for(n in f)t=t.replace("%"+n,f[n]);return i?t.substr(0,1).toUpperCase()+t.substr(1):t},D.prototype={wrapColor:function(t){this.color>=t&&(this.color=0)},wrapSymbol:function(t){this.symbol>=t&&(this.symbol=0)}},Z=e(Ze,1,Qe,1e3,ti,6e4,ei,36e5,ii,864e5,ni,6048e5,ri,2592e6,si,31556952e3),J={init:function(t,e,i){e=e||"";var n,r,s,o,a,l=t.shift,h=e.indexOf("C")>-1,c=h?7:3,u=e.split(" "),d=[].concat(i),p=function(t){for(s=t.length;s--;)t[s]===Ue&&t.splice(s+1,0,t[s+1],t[s+2],t[s+1],t[s+2])};if(h&&(p(u),p(d)),t.isArea&&(o=u.splice(u.length-6,6),a=d.splice(d.length-6,6)),d.length/c>=l)for(;l--;)d=[].concat(d).splice(0,c).concat(d);if(t.shift=0,u.length)for(n=d.length;n>u.length;)r=[].concat(u).splice(u.length-c,c),h&&(r[c-6]=r[c-2],r[c-5]=r[c-1]),u=u.concat(r);return o&&(u=u.concat(o),d=d.concat(a)),[u,d]},step:function(t,e,i,n){var r,s=[],o=t.length;if(1===i)s=n;else if(o===e.length&&1>i)for(;o--;)r=parseFloat(t[o]),s[o]=isNaN(r)?t[o]:i*parseFloat(e[o]-r)+r;else s=e;return s}},function(e){de.HighchartsAdapter=de.HighchartsAdapter||e&&{init:function(t){var i,n=e.fx,r=n.step,s=e.Tween,o=s&&s.propHooks;e.extend(e.easing,{easeOutQuad:function(t,e,i,n,r){return-n*(e/=r)*(e-2)+i}}),e.each(["cur","_default","width","height"],function(t,e){var i,a,l=r;"cur"===e?l=n.prototype:"_default"===e&&s&&(l=o[e],e="set"),i=l[e],i&&(l[e]=function(n){return n=t?n:this,a=n.elem,a.attr?a.attr(n.prop,"cur"===e?j:n.now):i.apply(this,arguments)})}),i=function(e){var i,n=e.elem;e.started||(i=t.init(n,n.d,n.toD),e.start=i[0],e.end=i[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))},s?o.d={set:i}:r.d=i,this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){for(var i=0,n=t.length;n>i;i++)if(e.call(t[i],t[i],i,t)===!1)return i}},getScript:e.getScript,inArray:e.inArray,adapterRun:function(t,i){return e(t)[i]()},grep:e.grep,map:function(t,e){for(var i=[],n=0,r=t.length;r>n;n++)i[n]=e.call(t[n],t[n],n,t);return i},merge:function(){var t=arguments;return e.extend(!0,null,t[0],t[1],t[2],t[3])},offset:function(t){return e(t).offset()},addEvent:function(t,i,n){e(t).bind(i,n)},removeEvent:function(t,i,n){var r=ue.removeEventListener?"removeEventListener":"detachEvent";ue[r]&&!t[r]&&(t[r]=function(){}),e(t).unbind(i,n)},fireEvent:function(i,n,r,s){var o,a=e.Event(n),l="detached"+n;!Me&&r&&(delete r.layerX,delete r.layerY),t(a,r),i[n]&&(i[l]=i[n],i[n]=null),e.each(["preventDefault","stopPropagation"],function(t,e){var i=a[e];a[e]=function(){try{i.call(a)}catch(t){"preventDefault"===e&&(o=!0)}}}),e(i).trigger(a),i[l]&&(i[n]=i[l],i[l]=null),!s||a.isDefaultPrevented()||o||s(a)},washMouseEvent:function(t){var e=t.originalEvent||t;return e.pageX===j&&(e.pageX=t.pageX,e.pageY=t.pageY),e},animate:function(t,i,n){var r=e(t);i.d&&(t.toD=i.d,i.d=1),r.stop(),r.animate(i,n)},stop:function(t){e(t).stop()}}}(de.jQuery);var di=de.HighchartsAdapter,pi=di||{};di&&di.init.call(di,J);var fi=pi.adapterRun,gi=pi.getScript,mi=pi.inArray,yi=pi.each,vi=pi.grep,_i=pi.offset,bi=pi.map,xi=pi.merge,wi=pi.addEvent,ki=pi.removeEvent,Di=pi.fireEvent,Ci=pi.washMouseEvent,Mi=pi.animate,Ti=pi.stop,Si={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};G={colors:["#4572A7","#AA4643","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/2.3.3/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/2.3.3/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,shadow:!0,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:xi(Si,{enabled:!1,formatter:function(){return this.y},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:Re,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#3E576F",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#3E576F",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:Re,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{labelStyle:{fontWeight:"bold",position:He,top:"1em"},style:{position:Re,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,shared:$e,snap:Ne?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var Pi=G.plotOptions,Ii=Pi.line;$();var Ai=function(t){function e(t){a=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(t),a?l=[i(a[1]),i(a[2]),i(a[3]),parseFloat(a[4],10)]:(a=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t),a&&(l=[i(a[1],16),i(a[2],16),i(a[3],16),1]))}function n(e){var i;return i=l&&!isNaN(l[0])?"rgb"===e?"rgb("+l[0]+","+l[1]+","+l[2]+")":"a"===e?l[3]:"rgba("+l.join(",")+")":t}function r(t){if(o(t)&&0!==t){var e;for(e=0;3>e;e++)l[e]+=i(255*t),0>l[e]&&(l[e]=0),l[e]>255&&(l[e]=255)}return this}function s(t){return l[3]=t,this}var a,l=[];return e(t),{get:n,brighten:r,setOpacity:s}};L.prototype={init:function(t,e){var i=this;i.element="span"===e?g(e):ue.createElementNS(Ie,e),i.renderer=t,i.attrSetters={}},animate:function(t,e,i){var n=p(e,K,!0);Ti(this),n?(n=xi(n),i&&(n.complete=i),Mi(this,t,n)):(this.attr(t),i&&i())},attr:function(t,e){var r,s,o,a,l,h,d,p,f,g=this,m=g.element,y=m.nodeName.toLowerCase(),v=g.renderer,_=g.attrSetters,b=g.shadows,x=g;if(n(t)&&c(e)&&(r=t,t={},t[r]=e),n(t))r=t,"circle"===y?r={x:"cx",y:"cy"}[r]||r:"strokeWidth"===r&&(r="stroke-width"),x=u(m,r)||g[r]||0,"d"!==r&&"visibility"!==r&&(x=parseFloat(x));else for(r in t)if(h=!1,s=t[r],o=_[r]&&_[r].call(g,s,r),o!==!1){if(o!==j&&(s=o),"d"===r)s&&s.join&&(s=s.join(" ")),/(NaN| {2}|^$)/.test(s)&&(s="M 0 0");else if("x"===r&&"text"===y){for(a=0;m.childNodes.length>a;a++)l=m.childNodes[a],u(l,"x")===u(m,"x")&&u(l,"x",s);g.rotation&&u(m,"transform","rotate("+g.rotation+" "+s+" "+i(t.y||u(m,"y"))+")")}else if("fill"===r)s=v.color(s,m,r);else if("circle"!==y||"x"!==r&&"y"!==r)if("rect"===y&&"r"===r)u(m,{rx:s,ry:s}),h=!0;else if("translateX"===r||"translateY"===r||"rotation"===r||"verticalAlign"===r)f=!0,h=!0;else if("stroke"===r)s=v.color(s,m,r);else if("dashstyle"===r){if(r="stroke-dasharray",s=s&&s.toLowerCase(),"solid"===s)s=je;else if(s){for(s=s.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),a=s.length;a--;)s[a]=i(s[a])*t["stroke-width"];s=s.join(",")}}else"isTracker"===r?g[r]=s:"width"===r?s=i(s):"align"===r?(r="text-anchor",s={left:"start",center:"middle",right:"end"}[s]):"title"===r&&(d=m.getElementsByTagName("title")[0],d||(d=ue.createElementNS(Ie,"title"),m.appendChild(d)),d.textContent=s);else r={x:"cx",y:"cy"}[r]||r;if("strokeWidth"===r&&(r="stroke-width"),Se&&"stroke-width"===r&&0===s&&(s=1e-6),g.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(r)&&(p||(g.symbolAttr(t),p=!0),h=!0),b&&/^(width|height|visibility|x|y|d|transform)$/.test(r))for(a=b.length;a--;)u(b[a],r,"height"===r?ye(s-(b[a].cutHeight||0),0):s);("width"===r||"height"===r)&&"rect"===y&&0>s&&(s=0),g[r]=s,f&&g.updateTransform(),"text"===r?(s!==g.textStr&&delete g.bBox,g.textStr=s,g.added&&v.buildText(g)):h||u(m,r,s)}return x},symbolAttr:function(t){var e=this;yi(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(i){e[i]=p(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":je)},crisp:function(t,e,i,n,r){var s,o,a=this,l={},h={};t=t||a.strokeWidth||a.attr&&a.attr("stroke-width")||0,o=fe(t)%2/2,h.x=ge(e||a.x||0)+o,h.y=ge(i||a.y||0)+o,h.width=ge((n||a.width||0)-2*o),h.height=ge((r||a.height||0)-2*o),h.strokeWidth=t;for(s in h)a[s]!==h[s]&&(a[s]=l[s]=h[s]);return l},css:function(e){var i,n=this,r=n.element,s=e&&e.width&&"text"===r.nodeName.toLowerCase(),o="",a=function(t,e){return"-"+e.toLowerCase()};if(e&&e.color&&(e.fill=e.color),e=t(n.styles,e),n.styles=e,$e&&s&&delete e.width,Me&&!Ae)s&&delete e.width,f(n.element,e);else{for(i in e)o+=i.replace(/([A-Z])/g,a)+":"+e[i]+";";n.attr({style:o})}return s&&n.added&&n.renderer.buildText(n),n},on:function(t,e){var i=e;return Ne&&"click"===t&&(t="touchstart",i=function(t){t.preventDefault(),e()}),this.element["on"+t]=i,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){var t=this;return t.inverted=!0,t.updateTransform(),t},htmlCss:function(e){var i=this,n=i.element,r=e&&"SPAN"===n.tagName&&e.width;return r&&(delete e.width,i.textWidth=r,i.updateTransform()),i.styles=t(i.styles,e),f(i.element,e),i},htmlGetBBox:function(){var t=this,e=t.element,i=t.bBox;return i||("text"===e.nodeName&&(e.style.position=Re),i=t.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),i},htmlUpdateTransform:function(){if(!this.added)return this.alignOnAdd=!0,void 0;var t=this,e=t.renderer,n=t.element,r=t.translateX||0,s=t.translateY||0,o=t.x||0,a=t.y||0,l=t.textAlign||"left",h={left:0,center:.5,right:1}[l],u=l&&"left"!==l,d=t.shadows;if((r||s)&&(f(n,{marginLeft:r,marginTop:s}),d&&yi(d,function(t){f(t,{marginLeft:r+1,marginTop:s+1})})),t.inverted&&yi(n.childNodes,function(t){e.invertChild(t,n)}),"SPAN"===n.tagName){var g,m,y,v,_,b=t.rotation,x=0,w=1,k=0,D=i(t.textWidth),C=t.xCorr||0,M=t.yCorr||0,T=[b,l,n.innerHTML,t.textWidth].join(","),S={};T!==t.cTT&&(c(b)&&(e.isSVG?(_=Me?"-ms-transform":Se?"-webkit-transform":Pe?"MozTransform":Ce?"-o-transform":"",S[_]=S.transform="rotate("+b+"deg)"):(x=b*ke,w=be(x),k=xe(x),S.filter=b?["progid:DXImageTransform.Microsoft.Matrix(M11=",w,", M12=",-k,", M21=",k,", M22=",w,", sizingMethod='auto expand')"].join(""):je),f(n,S)),g=p(t.elemWidth,n.offsetWidth),m=p(t.elemHeight,n.offsetHeight),g>D&&/[ \-]/.test(n.innerText)&&(f(n,{width:D+Ve,display:"block",whiteSpace:"normal"}),g=D),y=e.fontMetrics(n.style.fontSize).b,C=0>w&&-g,M=0>k&&-m,v=0>w*k,C+=k*y*(v?1-h:h),M-=w*y*(b?v?h:1-h:1),u&&(C-=g*h*(0>w?-1:1),b&&(M-=m*h*(0>k?-1:1)),f(n,{textAlign:l})),t.xCorr=C,t.yCorr=M),f(n,{left:o+C+Ve,top:a+M+Ve}),t.cTT=T
}},updateTransform:function(){var t=this,e=t.translateX||0,i=t.translateY||0,n=t.inverted,r=t.rotation,s=[];n&&(e+=t.attr("width"),i+=t.attr("height")),(e||i)&&s.push("translate("+e+","+i+")"),n?s.push("rotate(90) scale(-1,1)"):r&&s.push("rotate("+r+" "+(t.x||0)+" "+(t.y||0)+")"),s.length&&u(t.element,"transform",s.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var n=this;t?(n.alignOptions=t,n.alignByTranslate=e,i||n.renderer.alignedObjects.push(n)):(t=n.alignOptions,e=n.alignByTranslate),i=p(i,n.renderer);var r=t.align,s=t.verticalAlign,o=(i.x||0)+(t.x||0),a=(i.y||0)+(t.y||0),l={};return("right"===r||"center"===r)&&(o+=(i.width-(t.width||0))/{right:1,center:2}[r]),l[e?"translateX":"x"]=fe(o),("bottom"===s||"middle"===s)&&(a+=(i.height-(t.height||0))/({bottom:1,middle:2}[s]||1)),l[e?"translateY":"y"]=fe(a),n[n.placed?"animate":"attr"](l),n.placed=!0,n.alignAttr=l,n},getBBox:function(){var e,i,n=this,r=n.bBox,s=n.renderer,o=n.rotation,a=n.element,l=n.styles,h=o*ke;if(!r){if(a.namespaceURI===Ie||s.forExport){try{r=a.getBBox?t({},a.getBBox()):{width:a.offsetWidth,height:a.offsetHeight}}catch(c){}(!r||0>r.width)&&(r={width:0,height:0})}else r=n.htmlGetBBox();s.isSVG&&(e=r.width,i=r.height,o&&(r.width=_e(i*xe(h))+_e(e*be(h)),r.height=_e(i*be(h))+_e(e*xe(h)))),Me&&l&&"11px"===l.fontSize&&22.700000762939453===i&&(r.height=14),n.bBox=r}return r},show:function(){return this.attr({visibility:Ye})},hide:function(){return this.attr({visibility:We})},add:function(t){var e,n,r,s,o=this.renderer,a=t||o,l=a.element||o.box,h=l.childNodes,d=this.element,p=u(d,"zIndex");if(t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&o.buildText(this),p&&(a.handleZ=!0,p=i(p)),a.handleZ)for(r=0;h.length>r;r++)if(e=h[r],n=u(e,"zIndex"),e!==d&&(i(n)>p||!c(p)&&c(n))){l.insertBefore(d,e),s=!0;break}return s||l.appendChild(d),this.added=!0,Di(this,"add"),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i=this,n=i.element||{},r=i.shadows;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=null,Ti(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(e=0;i.stops.length>e;e++)i.stops[e]=i.stops[e].destroy();i.stops=null}i.safeRemoveChild(n),r&&yi(r,function(t){i.safeRemoveChild(t)}),h(i.renderer.alignedObjects,i);for(t in i)delete i[t];return null},empty:function(){for(var t=this.element,e=t.childNodes,i=e.length;i--;)t.removeChild(e[i])},shadow:function(t,e,i){var n,r,s,o,a,l,h=[],c=this.element;if(t){for(o=p(t.width,3),a=(t.opacity||.15)/o,l=this.parentInverted?"(-1,-1)":"("+p(t.offsetX,1)+", "+p(t.offsetY,1)+")",n=1;o>=n;n++)r=c.cloneNode(0),s=2*o+1-2*n,u(r,{isShadow:"true",stroke:t.color||"black","stroke-opacity":a*n,"stroke-width":s,transform:"translate"+l,fill:je}),i&&(u(r,"height",ye(u(r,"height")-s,0)),r.cutHeight=s),e?e.element.appendChild(r):c.parentNode.insertBefore(r,c),h.push(r);this.shadows=h}return this}};var Oi=function(){this.init.apply(this,arguments)};Oi.prototype={Element:L,init:function(t,e,i,n){var r,s=this,o=location;r=s.createElement("svg").attr({xmlns:Ie,version:"1.1"}),t.appendChild(r.element),s.isSVG=!0,s.box=r.element,s.boxWrapper=r,s.alignedObjects=[],s.url=(Pe||Se)&&ue.getElementsByTagName("base").length?o.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",s.defs=this.createElement("defs").add(),s.forExport=n,s.gradients={},s.setSize(e,i,!1);var a,l;Pe&&t.getBoundingClientRect&&(s.subPixelFix=a=function(){f(t,{left:0,top:0}),l=t.getBoundingClientRect(),f(t,{left:me(l.left)-l.left+Ve,top:me(l.top)-l.top+Ve})},a(),wi(de,"resize",a))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this,e=t.defs;return t.box=null,t.boxWrapper=t.boxWrapper.destroy(),S(t.gradients||{}),t.gradients=null,e&&(t.defs=e.destroy()),t.subPixelFix&&ki(de,"resize",t.subPixelFix),t.alignedObjects=null,null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){function e(e){return v[e]=r.getBBox?r.getBBox().height:t.renderer.fontMetrics(r.style.fontSize).h,fe(v[e]-(v[e-1]||0))}for(var n,r=t.element,s=(""+p(t.textStr,"")).replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),o=r.childNodes,a=/style="([^"]+)"/,l=/href="([^"]+)"/,h=u(r,"x"),c=t.styles,d=c&&c.width&&i(c.width),g=c&&c.lineHeight,m="getComputedStyle",y=o.length,v=[];y--;)r.removeChild(o[y]);d&&!t.added&&this.box.appendChild(r),""===s[s.length-1]&&s.pop(),yi(s,function(s,o){var c,p,y=0;s=s.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),c=s.split("|||"),yi(c,function(s){if(""!==s||1===c.length){var v,_={},b=ue.createElementNS(Ie,"tspan");if(a.test(s)&&(v=s.match(a)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),u(b,"style",v)),l.test(s)&&(u(b,"onclick",'location.href="'+s.match(l)[1]+'"'),f(b,{cursor:"pointer"})),s=(s.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"),b.appendChild(ue.createTextNode(s)),y?_.dx=3:_.x=h,y||(o&&(!Ae&&t.renderer.forExport&&f(b,{display:"block"}),p=de[m]&&i(de[m](n,null).getPropertyValue("line-height")),(!p||isNaN(p))&&(p=g||n.offsetHeight||e(o)||18),u(b,"dy",p)),n=b),u(b,_),r.appendChild(b),y++,d)for(var x,w,k=s.replace(/([^\^])-/g,"$1- ").split(" "),D=[];k.length||D.length;)delete t.bBox,w=t.getBBox().width,x=w>d,x&&1!==k.length?(b.removeChild(b.firstChild),D.unshift(k.pop())):(k=D,D=[],k.length&&(b=ue.createElementNS(Ie,"tspan"),u(b,{dy:g||16,x:h}),v&&u(b,"style",v),r.appendChild(b),w>d&&(d=w))),k.length&&b.appendChild(ue.createTextNode(k.join(" ").replace(/- /g,"-")))}})})},button:function(i,n,r,s,o,a,l){var h,c,u,d,p,f=this.label(i,n,r),g=0,m="style",y={x1:0,y1:0,x2:0,y2:1};return o=xi(e(ci,1,hi,"#999",oi,e(ai,y,li,[[0,"#FFF"],[1,"#DDD"]]),"r",3,"padding",3,m,e("color","black")),o),u=o[m],delete o[m],a=xi(o,e(hi,"#68A",oi,e(ai,y,li,[[0,"#FFF"],[1,"#ACF"]])),a),d=a[m],delete a[m],l=xi(o,e(hi,"#68A",oi,e(ai,y,li,[[0,"#9BD"],[1,"#CDF"]])),l),p=l[m],delete l[m],wi(f.element,"mouseenter",function(){f.attr(a).css(d)}),wi(f.element,"mouseleave",function(){h=[o,a,l][g],c=[u,d,p][g],f.attr(h).css(c)}),f.setState=function(t){g=t,t?2===t&&f.attr(l).css(p):f.attr(o).css(u)},f.on("click",function(){s.call(f)}).attr(o).css(t({cursor:"default"},u))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=fe(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=fe(t[2])+e%2/2),t},path:function(e){var i={fill:je};return s(e)?i.d=e:r(e)&&t(i,e),this.createElement("path").attr(i)},circle:function(t,e,i){var n=r(t)?t:{x:t,y:e,r:i};return this.createElement("circle").attr(n)},arc:function(t,e,i,n,s,o){return r(t)&&(e=t.y,i=t.r,n=t.innerR,s=t.start,o=t.end,t=t.x),this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:n||0,start:s||0,end:o||0})},rect:function(t,e,i,n,s,o){s=r(t)?t.r:s;var a=this.createElement("rect").attr({rx:s,ry:s,fill:je});return a.attr(r(t)?t:a.crisp(o,t,e,ye(i,0),ye(n,0)))},setSize:function(t,e,i){var n=this,r=n.alignedObjects,s=r.length;for(n.width=t,n.height=e,n.boxWrapper[p(i,!0)?"animate":"attr"]({width:t,height:e});s--;)r[s].align()},g:function(t){var e=this.createElement("g");return c(t)?e.attr({"class":Be+t}):e},image:function(e,i,n,r,s){var o,a={preserveAspectRatio:je};return arguments.length>1&&t(a,{x:i,y:n,width:r,height:s}),o=this.createElement("image").attr(a),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):o.element.setAttribute("hc-svg-href",e),o},symbol:function(e,i,n,r,s,o){var a,l,h,c,u=this.symbols[e],d=u&&u(fe(i),fe(n),r,s,o),p=/^url\((.*?)\)$/;return d?(a=this.path(d),t(a,{symbolName:e,x:i,y:n,width:r,height:s}),o&&t(a,o)):p.test(e)&&(c=function(t,e){t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(-fe(e[0]/2),-fe(e[1]/2))},l=e.match(p)[1],h=Ee[l],a=this.image(l).attr({x:i,y:n}),h?c(a,h):(a.attr({width:0,height:0}),g("img",{onload:function(){var t=this;c(a,Ee[l]=[t.width,t.height])},src:l}))),a},symbols:{circle:function(t,e,i,n){var r=.166*i;return[Ue,t+i/2,e,"C",t+i+r,e,t+i+r,e+n,t+i/2,e+n,"C",t-r,e+n,t-r,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return[Ue,t,e,Xe,t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return[Ue,t+i/2,e,Xe,t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return[Ue,t,e,Xe,t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return[Ue,t+i/2,e,Xe,t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,r){var s=r.start,o=r.r||i||n,a=r.end-1e-6,l=r.innerR,h=r.open,c=be(s),u=xe(s),d=be(a),p=xe(a),f=we>r.end-s?0:1;return[Ue,t+o*c,e+o*u,"A",o,o,0,f,1,t+o*d,e+o*p,h?Ue:Xe,t+l*d,e+l*p,"A",l,l,0,f,0,t+l*c,e+l*u,h?"":"Z"]}},clipRect:function(t,e,i,n){var r,s=Be+Le++,o=this.createElement("clipPath").attr({id:s}).add(this.defs);return r=this.rect(t,e,i,n,0).add(o),r.id=s,r.clipPath=o,r},color:function(e,i,n){var r,o,a=this,l=/^rgba/;if(e&&e.linearGradient?o="linearGradient":e&&e.radialGradient&&(o="radialGradient"),o){var h,d,p,f=e[o],g=a.gradients,m=i.radialReference;return f.id&&g[f.id]||(s(f)&&(e[o]=f={x1:f[0],y1:f[1],x2:f[2],y2:f[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&m&&!c(f.gradientUnits)&&t(f,{cx:m[0]-m[2]/2+f.cx*m[2],cy:m[1]-m[2]/2+f.cy*m[2],r:f.r*m[2],gradientUnits:"userSpaceOnUse"}),f.id=Be+Le++,g[f.id]=h=a.createElement(o).attr(f).add(a.defs),h.stops=[],yi(e.stops,function(t){var e;l.test(t[1])?(r=Ai(t[1]),d=r.get("rgb"),p=r.get("a")):(d=t[1],p=1),e=a.createElement("stop").attr({offset:t[0],"stop-color":d,"stop-opacity":p}).add(h),h.stops.push(e)})),"url("+a.url+"#"+f.id+")"}return l.test(e)?(r=Ai(e),u(i,n+"-opacity",r.get("a")),r.get("rgb")):(i.removeAttribute(n+"-opacity"),e)},text:function(t,e,i,n){var r,s=this,o=G.chart.style,a=$e||!Ae&&s.forExport;return n&&!s.forExport?s.html(t,e,i):(e=fe(p(e,0)),i=fe(p(i,0)),r=s.createElement("text").attr({x:e,y:i,text:t}).css({fontFamily:o.fontFamily,fontSize:o.fontSize}),a&&r.css({position:Re}),r.x=e,r.y=i,r)},html:function(e,i,n){var r=G.chart.style,s=this.createElement("span"),o=s.attrSetters,a=s.element,l=s.renderer;return o.text=function(t){return t!==a.innerHTML&&delete this.bBox,a.innerHTML=t,!1},o.x=o.y=o.align=function(t,e){return"align"===e&&(e="textAlign"),s[e]=t,s.htmlUpdateTransform(),!1},s.attr({text:e,x:fe(i),y:fe(n)}).css({position:Re,whiteSpace:"nowrap",fontFamily:r.fontFamily,fontSize:r.fontSize}),s.css=s.htmlCss,l.isSVG&&(s.add=function(e){var i,n,r=l.box.parentNode,o=[];if(e){if(i=e.div,!i){for(n=e;n;)o.push(n),n=n.parentGroup;yi(o.reverse(),function(e){var n;i=e.div=e.div||g(Fe,{className:u(e.element,"class")},{position:Re,left:(e.translateX||0)+Ve,top:(e.translateY||0)+Ve},i||r),n=i.style,t(e.attrSetters,{translateX:function(t){n.left=t+Ve},translateY:function(t){n.top=t+Ve},visibility:function(t,e){n[e]=t}})})}}else i=r;return i.appendChild(a),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s},fontMetrics:function(t){t=i(t||11);var e=24>t?t+4:fe(1.2*t),n=fe(.8*e);return{h:e,b:n}},label:function(e,i,n,r,s,o,a,l,h){function u(){var t,e=D.element.style;m=(void 0===y||void 0===v||k.styles.textAlign)&&D.getBBox(),k.width=(y||m.width||0)+2*M,k.height=(v||m.height||0)+2*M,x=M+w.fontMetrics(e&&e.fontSize).b,g||(t=l?-x:0,k.box=g=r?w.symbol(r,-C*M,t,k.width,k.height):w.rect(-C*M,t,k.width,k.height,0,S[ci]),g.add(k)),g.attr(xi({width:k.width,height:k.height},S)),S=null}function d(){var t,e=k.styles,i=e&&e.textAlign,n=M*(1-C);t=l?0:x,!c(y)||"center"!==i&&"right"!==i||(n+={center:.5,right:1}[i]*(y-m.width)),(n!==D.x||t!==D.y)&&D.attr({x:n,y:t}),D.x=n,D.y=t}function p(t,e){g?g.attr(t,e):S[t]=e}function f(){D.add(k),k.attr({text:e,x:i,y:n}),c(s)&&k.attr({anchorX:s,anchorY:o})}var g,m,y,v,_,b,x,w=this,k=w.g(h),D=w.text("",0,0,a).attr({zIndex:1}),C=0,M=3,T=0,S={},P=k.attrSetters;wi(k,"add",f),P.width=function(t){return y=t,!1},P.height=function(t){return v=t,!1},P.padding=function(t){return c(t)&&t!==M&&(M=t,d()),!1},P.align=function(t){return C={left:0,center:.5,right:1}[t],!1},P.text=function(t,e){return D.attr(e,t),u(),d(),!1},P[ci]=function(t,e){return T=t%2/2,p(e,t),!1},P.stroke=P.fill=P.r=function(t,e){return p(e,t),!1},P.anchorX=function(t,e){return s=t,p(e,t+T-_),!1},P.anchorY=function(t,e){return o=t,p(e,t-b),!1},P.x=function(t){return k.x=t,t-=C*((y||m.width)+M),_=fe(t),k.attr("translateX",_),!1},P.y=function(t){return b=k.y=fe(t),k.attr("translateY",t),!1};var I=k.css;return t(k,{css:function(t){if(t){var e={};t=xi({},t),yi(["fontSize","fontWeight","fontFamily","color","lineHeight","width"],function(i){t[i]!==j&&(e[i]=t[i],delete t[i])}),D.css(e)}return I.call(k,t)},getBBox:function(){return g.getBBox()},shadow:function(t){return g.shadow(t),k},destroy:function(){ki(k,"add",f),ki(k.element,"mouseenter"),ki(k.element,"mouseleave"),D&&(D=D.destroy()),g&&(g=g.destroy()),L.prototype.destroy.call(k)}})}},U=Oi;var $i;if(!Ae&&!$e){var Ni={init:function(t,e){var i=this,n=["<",e,' filled="f" stroked="f"'],r=["position: ",Re,";"];("shape"===e||e===Fe)&&r.push("left:0;top:0;width:1px;height:1px;"),Te&&r.push("visibility: ",e===Fe?We:Ye),n.push(' style="',r.join(""),'"/>'),e&&(n=e===Fe||"span"===e||"img"===e?n.join(""):t.prepVML(n),i.element=g(n)),i.renderer=t,i.attrSetters={}},add:function(t){var e=this,i=e.renderer,n=e.element,r=i.box,s=t&&t.inverted,o=t?t.element||t:r;return s&&i.invertChild(n,o),o.appendChild(n),e.added=!0,e.alignOnAdd&&!e.deferUpdateTransform&&e.updateTransform(),Di(e,"add"),e},updateTransform:L.prototype.htmlUpdateTransform,attr:function(t,e){var i,r,s,a,l,h,d=this,p=d.element||{},f=p.style,m=p.nodeName,y=d.renderer,v=d.symbolName,_=d.shadows,b=d.attrSetters,x=d;if(n(t)&&c(e)&&(i=t,t={},t[i]=e),n(t))i=t,x="strokeWidth"===i||"stroke-width"===i?d.strokeweight:d[i];else for(i in t)if(r=t[i],h=!1,a=b[i]&&b[i].call(d,r,i),a!==!1&&null!==r){if(a!==j&&(r=a),v&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(i))l||(d.symbolAttr(t),l=!0),h=!0;else if("d"===i){r=r||[],d.d=r.join(" "),s=r.length;for(var w=[];s--;)w[s]=o(r[s])?fe(10*r[s])-5:"Z"===r[s]?"x":r[s];if(r=w.join(" ")||"x",p.path=r,_)for(s=_.length;s--;)_[s].path=_[s].cutOff?this.cutOffPath(r,_[s].cutOff):r;h=!0}else if("visibility"===i){if(_)for(s=_.length;s--;)_[s].style[i]=r;"DIV"===m&&(r=r===We?"-999em":0,i="top"),f[i]=r,h=!0}else if("zIndex"===i)r&&(f[i]=r),h=!0;else if("width"===i||"height"===i)r=ye(0,r),this[i]=r,d.updateClipping?(d[i]=r,d.updateClipping()):f[i]=r,h=!0;else if("x"===i||"y"===i)d[i]=r,f[{x:"left",y:"top"}[i]]=r;else if("class"===i)p.className=r;else if("stroke"===i)r=y.color(r,p,i),i="strokecolor";else if("stroke-width"===i||"strokeWidth"===i)p.stroked=r?!0:!1,i="strokeweight",d[i]=r,o(r)&&(r+=Ve);else if("dashstyle"===i){var k=p.getElementsByTagName("stroke")[0]||g(y.prepVML(["<stroke/>"]),null,null,p);k[i]=r||"solid",d.dashstyle=r,h=!0}else"fill"===i?"SPAN"===m?f.color=r:(p.filled=r!==je?!0:!1,r=y.color(r,p,i,d),i="fillcolor"):"shape"===m&&"rotation"===i?(d[i]=r,p.style.left=-fe(xe(r*ke)+1)+Ve,p.style.top=fe(be(r*ke))+Ve):"translateX"===i||"translateY"===i||"rotation"===i?(d[i]=r,d.updateTransform(),h=!0):"text"===i&&(this.bBox=null,p.innerHTML=r,h=!0);h||(Te?p[i]=r:u(p,i,r))}return x},clip:function(t){var e,i,n=this,r=n.element,s=r.parentNode;return t?(e=t.members,e.push(n),n.destroyClip=function(){h(e,n)},s&&"highcharts-tracker"===s.className&&!Te&&f(r,{visibility:We}),i=t.getCSS(n)):(n.destroyClip&&n.destroyClip(),i={clip:Te?"inherit":"rect(auto)"}),n.css(i)},css:L.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&P(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),L.prototype.destroy.apply(this)},empty:function(){for(var t,e=this.element,i=e.childNodes,n=i.length;n--;)t=i[n],t.parentNode.removeChild(t)},on:function(t,e){return this.element["on"+t]=function(){var t=de.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var n;return t=t.split(/[ ,]/),n=t.length,(9===n||11===n)&&(t[n-4]=t[n-2]=i(t[n-2])-10*e),t.join(" ")},shadow:function(t,e,n){var r,s,o,a,l,h,c,u=[],d=this.element,f=this.renderer,m=d.style,y=d.path;if(y&&"string"!=typeof y.value&&(y="x"),l=y,t){for(h=p(t.width,3),c=(t.opacity||.15)/h,r=1;3>=r;r++)a=2*h+1-2*r,n&&(l=this.cutOffPath(y.value,a+.5)),o=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',d.style.cssText,'" />'],s=g(f.prepVML(o),null,{left:i(m.left)+p(t.offsetX,1),top:i(m.top)+p(t.offsetY,1)}),n&&(s.cutOff=a+1),o=['<stroke color="',t.color||"black",'" opacity="',c*r,'"/>'],g(f.prepVML(o),null,null,s),e?e.element.appendChild(s):d.parentNode.insertBefore(s,d),u.push(s);this.shadows=u}return this}};Ni=m(L,Ni);var Ei={Element:Ni,isIE8:De.indexOf("MSIE 8.0")>-1,init:function(t,e,i){var n,r,s=this;s.alignedObjects=[],n=s.createElement(Fe),r=n.element,r.style.position=He,t.appendChild(n.element),s.box=r,s.boxWrapper=n,s.setSize(e,i,!1),ue.namespaces.hcv||(ue.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),ue.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,i,n,s){var o=this.createElement(),a=r(e);return t(o,{members:[],left:a?e.x:e,top:a?e.y:i,width:a?e.width:n,height:a?e.height:s,getCSS:function(e){var i=e.inverted,n=this,r=n.top,s=n.left,o=s+n.width,a=r+n.height,l={clip:"rect("+fe(i?s:r)+"px,"+fe(i?a:o)+"px,"+fe(i?o:a)+"px,"+fe(i?r:s)+"px)"};return!i&&Te&&"IMG"!==e.element.nodeName&&t(l,{width:o+Ve,height:a+Ve}),l},updateClipping:function(){yi(o.members,function(t){t.css(o.getCSS(t))})}})},color:function(t,e,i,n){var r,s,o,a=this,l=/^rgba/,h=je;if(t&&t.linearGradient?o="gradient":t&&t.radialGradient&&(o="pattern"),o){var c,u,d,p,f,m,y,v,_,b,x,w,k=t.linearGradient||t.radialGradient,D="",C=t.stops,M=[],T=function(){s=['<fill colors="'+M.join(",")+'" opacity="',v,'" o:opacity2="',y,'" type="',o,'" ',D,'focus="100%" method="any" />'],g(a.prepVML(s),null,null,e)};if(x=C[0],w=C[C.length-1],x[0]>0&&C.unshift([0,x[1]]),1>w[0]&&C.push([1,w[1]]),yi(C,function(t,e){l.test(t[1])?(r=Ai(t[1]),c=r.get("rgb"),u=r.get("a")):(c=t[1],u=1),M.push(100*t[0]+"% "+c),e?(v=u,_=c):(y=u,b=c)}),"fill"===i)if("gradient"===o)d=k.x1||k[0]||0,p=k.y1||k[1]||0,f=k.x2||k[2]||0,m=k.y2||k[3]||0,D='angle="'+(90-180*pe.atan((m-p)/(f-d))/we)+'"',T();else{var S,P=k.r,I=2*P,A=2*P,O=k.cx,$=k.cy,N=e.radialReference,E=function(){N&&(S=n.getBBox(),O+=(N[0]-S.x)/S.width-.5,$+=(N[1]-S.y)/S.height-.5,I*=N[2]/S.width,A*=N[2]/S.height),D='src="'+G.global.VMLRadialGradientURL+'" '+'size="'+I+","+A+'" '+'origin="0.5,0.5" '+'position="'+O+","+$+'" '+'color2="'+b+'" ',T()};n.added?E():wi(n,"add",E),h=_}else h=c}else if(l.test(t)&&"IMG"!==e.tagName)r=Ai(t),s=["<",i,' opacity="',r.get("a"),'"/>'],g(this.prepVML(s),null,null,e),h=r.get("rgb");else{var L=e.getElementsByTagName(i);L.length&&(L[0].opacity=1),h=t}return h},prepVML:function(t){var e="display:inline-block;behavior:url(#default#VML);",i=this.isIE8;return t=t.join(""),i?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="'+e+'" />'):t.replace('style="','style="'+e)):t=t.replace("<","<hcv:"),t},text:Oi.prototype.html,path:function(e){var i={coordsize:"10 10"};return s(e)?i.d=e:r(e)&&t(i,e),this.createElement("shape").attr(i)},circle:function(t,e,i){return this.symbol("circle").attr({x:t-i,y:e-i,width:2*i,height:2*i})},g:function(t){var e,i;return t&&(i={className:Be+t,"class":Be+t}),e=this.createElement(Fe).attr(i)},image:function(t,e,i,n,r){var s=this.createElement("img").attr({src:t});return arguments.length>1&&s.attr({x:e,y:i,width:n,height:r}),s},rect:function(t,e,i,n,s,o){r(t)&&(e=t.y,i=t.width,n=t.height,o=t.strokeWidth,t=t.x);var a=this.symbol("rect");return a.r=s,a.attr(a.crisp(o,t,e,ye(i,0),ye(n,0)))},invertChild:function(t,e){var n=e.style;f(t,{flip:"x",left:i(n.width)-1,top:i(n.height)-1,rotation:-90})},symbols:{arc:function(t,e,i,n,r){var s,o=r.start,a=r.end,l=r.r||i||n,h=be(o),c=xe(o),u=be(a),d=xe(a),p=r.innerR,f=.08/l,g=p&&.1/p||0;return 0===a-o?["x"]:(f>2*we-a+o?u=-f:g>a-o&&(u=be(o+g)),s=["wa",t-l,e-l,t+l,e+l,t+l*h,e+l*c,t+l*u,e+l*d],r.open&&!p&&s.push("e",Ue,t,e),s.push("at",t-p,e-p,t+p,e+p,t+p*u,e+p*d,t+p*h,e+p*c,"x","e"),s)},circle:function(t,e,i,n){return["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,r){var s,o,a=t+i,l=e+n;return c(r)&&r.r?(o=ve(r.r,i,n),s=[Ue,t+o,e,Xe,a-o,e,"wa",a-2*o,e,a,e+2*o,a-o,e,a,e+o,Xe,a,l-o,"wa",a-2*o,l-2*o,a,l,a,l-o,a-o,l,Xe,t+o,l,"wa",t,l-2*o,t+2*o,l,t+o,l,t,l-o,Xe,t,e+o,"wa",t,e,t+2*o,e+2*o,t,e+o,t+o,e,"x","e"]):s=Oi.prototype.symbols.square.apply(0,arguments),s}}};$i=function(){this.init.apply(this,arguments)},$i.prototype=xi(Oi.prototype,Ei),U=$i}var Li,zi;$e&&(Li=function(){Ie="http://www.w3.org/1999/xhtml"},Li.prototype.symbols={},zi=function(){function t(){var t,i=e.length;for(t=0;i>t;t++)e[t]();e=[]}var e=[];return{push:function(i,n){0===e.length&&gi(n,t),e.push(i)}}}()),U=$i||Li||Oi,z.prototype={addLabel:function(){var e,i,n,r,s=this,a=s.axis,h=a.options,u=a.chart,d=a.horiz,p=a.categories,f=s.pos,g=h.labels,m=a.tickPositions,y=p&&d&&p.length&&!g.step&&!g.staggerLines&&!g.rotation&&u.plotWidth/m.length||!d&&u.plotWidth/2,v=f===m[0],_=f===m[m.length-1],b=p&&c(p[f])?p[f]:f,x=s.label,w=m.info;a.isDatetimeAxis&&w&&(r=h.dateTimeLabelFormats[w.higherRanks[f]||w.unitName]),s.isFirst=v,s.isLast=_,e=a.labelFormatter.call({axis:a,chart:u,isFirst:v,isLast:_,dateTimeLabelFormat:r,value:a.isLog?A(l(b)):b}),i=y&&{width:ye(1,fe(y-2*(g.padding||10)))+Ve},i=t(i,g.style),c(x)?x&&x.attr({text:e}).css(i):(n={align:g.align},o(g.rotation)&&(n.rotation=g.rotation),s.label=c(e)&&g.enabled?u.renderer.text(e,0,0,g.useHTML).attr(n).css(i).add(a.labelGroup):null)},getLabelSize:function(){var t=this.label,e=this.axis;return t?(this.labelBBox=t.getBBox())[e.horiz?"height":"width"]:0},getLabelSides:function(){var t=this.labelBBox,e=this.axis,i=e.options,n=i.labels,r=t.width,s=r*{left:0,center:.5,right:1}[n.align]-n.x;return[-s,r-s]},handleOverflow:function(t,e){var i=!0,n=this.axis,r=n.chart,s=this.isFirst,o=this.isLast,a=e.x,l=n.reversed,h=n.tickPositions;if(s||o){var c=this.getLabelSides(),u=c[0],d=c[1],p=r.plotLeft,f=p+n.len,g=n.ticks[h[t+(s?1:-1)]],m=g&&g.label.xy&&g.label.xy.x+g.getLabelSides()[s?0:1];s&&!l||o&&l?p>a+u&&(a=p-u,g&&a+d>m&&(i=!1)):a+d>f&&(a=f-d,g&&m>a+u&&(i=!1)),e.x=a}return i},getPosition:function(t,e,i,n){var r=this.axis,s=r.chart,o=n&&s.oldChartHeight||s.chartHeight;return{x:t?r.translate(e+i,null,null,n)+r.transB:r.left+r.offset+(r.opposite?(n&&s.oldChartWidth||s.chartWidth)-r.right-r.left:0),y:t?o-r.bottom+r.offset-(r.opposite?r.height:0):o-r.translate(e+i,null,null,n)-r.transB}},getLabelPosition:function(t,e,n,r,s,o,a,l){var h=this.axis,u=h.transA,d=h.reversed,p=h.staggerLines;return t=t+s.x-(o&&r?o*u*(d?-1:1):0),e=e+s.y-(o&&!r?o*u*(d?1:-1):0),c(s.y)||(e+=.9*i(n.styles.lineHeight)-n.getBBox().height/2),p&&(e+=16*(a/(l||1)%p)),{x:t,y:e}},getMarkPath:function(t,e,i,n,r,s){return s.crispLine([Ue,t,e,Xe,t+(r?0:-i),e+(r?i:0)],n)},render:function(t,e){var i,n,r,s=this,o=s.axis,a=o.options,l=o.chart,h=l.renderer,c=o.horiz,u=s.type,d=s.label,f=s.pos,g=a.labels,m=s.gridLine,y=u?u+"Grid":"grid",v=u?u+"Tick":"tick",_=a[y+"LineWidth"],b=a[y+"LineColor"],x=a[y+"LineDashStyle"],w=a[v+"Length"],k=a[v+"Width"]||0,D=a[v+"Color"],C=a[v+"Position"],M=s.mark,T=g.step,S=!0,P=o.tickmarkOffset,I=s.getPosition(c,f,P,e),A=I.x,O=I.y,$=o.staggerLines;_&&(i=o.getPlotLinePath(f+P,_,e),m===j&&(r={stroke:b,"stroke-width":_},x&&(r.dashstyle=x),u||(r.zIndex=1),s.gridLine=m=_?h.path(i).attr(r).add(o.gridGroup):null),!e&&m&&i&&m[s.isNew?"attr":"animate"]({d:i})),k&&w&&("inside"===C&&(w=-w),o.opposite&&(w=-w),n=s.getMarkPath(A,O,w,k,c,h),M?M.animate({d:n}):s.mark=h.path(n).attr({stroke:D,"stroke-width":k}).add(o.axisGroup)),d&&!isNaN(A)&&(d.xy=I=s.getLabelPosition(A,O,d,c,g,P,t,T),s.isFirst&&!p(a.showFirstLabel,1)||s.isLast&&!p(a.showLastLabel,1)?S=!1:$||!c||"justify"!==g.overflow||s.handleOverflow(t,I)||(S=!1),T&&t%T&&(S=!1),S?(d[s.isNew?"attr":"animate"](I),d.show(),s.isNew=!1):d.hide())},destroy:function(){S(this,this.axis)}},F.prototype={render:function(){var t,e,i,n,r,s,o,l=this,h=l.axis,u=h.horiz,d=(h.pointRange||0)/2,f=l.options,g=f.label,m=l.label,y=f.width,v=f.to,_=f.from,b=c(_)&&c(v),x=f.value,w=f.dashStyle,k=l.svgElem,D=[],C=f.color,S=f.zIndex,P=f.events,I=h.chart.renderer;if(h.isLog&&(_=a(_),v=a(v),x=a(x)),y)D=h.getPlotLinePath(x,y),o={stroke:C,"stroke-width":y},w&&(o.dashstyle=w);else{if(!b)return;_=ye(_,h.min-d),v=ve(v,h.max+d),D=h.getPlotBandPath(_,v,f),o={fill:C},f.borderWidth&&(o.stroke=f.borderColor,o["stroke-width"]=f.borderWidth)}if(c(S)&&(o.zIndex=S),k)D?k.animate({d:D},null,k.onGetPath):(k.hide(),k.onGetPath=function(){k.show()});else if(D&&D.length&&(l.svgElem=k=I.path(D).attr(o).add(),P)){t=function(t){k.on(t,function(e){P[t].apply(l,[e])})};for(e in P)t(e)}return g&&c(g.text)&&D&&D.length&&h.width>0&&h.height>0?(g=xi({align:u&&b&&"center",x:u?!b&&4:10,verticalAlign:!u&&b&&"middle",y:u?b?16:10:b?6:-4,rotation:u&&!b&&90},g),m||(l.label=m=I.text(g.text,0,0).attr({align:g.textAlign||g.align,rotation:g.rotation,zIndex:S}).css(g.style).add()),i=[D[1],D[4],p(D[6],D[1])],n=[D[2],D[5],p(D[7],D[2])],r=M(i),s=M(n),m.align(g,!1,{x:r,y:s,width:T(i)-r,height:T(n)-s}),m.show()):m&&m.hide(),l},destroy:function(){var t=this,e=t.axis;h(e.plotLinesAndBands,t),S(t,this.axis)}},R.prototype={destroy:function(){S(this,this.axis)},setTotal:function(t){this.total=t,this.cum=t},render:function(t){var e=this.options.formatter.call(this);this.label?this.label.attr({text:e,visibility:We}):this.label=this.axis.chart.renderer.text(e,0,0).css(this.options.style).attr({align:this.textAlign,rotation:this.options.rotation,visibility:We}).add(t)},setOffset:function(t,e){var i,n=this,r=n.axis,s=r.chart,o=s.inverted,a=this.isNegative,l=r.translate(this.percent?100:this.total,0,0,0,1),h=r.translate(0),c=_e(l-h),u=s.xAxis[0].translate(this.x)+t,d=s.plotHeight,p={x:o?a?l:l-c:u,y:o?d-u-e:a?d-l-c:d-l,width:o?c:e,height:o?e:c},f=this.label;f&&(f.align(this.alignOptions,null,p),i=f.alignAttr,f.attr({visibility:this.options.crop===!1||s.isInsidePlot(i.x,i.y)?Ae?"inherit":Ye:We}))}},H.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Si,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:!1,formatter:function(){return this.total},style:Si.style}},defaultLeftAxisOptions:{labels:{align:"right",x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{align:"left",x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{align:"center",x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{align:"center",x:0,y:-5},title:{rotation:0}},init:function(t,e){var i=e.isX,n=this;n.horiz=t.inverted?!i:i,n.isXAxis=i,n.xOrY=i?"x":"y",n.opposite=e.opposite,n.side=n.horiz?n.opposite?0:2:n.opposite?1:3,n.setOptions(e);var r=this.options,s=r.type,o="datetime"===s;n.labelFormatter=r.labels.formatter||n.defaultLabelFormatter,n.staggerLines=n.horiz&&r.labels.staggerLines,n.userOptions=e,n.minPixelPadding=0,n.chart=t,n.reversed=r.reversed,n.categories=r.categories,n.isLog="logarithmic"===s,n.isLinked=c(r.linkedTo),n.isDatetimeAxis=o,n.tickmarkOffset=r.categories&&"between"===r.tickmarkPlacement?.5:0,n.ticks={},n.minorTicks={},n.plotLinesAndBands=[],n.alternateBands={},n.len=0,n.minRange=n.userMinRange=r.minRange||r.maxZoom,n.range=r.range,n.offset=r.offset||0,n.stacks={},n.max=null,n.min=null;var h,u=n.options.events;t.axes.push(n),t[i?"xAxis":"yAxis"].push(n),n.series=[],t.inverted&&i&&n.reversed===j&&(n.reversed=!0),n.removePlotBand=n.removePlotBandOrLine,n.removePlotLine=n.removePlotBandOrLine,n.addPlotBand=n.addPlotBandOrLine,n.addPlotLine=n.addPlotBandOrLine;for(h in u)wi(n,h,u[h]);n.isLog&&(n.val2lin=a,n.lin2val=l)},setOptions:function(t){this.options=xi(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],xi(G[this.isXAxis?"xAxis":"yAxis"],t))},defaultLabelFormatter:function(){var t,e,i=this.axis,n=this.value,r=i.categories,s=this.dateTimeLabelFormat,o=G.lang.numericSymbols,a=o&&o.length,l=i.isLog?n:i.tickInterval;if(r)e=n;else if(s)e=q(s,n);else if(a&&l>=1e3)for(;a--&&e===j;)t=Math.pow(1e3,a+1),l>=t&&null!==o[a]&&(e=v(n/t,-1)+o[a]);return e===j&&(e=n>=1e3?v(n,0):v(n,-1)),e},getSeriesExtremes:function(){var t,e=this,i=e.chart,n=e.stacks,r=[],s=[];e.hasVisibleSeries=!1,e.dataMin=e.dataMax=null,yi(e.series,function(o){if(o.visible||!i.options.chart.ignoreHiddenSeries){var a,l,h,u,d,f,g,m,y,v,_,b=o.options,x=b.threshold,w=[],k=0;if(e.hasVisibleSeries=!0,e.isLog&&0>=x&&(x=b.threshold=null),e.isXAxis)g=o.xData,g.length&&(e.dataMin=ve(p(e.dataMin,g[0]),M(g)),e.dataMax=ye(p(e.dataMax,g[0]),T(g)));else{var D,C,S,P,I=o.cropped,O=o.xAxis.getExtremes(),$=!!o.modifyValue;for(a=b.stacking,e.usePercentage="percent"===a,a&&(d=b.stack,u=o.type+p(d,""),f="-"+u,o.stackKey=u,l=r[u]||[],r[u]=l,h=s[f]||[],s[f]=h),e.usePercentage&&(e.dataMin=0,e.dataMax=99),g=o.processedXData,m=o.processedYData,_=m.length,t=0;_>t;t++)if(y=g[t],v=m[t],a&&(D=x>v,C=D?h:l,S=D?f:u,v=C[y]=c(C[y])?A(C[y]+v):v,n[S]||(n[S]={}),n[S][y]||(n[S][y]=new R(e,e.options.stackLabels,D,y,d,a)),n[S][y].setTotal(v)),null!==v&&v!==j&&($&&(v=o.modifyValue(v)),I||(g[t+1]||y)>=O.min&&(g[t-1]||y)<=O.max))if(P=v.length)for(;P--;)null!==v[P]&&(w[k++]=v[P]);else w[k++]=v;!e.usePercentage&&w.length&&(e.dataMin=ve(p(e.dataMin,w[0]),M(w)),e.dataMax=ye(p(e.dataMax,w[0]),T(w))),c(x)&&(e.dataMin>=x?(e.dataMin=x,e.ignoreMinPadding=!0):x>e.dataMax&&(e.dataMax=x,e.ignoreMaxPadding=!0))}}})},translate:function(t,e,i,n,r,s){var o,a=this,l=a.len,h=1,c=0,u=n?a.oldTransA:a.transA,d=n?a.oldMin:a.min,p=a.options.ordinal||a.isLog&&r;return u||(u=a.transA),i&&(h*=-1,c=l),a.reversed&&(h*=-1,c-=h*l),e?(a.reversed&&(t=l-t),o=t/u+d,p&&(o=a.lin2val(o))):(p&&(t=a.val2lin(t)),o=h*(t-d)*u+c+h*a.minPixelPadding+(s?u*a.pointRange/2:0)),o},getPlotLinePath:function(t,e,i){var n,r,s,o,a,l=this,h=l.chart,c=l.left,u=l.top,d=l.translate(t,null,null,i),p=i&&h.oldChartHeight||h.chartHeight,f=i&&h.oldChartWidth||h.chartWidth,g=l.transB;return n=s=fe(d+g),r=o=fe(p-d-g),isNaN(d)?a=!0:l.horiz?(r=u,o=p-l.bottom,(c>n||n>c+l.width)&&(a=!0)):(n=c,s=f-l.right,(u>r||r>u+l.height)&&(a=!0)),a?null:h.renderer.crispLine([Ue,n,r,Xe,s,o],e||0)},getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e),n=this.getPlotLinePath(t);return n&&i?n.push(i[4],i[5],i[1],i[2]):n=null,n},getLinearTickPositions:function(t,e,i){var n,r,s=A(ge(e/t)*t),o=A(me(i/t)*t),a=[];for(n=s;o>=n&&(a.push(n),n=A(n+t),n!==r);)r=n;return a},getLogTickPositions:function(t,e,i,n){var r=this,s=r.options,o=r.len,h=[];if(n||(r._minorAutoInterval=null),t>=.5)t=fe(t),h=r.getLinearTickPositions(t,e,i);else if(t>=.08){var c,u,d,f,g,m,y,v=ge(e);for(c=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],u=v;i+1>u&&!y;u++)for(f=c.length,d=0;f>d&&!y;d++)g=a(l(u)*c[d]),g>e&&h.push(m),m>i&&(y=!0),m=g}else{var _=l(e),b=l(i),w=s[n?"minorTickInterval":"tickInterval"],k="auto"===w?null:w,D=s.tickPixelInterval/(n?5:1),C=n?o/r.tickPositions.length:o;
t=p(k,r._minorAutoInterval,(b-_)*D/(C||1)),t=x(t,null,pe.pow(10,ge(pe.log(t)/pe.LN10))),h=bi(r.getLinearTickPositions(t,_,b),a),n||(r._minorAutoInterval=t/5)}return n||(r.tickInterval=t),h},getMinorTickPositions:function(){var t,e,i,n=this,r=n.tickPositions,s=n.minorTickInterval,o=[];if(n.isLog)for(i=r.length,e=1;i>e;e++)o=o.concat(n.getLogTickPositions(s,r[e-1],r[e],!0));else for(t=n.min+(r[0]-n.min)%s;n.max>=t;t+=s)o.push(t);return o},adjustForMinRange:function(){var t,e,i,n,r,s,o,a,l=this,h=l.options,u=l.min,d=l.max,f=l.dataMax-l.dataMin>=l.minRange;if(l.isXAxis&&l.minRange===j&&!l.isLog&&(c(h.min)||c(h.max)?l.minRange=null:(yi(l.series,function(t){for(r=t.xData,s=t.xIncrement?1:r.length-1,i=s;i>0;i--)n=r[i]-r[i-1],(e===j||e>n)&&(e=n)}),l.minRange=ve(5*e,l.dataMax-l.dataMin))),l.minRange>d-u){var g=l.minRange;t=(g-d+u)/2,o=[u-t,p(h.min,u-t)],f&&(o[2]=l.dataMin),u=T(o),a=[u+g,p(h.max,u+g)],f&&(a[2]=l.dataMax),d=M(a),g>d-u&&(o[0]=d-g,o[1]=p(h.min,d-g),u=T(o))}l.min=u,l.max=d},setAxisTranslation:function(){var t,e=this,i=e.max-e.min,n=0,r=0,s=0,o=e.linkedParent,a=e.transA;e.isXAxis&&(o?(r=o.minPointOffset,s=o.pointRangePadding):yi(e.series,function(e){var i=e.pointRange,o=e.options.pointPlacement,a=e.closestPointRange;n=ye(n,i),r=ye(r,o?0:i/2),s=ye(s,"on"===o?0:i),!e.noSharedTooltip&&c(a)&&(t=c(t)?ve(t,a):a)}),e.minPointOffset=r,e.pointRangePadding=s,e.pointRange=n,e.closestPointRange=t),e.oldTransA=a,e.translationSlope=e.transA=a=e.len/(i+s||1),e.transB=e.horiz?e.left:e.bottom,e.minPixelPadding=a*r},setTickPositions:function(t){var e,i,n,r,s=this,o=s.chart,l=s.options,h=s.isLog,u=s.isDatetimeAxis,d=s.isXAxis,f=s.isLinked,g=s.options.tickPositioner,m=l.maxPadding,y=l.minPadding,v=l.tickInterval,_=l.minTickInterval,b=l.tickPixelInterval,D=s.categories;if(f?(s.linkedParent=o[d?"xAxis":"yAxis"][l.linkedTo],n=s.linkedParent.getExtremes(),s.min=p(n.min,n.dataMin),s.max=p(n.max,n.dataMax),l.type!==s.linkedParent.options.type&&I(11,1)):(s.min=p(s.userMin,l.min,s.dataMin),s.max=p(s.userMax,l.max,s.dataMax)),h&&(!t&&0>=ve(s.min,p(s.dataMin,s.min))&&I(10,1),s.min=A(a(s.min)),s.max=A(a(s.max))),s.range&&(s.userMin=s.min=ye(s.min,s.max-s.range),s.userMax=s.max,t&&(s.range=null)),s.adjustForMinRange(),D||s.usePercentage||f||!c(s.min)||!c(s.max)||(i=s.max-s.min||1,c(l.min)||c(s.userMin)||!y||!(0>s.dataMin)&&s.ignoreMinPadding||(s.min-=i*y),c(l.max)||c(s.userMax)||!m||!(s.dataMax>0)&&s.ignoreMaxPadding||(s.max+=i*m)),s.tickInterval=s.min===s.max||void 0===s.min||void 0===s.max?1:f&&!v&&b===s.linkedParent.options.tickPixelInterval?s.linkedParent.tickInterval:p(v,D?1:(s.max-s.min)*b/(s.len||1)),d&&!t&&yi(s.series,function(t){t.processData(s.min!==s.oldMin||s.max!==s.oldMax)}),s.setAxisTranslation(t),s.beforeSetTickPositions&&s.beforeSetTickPositions(),s.postProcessTickInterval&&(s.tickInterval=s.postProcessTickInterval(s.tickInterval)),!v&&_>s.tickInterval&&(s.tickInterval=_),u||h||(e=pe.pow(10,ge(pe.log(s.tickInterval)/pe.LN10)),v||(s.tickInterval=x(s.tickInterval,null,e,l))),s.minorTickInterval="auto"===l.minorTickInterval&&s.tickInterval?s.tickInterval/5:l.minorTickInterval,s.tickPositions=r=l.tickPositions||g&&g.apply(s,[s.min,s.max]),r||(r=u?(s.getNonLinearTimeTicks||k)(w(s.tickInterval,l.units),s.min,s.max,l.startOfWeek,s.ordinalPositions,s.closestPointRange,!0):h?s.getLogTickPositions(s.tickInterval,s.min,s.max):s.getLinearTickPositions(s.tickInterval,s.min,s.max),s.tickPositions=r),!f){var C=r[0],M=r[r.length-1],T=s.minPointOffset||0;l.startOnTick?s.min=C:s.min-T>C&&r.shift(),l.endOnTick?s.max=M:M>s.max+T&&r.pop()}},setMaxTicks:function(){var t=this.chart,e=t.maxTicks,i=this.tickPositions,n=this.xOrY;e||(e={x:0,y:0}),!this.isLinked&&!this.isDatetimeAxis&&i.length>e[n]&&this.options.alignTicks!==!1&&(e[n]=i.length),t.maxTicks=e},adjustTickAmount:function(){var t=this,e=t.chart,i=t.xOrY,n=t.tickPositions,r=e.maxTicks;if(r&&r[i]&&!t.isDatetimeAxis&&!t.categories&&!t.isLinked&&t.options.alignTicks!==!1){var s,o=t.tickAmount,a=n.length;if(t.tickAmount=s=r[i],s>a){for(;s>n.length;)n.push(A(n[n.length-1]+t.tickInterval));t.transA*=(a-1)/(s-1),t.max=n[n.length-1]}c(o)&&s!==o&&(t.isDirty=!0)}},setScale:function(){var t,e,i,n,r=this,s=r.stacks;if(r.oldMin=r.min,r.oldMax=r.max,r.oldAxisLength=r.len,r.setAxisSize(),n=r.len!==r.oldAxisLength,yi(r.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(i=!0)}),(n||i||r.isLinked||r.userMin!==r.oldUserMin||r.userMax!==r.oldUserMax)&&(r.getSeriesExtremes(),r.setTickPositions(),r.oldUserMin=r.userMin,r.oldUserMax=r.userMax,r.isDirty||(r.isDirty=n||r.min!==r.oldMin||r.max!==r.oldMax)),!r.isXAxis)for(t in s)for(e in s[t])s[t][e].cum=s[t][e].total;r.setMaxTicks()},setExtremes:function(e,i,n,r,s){var o=this,a=o.chart;n=p(n,!0),s=t(s,{min:e,max:i}),Di(o,"setExtremes",s,function(){o.userMin=e,o.userMax=i,o.isDirtyExtremes=!0,n&&a.redraw(r)})},zoom:function(t,e){return this.setExtremes(t,e,!1,j,{trigger:"zoom"}),!0},setAxisSize:function(){var t=this,e=t.chart,i=t.options,n=i.offsetLeft||0,r=i.offsetRight||0;t.left=p(i.left,e.plotLeft+n),t.top=p(i.top,e.plotTop),t.width=p(i.width,e.plotWidth-n+r),t.height=p(i.height,e.plotHeight),t.bottom=e.chartHeight-t.height-t.top,t.right=e.chartWidth-t.width-t.left,t.len=ye(t.horiz?t.width:t.height,0)},getExtremes:function(){var t=this,e=t.isLog;return{min:e?A(l(t.min)):t.min,max:e?A(l(t.max)):t.max,dataMin:t.dataMin,dataMax:t.dataMax,userMin:t.userMin,userMax:t.userMax}},getThreshold:function(t){var e=this,i=e.isLog,n=i?l(e.min):e.min,r=i?l(e.max):e.max;return n>t||null===t?t=n:t>r&&(t=r),e.translate(t,0,1,0,1)},addPlotBandOrLine:function(t){var e=new F(this,t).render();return this.plotLinesAndBands.push(e),e},getOffset:function(){var t,e,i,n,r=this,s=r.chart,o=s.renderer,a=r.options,l=r.tickPositions,h=r.ticks,u=r.horiz,d=r.side,f=0,g=0,m=a.title,y=a.labels,v=0,_=s.axisOffset,b=[-1,1,1,-1][d];if(r.hasData=t=r.hasVisibleSeries||c(r.min)&&c(r.max)&&!!l,r.showAxis=e=t||p(a.showEmpty,!0),r.axisGroup||(r.gridGroup=o.g("grid").attr({zIndex:a.gridZIndex||1}).add(),r.axisGroup=o.g("axis").attr({zIndex:a.zIndex||2}).add(),r.labelGroup=o.g("axis-labels").attr({zIndex:y.zIndex||7}).add()),t||r.isLinked)yi(l,function(t){h[t]?h[t].addLabel():h[t]=new z(r,t)}),yi(l,function(t){(0===d||2===d||{1:"left",3:"right"}[d]===y.align)&&(v=ye(h[t].getLabelSize(),v))}),r.staggerLines&&(v+=16*(r.staggerLines-1));else for(n in h)h[n].destroy(),delete h[n];m&&m.text&&(r.axisTitle||(r.axisTitle=o.text(m.text,0,0,m.useHTML).attr({zIndex:7,rotation:m.rotation||0,align:m.textAlign||{low:"left",middle:"center",high:"right"}[m.align]}).css(m.style).add(r.axisGroup),r.axisTitle.isNew=!0),e&&(f=r.axisTitle.getBBox()[u?"height":"width"],g=p(m.margin,u?5:10),i=m.offset),r.axisTitle[e?"show":"hide"]()),r.offset=b*p(a.offset,_[d]),r.axisTitleMargin=p(i,v+g+(2!==d&&v&&b*a.labels[u?"y":"x"])),_[d]=ye(_[d],r.axisTitleMargin+f+b*r.offset)},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,r=this.horiz,s=this.left+(i?this.width:0)+n,o=e.chartHeight-this.bottom-(i?this.height:0)+n;return this.lineTop=o,e.renderer.crispLine([Ue,r?this.left:s,r?o:this.top,Xe,r?e.chartWidth-this.right:s,r?o:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,r=this.len,s=this.options.title,o=t?e:n,a=this.opposite,l=this.offset,h=i(s.style.fontSize||12),c={low:o+(t?0:r),middle:o+r/2,high:o+(t?r:0)}[s.align],u=(t?n+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?h:0);return{x:t?c:u+(a?this.width:0)+l+(s.x||0),y:t?u-(a?this.height:0)+l:c+(s.y||0)}},render:function(){var t,e,i,n=this,r=n.chart,s=r.renderer,o=n.options,a=n.isLog,h=n.isLinked,u=n.tickPositions,d=n.axisTitle,p=n.stacks,f=n.ticks,g=n.minorTicks,m=n.alternateBands,y=o.stackLabels,v=o.alternateGridColor,_=n.tickmarkOffset,b=o.lineWidth,x=r.hasRendered,w=x&&c(n.oldMin)&&!isNaN(n.oldMin),k=n.hasData,D=n.showAxis;if((k||h)&&(n.minorTickInterval&&!n.categories&&yi(n.getMinorTickPositions(),function(t){g[t]||(g[t]=new z(n,t,"minor")),w&&g[t].isNew&&g[t].render(null,!0),g[t].isActive=!0,g[t].render()}),yi(u.slice(1).concat([u[0]]),function(t,e){e=e===u.length-1?0:e+1,(!h||t>=n.min&&n.max>=t)&&(f[t]||(f[t]=new z(n,t)),w&&f[t].isNew&&f[t].render(e,!0),f[t].isActive=!0,f[t].render(e))}),v&&yi(u,function(t,r){0===r%2&&n.max>t&&(m[t]||(m[t]=new F(n)),e=t+_,i=u[r+1]!==j?u[r+1]+_:n.max,m[t].options={from:a?l(e):e,to:a?l(i):i,color:v},m[t].render(),m[t].isActive=!0)}),n._addedPlotLB||(yi((o.plotLines||[]).concat(o.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0)),yi([f,g,m],function(t){var e;for(e in t)t[e].isActive?t[e].isActive=!1:(t[e].destroy(),delete t[e])}),b&&(t=n.getLinePath(b),n.axisLine?n.axisLine.animate({d:t}):n.axisLine=s.path(t).attr({stroke:o.lineColor,"stroke-width":b,zIndex:7}).add(n.axisGroup),n.axisLine[D?"show":"hide"]()),d&&D&&(d[d.isNew?"attr":"animate"](n.getTitlePosition()),d.isNew=!1),y&&y.enabled){var C,M,T,S=n.stackTotalGroup;S||(n.stackTotalGroup=S=s.g("stack-labels").attr({visibility:Ye,zIndex:6}).add()),S.translate(r.plotLeft,r.plotTop);for(C in p){M=p[C];for(T in M)M[T].render(S)}}n.isDirty=!1},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=e.length;i--;)e[i].id===t&&e[i].destroy()},setTitle:function(t,e){var i=this.chart,n=this.options,r=this.axisTitle;n.title=xi(n.title,t),this.axisTitle=r&&r.destroy(),this.isDirty=!0,p(e,!0)&&i.redraw()},redraw:function(){var t=this,e=t.chart;e.tracker.resetTracker&&e.tracker.resetTracker(!0),t.render(),yi(t.plotLinesAndBands,function(t){t.render()}),yi(t.series,function(t){t.isDirty=!0})},setCategories:function(t,e){var i=this,n=i.chart;i.categories=i.userOptions.categories=t,yi(i.series,function(t){t.translate(),t.setTooltipPoints(!0)}),i.isDirty=!0,p(e,!0)&&n.redraw()},destroy:function(){var t,e=this,i=e.stacks;ki(e);for(t in i)S(i[t]),i[t]=null;yi([e.ticks,e.minorTicks,e.alternateBands,e.plotLinesAndBands],function(t){S(t)}),yi(["stackTotalGroup","axisLine","axisGroup","gridGroup","labelGroup","axisTitle"],function(t){e[t]&&(e[t]=e[t].destroy())})}},W.prototype={destroy:function(){yi(this.crosshairs,function(t){t&&t.destroy()}),this.label&&(this.label=this.label.destroy())},move:function(e,i,n,r){var s=this,o=s.now,a=s.options.animation!==!1&&!s.isHidden;t(o,{x:a?(2*o.x+e)/3:e,y:a?(o.y+i)/2:i,anchorX:a?(2*o.anchorX+n)/3:n,anchorY:a?(o.anchorY+r)/2:r}),s.label.attr(o),a&&(_e(e-o.x)>1||_e(i-o.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(e,i,n,r)},32))},hide:function(){if(!this.isHidden){var t=this.chart.hoverPoints;this.label.hide(),t&&yi(t,function(t){t.setState()}),this.chart.hoverPoints=null,this.isHidden=!0}},hideCrosshairs:function(){yi(this.crosshairs,function(t){t&&t.hide()})},getAnchor:function(t,e){var i,n,r=this.chart,s=r.inverted,o=0,a=0;return t=d(t),i=t[0].tooltipPos,i||(yi(t,function(t){n=t.series.yAxis,o+=t.plotX,a+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!s&&n?n.top-r.plotTop:0)}),o/=t.length,a/=t.length,i=[s?r.plotWidth-a:o,this.shared&&!s&&t.length>1&&e?e.chartY-r.plotTop:s?r.plotHeight-o:a]),bi(i,fe)},getPosition:function(t,e,i){var n,r=this.chart,s=r.plotLeft,o=r.plotTop,a=r.plotWidth,l=r.plotHeight,h=p(this.options.distance,12),c=i.plotX,u=i.plotY,d=c+s+(r.inverted?h:-t-h),f=u-e+o+15;return 7>d&&(d=s+ye(c,0)+h),d+t>s+a&&(d-=d+t-(s+a),f=u-e+o-h,n=!0),o+5>f&&(f=o+5,n&&u>=f&&f+e>=u&&(f=u+o+h)),f+e>o+l&&(f=ye(o,o+l-e-h)),{x:d,y:f}},refresh:function(t,e){function i(){var t,e=this,i=e.points||d(e),n=i[0].series;return t=[n.tooltipHeaderFormatter(i[0].key)],yi(i,function(e){n=e.series,t.push(n.tooltipFormatter&&n.tooltipFormatter(e)||e.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),t.push(m.footerFormat||""),t.join("")}var n,r,s,o,a,l,h,c,u=this,f=u.chart,g=u.label,m=u.options,y={},v=[],_=m.formatter||i,b=f.hoverPoints,x=m.crosshairs,w=u.shared;if(o=u.getAnchor(t,e),n=o[0],r=o[1],!w||t.series&&t.series.noSharedTooltip?y=t.getLabelConfig():(f.hoverPoints=t,b&&yi(b,function(t){t.setState()}),yi(t,function(t){t.setState(Ke),v.push(t.getLabelConfig())}),y={x:t[0].category,y:t[0].y},y.points=v,t=t[0]),a=_.call(y),c=t.series,s=w||!c.isCartesian||c.tooltipOutsidePlot||f.isInsidePlot(n,r),a!==!1&&s?(u.isHidden&&g.show(),g.attr({text:a}),h=m.borderColor||t.color||c.color||"#606060",g.attr({stroke:h}),l=(m.positioner||u.getPosition).call(u,g.width,g.height,{plotX:n,plotY:r}),u.move(fe(l.x),fe(l.y),n+f.plotLeft,r+f.plotTop),u.isHidden=!1):this.hide(),x){x=d(x);for(var k,D,C,M=x.length;M--;)C=t.series[M?"yAxis":"xAxis"],x[M]&&C&&(k=C.getPlotLinePath(M?p(t.stackY,t.y):t.x,1),u.crosshairs[M]?u.crosshairs[M].attr({d:k,visibility:Ye}):(D={"stroke-width":x[M].width||1,stroke:x[M].color||"#C0C0C0",zIndex:x[M].zIndex||2},x[M].dashStyle&&(D.dashstyle=x[M].dashStyle),u.crosshairs[M]=f.renderer.path(k).attr(D).add()))}Di(f,"tooltipRefresh",{text:a,x:n+f.plotLeft,y:r+f.plotTop,borderColor:h})}},B.prototype={normalizeMouseEvent:function(e){var i,n,r,s;return e=e||de.event,e.target||(e.target=e.srcElement),e=Ci(e),s=e.touches?e.touches.item(0):e,this.chartPosition=i=_i(this.chart.container),s.pageX===j?(n=e.x,r=e.y):(n=s.pageX-i.left,r=s.pageY-i.top),t(e,{chartX:fe(n),chartY:fe(r)})},getMouseCoordinates:function(t){var e={xAxis:[],yAxis:[]},i=this.chart;return yi(i.axes,function(n){var r=n.isXAxis,s=i.inverted?!r:r;e[r?"xAxis":"yAxis"].push({axis:n,value:n.translate((s?t.chartX-i.plotLeft:n.top+n.len-t.chartY)-n.minPixelPadding,!0)})}),e},getIndex:function(t){var e=this.chart;return e.inverted?e.plotHeight+e.plotTop-t.chartY:t.chartX-e.plotLeft},onmousemove:function(t){var e,i,n,r,s=this,o=s.chart,a=o.series,l=o.tooltip,h=o.hoverPoint,c=o.hoverSeries,u=o.chartWidth,d=s.getIndex(t);if(l&&s.options.tooltip.shared&&(!c||!c.noSharedTooltip)){for(i=[],n=a.length,r=0;n>r;r++)a[r].visible&&a[r].options.enableMouseTracking!==!1&&!a[r].noSharedTooltip&&a[r].tooltipPoints.length&&(e=a[r].tooltipPoints[d],e._dist=_e(d-e[a[r].xAxis.tooltipPosName||"plotX"]),u=ve(u,e._dist),i.push(e));for(n=i.length;n--;)i[n]._dist>u&&i.splice(n,1);i.length&&i[0].plotX!==s.hoverX&&(l.refresh(i,t),s.hoverX=i[0].plotX)}c&&c.tracker&&(e=c.tooltipPoints[d],e&&e!==h&&e.onMouseOver())},resetTracker:function(t){var e=this,i=e.chart,n=i.hoverSeries,r=i.hoverPoint,s=i.tooltip,o=s&&s.shared?i.hoverPoints:r;t=t&&s&&o,t&&d(o)[0].plotX===j&&(t=!1),t?s.refresh(o):(r&&r.onMouseOut(),n&&n.onMouseOut(),s&&(s.hide(),s.hideCrosshairs()),e.hoverX=null)},setDOMEvents:function(){function e(){if(r.selectionMarker){var t,n={xAxis:[],yAxis:[]},a=r.selectionMarker.getBBox(),l=a.x-s.plotLeft,h=a.y-s.plotTop;i&&(yi(s.axes,function(e){if(e.options.zoomEnabled!==!1){var i=e.isXAxis,r=s.inverted?!i:i,o=e.translate(r?l:s.plotHeight-h-a.height,!0,0,0,1),c=e.translate((r?l+a.width:s.plotHeight-h)-2*e.minPixelPadding,!0,0,0,1);isNaN(o)||isNaN(c)||(n[i?"xAxis":"yAxis"].push({axis:e,min:ve(o,c),max:ye(o,c)}),t=!0)}}),t&&Di(s,"selection",n,function(t){s.zoom(t)})),r.selectionMarker=r.selectionMarker.destroy()}s&&(f(o,{cursor:"auto"}),s.cancelClick=i,s.mouseIsDown=i=!1),ki(ue,Ne?"touchend":"mouseup",e)}var i,n=!0,r=this,s=r.chart,o=s.container,a=r.zoomX&&!s.inverted||r.zoomY&&s.inverted,l=r.zoomY&&!s.inverted||r.zoomX&&s.inverted;r.hideTooltipOnMouseMove=function(t){t=Ci(t),r.chartPosition&&s.hoverSeries&&s.hoverSeries.isCartesian&&!s.isInsidePlot(t.pageX-r.chartPosition.left-s.plotLeft,t.pageY-r.chartPosition.top-s.plotTop)&&r.resetTracker()},r.hideTooltipOnMouseLeave=function(){r.resetTracker(),r.chartPosition=null},o.onmousedown=function(t){t=r.normalizeMouseEvent(t),!Ne&&t.preventDefault&&t.preventDefault(),s.mouseIsDown=!0,s.cancelClick=!1,s.mouseDownX=r.mouseDownX=t.chartX,r.mouseDownY=t.chartY,wi(ue,Ne?"touchend":"mouseup",e)};var h=function(t){if(!(t&&t.touches&&t.touches.length>1)){t=r.normalizeMouseEvent(t),Ne||(t.returnValue=!1);var e=t.chartX,o=t.chartY,h=!s.isInsidePlot(e-s.plotLeft,o-s.plotTop);if(Ne&&"touchstart"===t.type&&(u(t.target,"isTracker")?s.runTrackerClick||t.preventDefault():s.runChartClick||h||t.preventDefault()),h&&(s.plotLeft>e?e=s.plotLeft:e>s.plotLeft+s.plotWidth&&(e=s.plotLeft+s.plotWidth),s.plotTop>o?o=s.plotTop:o>s.plotTop+s.plotHeight&&(o=s.plotTop+s.plotHeight)),s.mouseIsDown&&"touchstart"!==t.type&&(i=Math.sqrt(Math.pow(r.mouseDownX-e,2)+Math.pow(r.mouseDownY-o,2)),i>10)){var c=s.isInsidePlot(r.mouseDownX-s.plotLeft,r.mouseDownY-s.plotTop);if(s.hasCartesianSeries&&(r.zoomX||r.zoomY)&&c&&(r.selectionMarker||(r.selectionMarker=s.renderer.rect(s.plotLeft,s.plotTop,a?1:s.plotWidth,l?1:s.plotHeight,0).attr({fill:r.options.chart.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),r.selectionMarker&&a){var d=e-r.mouseDownX;r.selectionMarker.attr({width:_e(d),x:(d>0?0:d)+r.mouseDownX})}if(r.selectionMarker&&l){var p=o-r.mouseDownY;r.selectionMarker.attr({height:_e(p),y:(p>0?0:p)+r.mouseDownY})}c&&!r.selectionMarker&&r.options.chart.panning&&s.pan(e)}return h||r.onmousemove(t),n=h,h||!s.hasCartesianSeries}};o.onmousemove=h,wi(o,"mouseleave",r.hideTooltipOnMouseLeave),wi(ue,"mousemove",r.hideTooltipOnMouseMove),o.ontouchstart=function(t){(r.zoomX||r.zoomY)&&o.onmousedown(t),h(t)},o.ontouchmove=h,o.ontouchend=function(){i&&r.resetTracker()},o.onclick=function(e){var i,n,o=s.hoverPoint;e=r.normalizeMouseEvent(e),e.cancelBubble=!0,s.cancelClick||(o&&(u(e.target,"isTracker")||u(e.target.parentNode,"isTracker"))?(i=o.plotX,n=o.plotY,t(o,{pageX:r.chartPosition.left+s.plotLeft+(s.inverted?s.plotWidth-n:i),pageY:r.chartPosition.top+s.plotTop+(s.inverted?s.plotHeight-i:n)}),Di(o.series,"click",t(e,{point:o})),o.firePointEvent("click",e)):(t(e,r.getMouseCoordinates(e)),s.isInsidePlot(e.chartX-s.plotLeft,e.chartY-s.plotTop)&&Di(s,"click",e)))}},destroy:function(){var t=this,e=t.chart,i=e.container;e.trackerGroup&&(e.trackerGroup=e.trackerGroup.destroy()),ki(i,"mouseleave",t.hideTooltipOnMouseLeave),ki(ue,"mousemove",t.hideTooltipOnMouseMove),i.onclick=i.onmousedown=i.onmousemove=i.ontouchstart=i.ontouchend=i.ontouchmove=null,clearInterval(this.tooltipTimeout)},init:function(t,e){t.trackerGroup||(t.trackerGroup=t.renderer.g("tracker").attr({zIndex:9}).add()),e.enabled&&(t.tooltip=new W(t,e)),this.setDOMEvents()}},Y.prototype={init:function(t){var e=this,n=e.options=t.options.legend;if(n.enabled){var r=n.itemStyle,s=p(n.padding,8),o=n.itemMarginTop||0;e.baseline=i(r.fontSize)+3+o,e.itemStyle=r,e.itemHiddenStyle=xi(r,n.itemHiddenStyle),e.itemMarginTop=o,e.padding=s,e.initialItemX=s,e.initialItemY=s-5,e.maxItemWidth=0,e.chart=t,e.itemHeight=0,e.lastLineHeight=0,e.render(),wi(e.chart,"endResize",function(){e.positionCheckboxes()})}},colorizeItem:function(t,e){var i,n,r=this,s=r.options,o=t.legendItem,a=t.legendLine,l=t.legendSymbol,h=r.itemHiddenStyle.color,c=e?s.itemStyle.color:h,u=e?t.color:h,d=t.options&&t.options.marker,p={stroke:u,fill:u};if(o&&o.css({fill:c}),a&&a.attr({stroke:u}),l){if(d){d=t.convertAttribs(d);for(i in d)n=d[i],n!==j&&(p[i]=n)}l.attr(p)}},positionItem:function(t){var e=this,i=e.options,n=i.symbolPadding,r=!i.rtl,s=t._legendItemPos,o=s[0],a=s[1],l=t.checkbox;t.legendGroup&&t.legendGroup.translate(r?o:e.legendWidth-o-2*n-4,a),l&&(l.x=o,l.y=a)},destroyItem:function(t){var e=t.checkbox;yi(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&t[e].destroy()}),e&&P(t.checkbox)},destroy:function(){var t=this,e=t.group,i=t.box;i&&(t.box=i.destroy()),e&&(t.group=e.destroy())},positionCheckboxes:function(){var t=this;yi(t.allItems,function(e){var i=e.checkbox,n=t.group.alignAttr;i&&f(i,{left:n.translateX+e.legendItemWidth+i.x-20+Ve,top:n.translateY+i.y+3+Ve})})},renderItem:function(t){var e,i,n,r=this,s=r.chart,o=s.renderer,a=r.options,l="horizontal"===a.layout,h=a.symbolWidth,c=a.symbolPadding,u=r.itemStyle,d=r.itemHiddenStyle,p=r.padding,f=!a.rtl,m=a.width,y=a.itemMarginBottom||0,v=r.itemMarginTop,_=r.initialItemX,b=t.legendItem,x=t.series||t,w=x.options,k=w.showCheckbox;b||(t.legendGroup=o.g("legend-item").attr({zIndex:1}).add(r.scrollGroup),x.drawLegendSymbol(r,t),t.legendItem=b=o.text(a.labelFormatter.call(t),f?h+c:-c,r.baseline,a.useHTML).css(xi(t.visible?u:d)).attr({align:f?"left":"right",zIndex:2}).add(t.legendGroup),t.legendGroup.on("mouseover",function(){t.setState(Ke),b.css(r.options.itemHoverStyle)}).on("mouseout",function(){b.css(t.visible?u:d),t.setState()}).on("click",function(e){var i="legendItemClick",n=function(){t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent(i,e,n):Di(t,i,e,n)}),r.colorizeItem(t,t.visible),w&&k&&(t.checkbox=g("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},a.itemCheckboxStyle,s.container),wi(t.checkbox,"click",function(e){var i=e.target;Di(t,"checkboxClick",{checked:i.checked},function(){t.select()})}))),i=b.getBBox(),n=t.legendItemWidth=a.itemWidth||h+c+i.width+p+(k?20:0),r.itemHeight=e=i.height,l&&r.itemX-_+n>(m||s.chartWidth-2*p-_)&&(r.itemX=_,r.itemY+=v+r.lastLineHeight+y,r.lastLineHeight=0),r.maxItemWidth=ye(r.maxItemWidth,n),r.lastItemY=v+r.itemY+y,r.lastLineHeight=ye(e,r.lastLineHeight),t._legendItemPos=[r.itemX,r.itemY],l?r.itemX+=n:(r.itemY+=v+e+y,r.lastLineHeight=e),r.offsetWidth=m||ye(l?r.itemX-_:n,r.offsetWidth)},render:function(){var e,i,n,r,s=this,o=s.chart,a=o.renderer,l=s.group,h=s.box,c=s.options,u=s.padding,d=c.borderWidth,p=c.backgroundColor;s.itemX=s.initialItemX,s.itemY=s.initialItemY,s.offsetWidth=0,s.lastItemY=0,l||(s.group=l=a.g("legend").attr({zIndex:7}).add(),s.contentGroup=a.g().attr({zIndex:1}).add(l),s.scrollGroup=a.g().add(s.contentGroup),s.clipRect=a.clipRect(0,0,9999,o.chartHeight),s.contentGroup.clip(s.clipRect)),e=[],yi(o.series,function(t){var i=t.options;i.showInLegend&&(e=e.concat(t.legendItems||("point"===i.legendType?t.data:t)))}),C(e,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),c.reversed&&e.reverse(),s.allItems=e,s.display=i=!!e.length,yi(e,function(t){s.renderItem(t)}),n=c.width||s.offsetWidth,r=s.lastItemY+s.lastLineHeight,r=s.handleOverflow(r),(d||p)&&(n+=u,r+=u,h?n>0&&r>0&&(h[h.isNew?"attr":"animate"](h.crisp(null,null,null,n,r)),h.isNew=!1):(s.box=h=a.rect(0,0,n,r,c.borderRadius,d||0).attr({stroke:c.borderColor,"stroke-width":d||0,fill:p||je}).add(l).shadow(c.shadow),h.isNew=!0),h[i?"show":"hide"]()),s.legendWidth=n,s.legendHeight=r,yi(e,function(t){s.positionItem(t)}),i&&l.align(t({width:n,height:r},c),!0,o.spacingBox),o.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,n=this,r=this.chart,s=r.renderer,o=this.options,a=o.y,l="top"===o.verticalAlign,h=r.spacingBox.height+(l?-a:a)-this.padding,c=o.maxHeight,u=this.clipRect,d=o.navigation,f=p(d.animation,!0),g=d.arrowSize||12,m=this.nav;return"horizontal"===o.layout&&(h/=2),c&&(h=ve(h,c)),t>h?(this.clipHeight=i=h-20,this.pageCount=e=me(t/i),this.currentPage=p(this.currentPage,1),this.fullHeight=t,u.attr({height:i}),m||(this.nav=m=s.g().attr({zIndex:1}).add(this.group),this.up=s.symbol("triangle",0,0,g,g).on("click",function(){n.scroll(-1,f)}).add(m),this.pager=s.text("",15,10).css(d.style).add(m),this.down=s.symbol("triangle-down",0,0,g,g).on("click",function(){n.scroll(1,f)}).add(m)),n.scroll(0),t=h):m&&(u.attr({height:r.chartHeight}),m.hide(),this.scrollGroup.attr({translateY:1})),t},scroll:function(t,e){var i=this.pageCount,n=this.currentPage+t,r=this.clipHeight,s=this.options.navigation,o=s.activeColor,a=s.inactiveColor,l=this.pager,h=this.padding;n>i&&(n=i),n>0&&(e!==j&&O(e,this.chart),this.nav.attr({translateX:h,translateY:r+7,visibility:Ye}),this.up.attr({fill:1===n?a:o}).css({cursor:1===n?"default":"pointer"}),l.attr({text:n+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:n===i?a:o}).css({cursor:n===i?"default":"pointer"}),this.scrollGroup.animate({translateY:-ve(r*(n-1),this.fullHeight-r+h)+1}),l.attr({text:n+"/"+i}),this.currentPage=n)}},V.prototype={initSeries:function(t){var e=this,i=e.options.chart,n=t.type||i.type||i.defaultSeriesType,r=new ui[n];return r.init(this,t),r},addSeries:function(t,e,i){var n,r=this;return t&&(O(i,r),e=p(e,!0),Di(r,"addSeries",{options:t},function(){n=r.initSeries(t),r.isDirtyLegend=!0,e&&r.redraw()})),n},isInsidePlot:function(t,e,i){var n=i?e:t,r=i?t:e;return n>=0&&this.plotWidth>=n&&r>=0&&this.plotHeight>=r},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&yi(this.axes,function(t){t.adjustTickAmount()}),this.maxTicks=null},redraw:function(t){var e,i,n=this,r=n.axes,s=n.series,o=n.tracker,a=n.legend,l=n.isDirtyLegend,h=n.isDirtyBox,c=s.length,u=c,d=n.renderer,p=d.isHidden(),f=[];for(O(t,n),p&&n.cloneRenderTo();u--;)if(i=s[u],i.isDirty&&i.options.stacking){e=!0;break}if(e)for(u=c;u--;)i=s[u],i.options.stacking&&(i.isDirty=!0);yi(s,function(t){t.isDirty&&"point"===t.options.legendType&&(l=!0)}),l&&a.options.enabled&&(a.render(),n.isDirtyLegend=!1),n.hasCartesianSeries&&(n.isResizing||(n.maxTicks=null,yi(r,function(t){t.setScale()})),n.adjustTickAmounts(),n.getMargins(),yi(r,function(t){t.isDirtyExtremes&&(t.isDirtyExtremes=!1,f.push(function(){Di(t,"afterSetExtremes",t.getExtremes())})),(t.isDirty||h||e)&&(t.redraw(),h=!0)})),h&&n.drawChartBox(),yi(s,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),o&&o.resetTracker&&o.resetTracker(!0),d.draw(),Di(n,"redraw"),p&&n.cloneRenderTo(!0),yi(f,function(t){t.call()})},showLoading:function(e){var i=this,n=i.options,r=i.loadingDiv,s=n.loading;r||(i.loadingDiv=r=g(Fe,{className:Be+"loading"},t(s.style,{left:i.plotLeft+Ve,top:i.plotTop+Ve,width:i.plotWidth+Ve,height:i.plotHeight+Ve,zIndex:10,display:je}),i.container),i.loadingSpan=g("span",null,s.labelStyle,r)),i.loadingSpan.innerHTML=e||n.lang.loading,i.loadingShown||(f(r,{opacity:0,display:""}),Mi(r,{opacity:s.style.opacity},{duration:s.showDuration||0}),i.loadingShown=!0)},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&Mi(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){f(e,{display:je})}}),this.loadingShown=!1},get:function(t){var e,i,n,r=this,s=r.axes,o=r.series;for(e=0;s.length>e;e++)if(s[e].options.id===t)return s[e];for(e=0;o.length>e;e++)if(o[e].options.id===t)return o[e];for(e=0;o.length>e;e++)for(n=o[e].points||[],i=0;n.length>i;i++)if(n[i].id===t)return n[i];return null},getAxes:function(){var t,e,i=this,n=this.options,r=n.xAxis||{},s=n.yAxis||{};r=d(r),yi(r,function(t,e){t.index=e,t.isX=!0}),s=d(s),yi(s,function(t,e){t.index=e}),t=r.concat(s),yi(t,function(t){e=new H(i,t)}),i.adjustTickAmounts()},getSelectedPoints:function(){var t=[];return yi(this.series,function(e){t=t.concat(vi(e.points,function(t){return t.selected}))}),t},getSelectedSeries:function(){return vi(this.series,function(t){return t.selected})},showResetZoom:function(){var t=this,e=G.lang,i=t.options.chart.resetZoomButton,n=i.theme,r=n.states,s="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,r&&r.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,t[s]),this.resetZoomButton.alignTo=s},zoomOut:function(){var t=this,e=t.resetZoomButton;Di(t,"selection",{resetSelection:!0},function(){t.zoom()}),e&&(t.resetZoomButton=e.destroy())},zoom:function(t){var e,i=this;!t||t.resetSelection?yi(i.axes,function(t){e=t.zoom()}):yi(t.xAxis.concat(t.yAxis),function(t){var n=t.axis;i.tracker[n.isXAxis?"zoomX":"zoomY"]&&(e=n.zoom(t.min,t.max))}),i.resetZoomButton||i.showResetZoom(),e&&i.redraw(p(i.options.chart.animation,100>i.pointCount))},pan:function(t){var e=this,i=e.xAxis[0],n=e.mouseDownX,r=i.pointRange/2,s=i.getExtremes(),o=i.translate(n-t,!0)+r,a=i.translate(n+e.plotWidth-t,!0)-r,l=e.hoverPoints;l&&yi(l,function(t){t.setState()}),i.series.length&&o>ve(s.dataMin,s.min)&&ye(s.dataMax,s.max)>a&&i.setExtremes(o,a,!0,!1,{trigger:"pan"}),e.mouseDownX=t,f(e.container,{cursor:"move"})},setTitle:function(t,e){var i,n,r=this,s=r.options;r.chartTitleOptions=i=xi(s.title,t),r.chartSubtitleOptions=n=xi(s.subtitle,e),yi([["title",t,i],["subtitle",e,n]],function(t){var e=t[0],i=r[e],n=t[1],s=t[2];i&&n&&(r[e]=i=i.destroy()),s&&s.text&&!i&&(r[e]=r.renderer.text(s.text,0,0,s.useHTML).attr({align:s.align,"class":Be+e,zIndex:s.zIndex||4}).css(s.style).add().align(s,!1,r.spacingBox))})},getChartSize:function(){var t=this,e=t.options.chart,i=t.renderToClone||t.renderTo;t.containerWidth=fi(i,"width"),t.containerHeight=fi(i,"height"),t.chartWidth=e.width||t.containerWidth||600,t.chartHeight=e.height||(t.containerHeight>19?t.containerHeight:400)},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),P(e),delete this.renderToClone):(i&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),f(e,{position:Re,top:"-9999px",display:"block"}),ue.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var e,i,r,s,o,a=this,l=a.options.chart;a.renderTo=s=l.renderTo,o=Be+Le++,n(s)&&(a.renderTo=s=ue.getElementById(s)),s||I(13,!0),s.innerHTML="",s.offsetWidth||a.cloneRenderTo(),a.getChartSize(),i=a.chartWidth,r=a.chartHeight,a.container=e=g(Fe,{className:Be+"container"+(l.className?" "+l.className:""),id:o},t({position:He,overflow:We,width:i+Ve,height:r+Ve,textAlign:"left",lineHeight:"normal",zIndex:0},l.style),a.renderToClone||s),a.renderer=l.forExport?new Oi(e,i,r,!0):new U(e,i,r),$e&&a.renderer.create(a,e,i,r)},getMargins:function(){var t,e,i=this,n=i.options.chart,r=n.spacingTop,s=n.spacingRight,o=n.spacingBottom,a=n.spacingLeft,l=i.legend,h=i.optionsMarginTop,u=i.optionsMarginLeft,d=i.optionsMarginRight,f=i.optionsMarginBottom,g=i.chartTitleOptions,m=i.chartSubtitleOptions,y=i.options.legend,v=p(y.margin,10),_=y.x,b=y.y,x=y.align,w=y.verticalAlign;i.resetMargins(),t=i.axisOffset,!i.title&&!i.subtitle||c(i.optionsMarginTop)||(e=ye(i.title&&!g.floating&&!g.verticalAlign&&g.y||0,i.subtitle&&!m.floating&&!m.verticalAlign&&m.y||0),e&&(i.plotTop=ye(i.plotTop,e+p(g.margin,15)+r))),l.display&&!y.floating&&("right"===x?c(d)||(i.marginRight=ye(i.marginRight,l.legendWidth-_+v+s)):"left"===x?c(u)||(i.plotLeft=ye(i.plotLeft,l.legendWidth+_+v+a)):"top"===w?c(h)||(i.plotTop=ye(i.plotTop,l.legendHeight+b+v+r)):"bottom"===w&&(c(f)||(i.marginBottom=ye(i.marginBottom,l.legendHeight-b+v+o)))),i.extraBottomMargin&&(i.marginBottom+=i.extraBottomMargin),i.extraTopMargin&&(i.plotTop+=i.extraTopMargin),i.hasCartesianSeries&&yi(i.axes,function(t){t.getOffset()}),c(u)||(i.plotLeft+=t[3]),c(h)||(i.plotTop+=t[0]),c(f)||(i.marginBottom+=t[2]),c(d)||(i.marginRight+=t[1]),i.setChartSize()},initReflow:function(){function t(t){var s=n.width||fi(r,"width"),o=n.height||fi(r,"height"),a=t?t.target:de;s&&o&&(a===de||a===ue)&&((s!==i.containerWidth||o!==i.containerHeight)&&(clearTimeout(e),i.reflowTimeout=e=setTimeout(function(){i.container&&i.resize(s,o,!1)},100)),i.containerWidth=s,i.containerHeight=o)}var e,i=this,n=i.options.chart,r=i.renderTo;wi(de,"resize",t),wi(i,"destroy",function(){ki(de,"resize",t)})},resize:function(t,e,i){var n,r,s,o,a=this,l=a.resetZoomButton,h=a.title,u=a.subtitle;a.isResizing+=1,o=function(){a&&Di(a,"endResize",null,function(){a.isResizing-=1})},O(i,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,c(t)&&(a.chartWidth=n=fe(t)),c(e)&&(a.chartHeight=r=fe(e)),f(a.container,{width:n+Ve,height:r+Ve}),a.renderer.setSize(n,r,i),a.plotWidth=n-a.plotLeft-a.marginRight,a.plotHeight=r-a.plotTop-a.marginBottom,a.maxTicks=null,yi(a.axes,function(t){t.isDirty=!0,t.setScale()}),yi(a.series,function(t){t.isDirty=!0}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.getMargins(),s=a.spacingBox,h&&h.align(null,null,s),u&&u.align(null,null,s),l&&l.align&&l.align(null,null,a[l.alignTo]),a.redraw(i),a.oldChartHeight=null,Di(a,"resize"),K===!1?o():setTimeout(o,K&&K.duration||500)},setChartSize:function(){var t,e,i,n,r,s=this,o=s.inverted,a=s.chartWidth,l=s.chartHeight,h=s.options.chart,c=h.spacingTop,u=h.spacingRight,d=h.spacingBottom,p=h.spacingLeft;s.plotLeft=t=fe(s.plotLeft),s.plotTop=e=fe(s.plotTop),s.plotWidth=i=fe(a-t-s.marginRight),s.plotHeight=n=fe(l-e-s.marginBottom),s.plotSizeX=o?n:i,s.plotSizeY=o?i:n,s.plotBorderWidth=r=h.plotBorderWidth||0,s.spacingBox={x:p,y:c,width:a-p-u,height:l-c-d},s.plotBox={x:t,y:e,width:i,height:n},s.clipBox={x:r/2,y:r/2,width:s.plotSizeX-r,height:s.plotSizeY-r},yi(s.axes,function(t){t.setAxisSize(),t.setAxisTranslation()
})},resetMargins:function(){var t=this,e=t.options.chart,i=e.spacingTop,n=e.spacingRight,r=e.spacingBottom,s=e.spacingLeft;t.plotTop=p(t.optionsMarginTop,i),t.marginRight=p(t.optionsMarginRight,n),t.marginBottom=p(t.optionsMarginBottom,r),t.plotLeft=p(t.optionsMarginLeft,s),t.axisOffset=[0,0,0,0]},drawChartBox:function(){var t,e,i=this,n=i.options.chart,r=i.renderer,s=i.chartWidth,o=i.chartHeight,a=i.chartBackground,l=i.plotBackground,h=i.plotBorder,c=i.plotBGImage,u=n.borderWidth||0,d=n.backgroundColor,p=n.plotBackgroundColor,f=n.plotBackgroundImage,g=n.plotBorderWidth||0,m=i.plotLeft,y=i.plotTop,v=i.plotWidth,_=i.plotHeight,b=i.plotBox,x=i.clipRect,w=i.clipBox;t=u+(n.shadow?8:0),(u||d)&&(a?a.animate(a.crisp(null,null,null,s-t,o-t)):(e={fill:d||je},u&&(e.stroke=n.borderColor,e["stroke-width"]=u),i.chartBackground=r.rect(t/2,t/2,s-t,o-t,n.borderRadius,u).attr(e).add().shadow(n.shadow))),p&&(l?l.animate(b):i.plotBackground=r.rect(m,y,v,_,0).attr({fill:p}).add().shadow(n.plotShadow)),f&&(c?c.animate(b):i.plotBGImage=r.image(f,m,y,v,_).add()),x?x.animate({width:w.width,height:w.height}):i.clipRect=r.clipRect(w),g&&(h?h.animate(h.crisp(null,m,y,v,_)):i.plotBorder=r.rect(m,y,v,_,0,g).attr({stroke:n.plotBorderColor,"stroke-width":g,zIndex:1}).add()),i.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,r=n.options.chart,s=n.options.series;yi(["inverted","angular","polar"],function(o){for(t=ui[r.type||r.defaultSeriesType],i=n[o]||r[o]||t&&t.prototype[o],e=s&&s.length;!i&&e--;)t=ui[s[e].type],t&&t.prototype[o]&&(i=!0);n[o]=i})},render:function(){var e,n=this,r=n.axes,s=n.renderer,o=n.options,a=o.labels,l=o.credits;n.setTitle(),n.legend=new Y(n),yi(r,function(t){t.setScale()}),n.getMargins(),n.maxTicks=null,yi(r,function(t){t.setTickPositions(!0),t.setMaxTicks()}),n.adjustTickAmounts(),n.getMargins(),n.drawChartBox(),n.hasCartesianSeries&&yi(r,function(t){t.render()}),n.seriesGroup||(n.seriesGroup=s.g("series-group").attr({zIndex:3}).add()),yi(n.series,function(t){t.translate(),t.setTooltipPoints(),t.render()}),a.items&&yi(a.items,function(e){var r=t(a.style,e.style),o=i(r.left)+n.plotLeft,l=i(r.top)+n.plotTop+12;delete r.left,delete r.top,s.text(e.html,o,l).attr({zIndex:2}).css(r).add()}),l.enabled&&!n.credits&&(e=l.href,n.credits=s.text(l.text,0,0).on("click",function(){e&&(location.href=e)}).attr({align:l.position.align,zIndex:8}).css(l.style).add().align(l.position)),n.hasRendered=!0},destroy:function(){var t,e=this,i=e.axes,n=e.series,r=e.container,s=r&&r.parentNode;for(Di(e,"destroy"),ki(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=n.length;t--;)n[t]=n[t].destroy();yi(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","tracker","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())}),r&&(r.innerHTML="",ki(r),s&&P(r));for(t in e)delete e[t]},firstRender:function(){var t=this,e=t.options,i=t.callback,n="onreadystatechange",r="complete";return!Ae&&de==de.top&&ue.readyState!==r||$e&&!de.canvg?($e?zi.push(function(){t.firstRender()},e.global.canvasToolsURL):ue.attachEvent(n,function(){ue.detachEvent(n,t.firstRender),ue.readyState===r&&t.firstRender()}),void 0):(t.getContainer(),Di(t,"init"),Highcharts.RangeSelector&&e.rangeSelector.enabled&&(t.rangeSelector=new Highcharts.RangeSelector(t)),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),yi(e.series||[],function(e){t.initSeries(e)}),Highcharts.Scroller&&(e.navigator.enabled||e.scrollbar.enabled)&&(t.scroller=new Highcharts.Scroller(t)),t.tracker=new B(t,e),t.render(),t.renderer.draw(),i&&i.apply(t,[t]),yi(t.callbacks,function(e){e.apply(t,[t])}),t.cloneRenderTo(!0),Di(t,"load"),void 0)},init:function(t){var e,i=this,n=i.options.chart;if(n.reflow!==!1&&wi(i,"load",i.initReflow),t)for(e in t)wi(i,e,t[e]);i.xAxis=[],i.yAxis=[],i.animation=$e?!1:p(n.animation,!0),i.setSize=i.resize,i.pointCount=0,i.counters=new D,i.firstRender()}},V.prototype.callbacks=[];var Fi=function(){};Fi.prototype={init:function(t,e,i){var n,r=this,s=t.chart.counters;return r.series=t,r.applyOptions(e,i),r.pointAttr={},t.options.colorByPoint&&(n=t.chart.options.colors,r.color=r.color||n[s.color++],s.wrapColor(n.length)),t.chart.pointCount++,r},applyOptions:function(e,i){var n=this,r=n.series,s=typeof e;n.config=e,"number"===s||null===e?n.y=e:"number"==typeof e[0]?(n.x=e[0],n.y=e[1]):"object"===s&&"number"!=typeof e.length?(t(n,e),n.options=e,e.dataLabels&&(r._hasPointLabels=!0),e.marker&&(r._hasPointMarkers=!0)):"string"==typeof e[0]&&(n.name=e[0],n.y=e[1]),n.x===j&&(n.x=i===j?r.autoIncrement():i)},destroy:function(){var t,e=this,i=e.series,n=i.chart,r=n.hoverPoints;n.pointCount--,r&&(e.setState(),h(r,e),r.length||(n.hoverPoints=null)),e===n.hoverPoint&&e.onMouseOut(),(e.graphic||e.dataLabel)&&(ki(e),e.destroyElements()),e.legendItem&&n.legend.destroyItem(e);for(t in e)e[t]=null},destroyElements:function(){for(var t,e=this,i=["graphic","tracker","dataLabel","group","connector","shadowGroup"],n=6;n--;)t=i[n],e[t]&&(e[t]=e[t].destroy())},getLabelConfig:function(){var t=this;return{x:t.category,y:t.y,key:t.name||t.category,series:t.series,point:t,percentage:t.percentage,total:t.total||t.stackTotal}},select:function(t,e){var i=this,n=i.series,r=n.chart;t=p(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=t,i.setState(t&&Je),e||yi(r.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=!1,t.setState(qe),t.firePointEvent("unselect"))})})},onMouseOver:function(){var t=this,e=t.series,i=e.chart,n=i.tooltip,r=i.hoverPoint;r&&r!==t&&r.onMouseOut(),t.firePointEvent("mouseOver"),!n||n.shared&&!e.noSharedTooltip||n.refresh(t),t.setState(Ke),i.hoverPoint=t},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;e&&-1!==mi(this,e)||(this.firePointEvent("mouseOut"),this.setState(),t.hoverPoint=null)},tooltipFormatter:function(t){var e,i,r,s,o,a,l,h=this,c=h.series,u=c.tooltipOptions,d=t.match(/\{(series|point)\.[a-zA-Z]+\}/g),f=/[{\.}]/,g={y:0,open:0,high:0,low:0,close:0,percentage:1,total:1};u.valuePrefix=u.valuePrefix||u.yPrefix,u.valueDecimals=u.valueDecimals||u.yDecimals,u.valueSuffix=u.valueSuffix||u.ySuffix;for(l in d)i=d[l],n(i)&&i!==t&&(o=(" "+i).split(f),e={point:h,series:c}[o[1]],a=o[2],e===h&&g.hasOwnProperty(a)?(s=g[a]?a:"value",r=(u[s+"Prefix"]||"")+v(h[a],p(u[s+"Decimals"],-1))+(u[s+"Suffix"]||"")):r=e[a],t=t.replace(i,r));return t},update:function(t,e,i){var n,s=this,o=s.series,a=s.graphic,l=o.data,h=l.length,c=o.chart;e=p(e,!0),s.firePointEvent("update",{options:t},function(){for(s.applyOptions(t),r(t)&&(o.getAttribs(),a&&a.attr(s.pointAttr[o.state])),n=0;h>n;n++)if(l[n]===s){o.xData[n]=s.x,o.yData[n]=s.y,o.options.data[n]=t;break}o.isDirty=!0,o.isDirtyData=!0,e&&c.redraw(i)})},remove:function(t,e){var i,n=this,r=n.series,s=r.chart,o=r.data,a=o.length;O(e,s),t=p(t,!0),n.firePointEvent("remove",null,function(){for(i=0;a>i;i++)if(o[i]===n){o.splice(i,1),r.options.data.splice(i,1),r.xData.splice(i,1),r.yData.splice(i,1);break}n.destroy(),r.isDirty=!0,r.isDirtyData=!0,t&&s.redraw()})},firePointEvent:function(t,e,i){var n=this,r=this.series,s=r.options;(s.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&s.allowPointSelect&&(i=function(t){n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),Di(this,t,e,i)},importEvents:function(){if(!this.hasImportedEvents){var t,e=this,i=xi(e.series.options.point,e.options),n=i.events;e.events=n;for(t in n)wi(e,t,n[t]);this.hasImportedEvents=!0}},setState:function(t){var e,i=this,n=i.plotX,r=i.plotY,s=i.series,o=s.options.states,a=Pi[s.type].marker&&s.options.marker,l=a&&!a.enabled,h=a&&a.states[t],c=h&&h.enabled===!1,u=s.stateMarkerGraphic,d=s.chart,p=i.pointAttr;t=t||qe,t===i.state||i.selected&&t!==Je||o[t]&&o[t].enabled===!1||t&&(c||l&&!h.enabled)||(i.graphic?(e=a&&i.graphic.symbolName&&p[t].r,i.graphic.attr(xi(p[t],e?{x:n-e,y:r-e,width:2*e,height:2*e}:{}))):(t&&h&&(e=h.radius,u?u.attr({x:n-e,y:r-e}):s.stateMarkerGraphic=u=d.renderer.symbol(s.symbol,n-e,r-e,2*e,2*e).attr(p[t]).add(s.markerGroup)),u&&u[t&&d.isInsidePlot(n,r)?"show":"hide"]()),i.state=t)}};var Ri=function(){};Ri.prototype={isCartesian:!0,type:"line",pointClass:Fi,sorted:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(e,i){var n,r,s=this;s.chart=e,s.options=i=s.setOptions(i),s.bindAxes(),t(s,{name:i.name,state:qe,pointAttr:{},visible:i.visible!==!1,selected:i.selected===!0}),$e&&(i.animation=!1),r=i.events;for(n in r)wi(s,n,r[n]);(r&&r.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(e.runTrackerClick=!0),s.getColor(),s.getSymbol(),s.setData(i.data,!1),s.isCartesian&&(e.hasCartesianSeries=!0),e.series.push(s),C(e.series,function(t,e){return(t.options.index||0)-(e.options.index||0)}),yi(e.series,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,i=e.options,n=e.chart;e.isCartesian&&yi(["xAxis","yAxis"],function(r){yi(n[r],function(n){t=n.options,(i[r]===t.index||i[r]===j&&0===t.index)&&(n.series.push(e),e[r]=n,n.isDirty=!0)})})},autoIncrement:function(){var t=this,e=t.options,i=t.xIncrement;return i=p(i,e.pointStart,0),t.pointInterval=p(t.pointInterval,e.pointInterval,1),t.xIncrement=i+t.pointInterval,i},getSegments:function(){var t,e=this,i=-1,n=[],r=e.points,s=r.length;if(s)if(e.options.connectNulls){for(t=s;t--;)null===r[t].y&&r.splice(t,1);r.length&&(n=[r])}else yi(r,function(t,e){null===t.y?(e>i+1&&n.push(r.slice(i+1,e)),i=e):e===s-1&&n.push(r.slice(i+1,e+1))});e.segments=n},setOptions:function(t){var e,i=this.chart,n=i.options,r=n.plotOptions,s=r[this.type],o=t.data;return t.data=null,e=xi(s,r.series,t),e.data=t.data=o,this.tooltipOptions=xi(n.tooltip,e.tooltip),null===s.marker&&delete e.marker,e},getColor:function(){var t=this.options,e=this.chart.options.colors,i=this.chart.counters;this.color=t.color||!t.colorByPoint&&e[i.color++]||"gray",i.wrapColor(e.length)},getSymbol:function(){var t=this,e=t.options.marker,i=t.chart,n=i.options.symbols,r=i.counters;t.symbol=e.symbol||n[r.symbol++],/^url/.test(t.symbol)&&(e.radius=0),r.wrapSymbol(n.length)},drawLegendSymbol:function(t){var e,i,n,r=this.options,s=r.marker,o=t.options,a=o.symbolWidth,l=this.chart.renderer,h=this.legendGroup,c=t.baseline;r.lineWidth&&(n={"stroke-width":r.lineWidth},r.dashStyle&&(n.dashstyle=r.dashStyle),this.legendLine=l.path([Ue,0,c-4,Xe,a,c-4]).attr(n).add(h)),s&&s.enabled&&(e=s.radius,this.legendSymbol=i=l.symbol(this.symbol,a/2-e,c-4-e,2*e,2*e).add(h))},addPoint:function(t,e,i,n){var r,s=this,o=s.data,a=s.graph,l=s.area,h=s.chart,c=s.xData,u=s.yData,d=a&&a.shift||0,f=s.options.data,g=s.pointClass.prototype;O(n,h),a&&i&&(a.shift=d+1),l&&(i&&(l.shift=d+1),l.isArea=!0),e=p(e,!0),r={series:s},g.applyOptions.apply(r,[t]),c.push(r.x),u.push(g.toYData?g.toYData.call(r):r.y),f.push(t),i&&(o[0]&&o[0].remove?o[0].remove(!1):(o.shift(),c.shift(),u.shift(),f.shift())),s.getAttribs(),s.isDirty=!0,s.isDirtyData=!0,e&&h.redraw()},setData:function(t,e){var i,r=this,a=r.points,l=r.options,h=r.initialColor,u=r.chart,d=null,f=r.xAxis,g=r.pointClass.prototype;r.xIncrement=null,r.pointRange=f&&f.categories?1:l.pointRange,c(h)&&(u.counters.color=h);var m,y=[],v=[],_=t?t.length:[],b=l.turboThreshold||1e3,x=r.pointArrayMap,w=x&&x.length;if(_>b){for(i=0;null===d&&_>i;)d=t[i],i++;if(o(d)){var k=p(l.pointStart,0),D=p(l.pointInterval,1);for(i=0;_>i;i++)y[i]=k,v[i]=t[i],k+=D;r.xIncrement=k}else if(s(d))if(w)for(i=0;_>i;i++)m=t[i],y[i]=m[0],v[i]=m.slice(1,w+1);else for(i=0;_>i;i++)m=t[i],y[i]=m[0],v[i]=m[1]}else for(i=0;_>i;i++)m={series:r},g.applyOptions.apply(m,[t[i]]),y[i]=m.x,v[i]=g.toYData?g.toYData.call(m):m.y;for(n(v[0])&&I(14,!0),r.data=[],r.options.data=t,r.xData=y,r.yData=v,i=a&&a.length||0;i--;)a[i]&&a[i].destroy&&a[i].destroy();f&&(f.minRange=f.userMinRange),r.isDirty=r.isDirtyData=u.isDirtyBox=!0,p(e,!0)&&u.redraw(!1)},remove:function(t,e){var i=this,n=i.chart;t=p(t,!0),i.isRemoving||(i.isRemoving=!0,Di(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,t&&n.redraw(e)})),i.isRemoving=!1},processData:function(t){var e,i,n,r,s=this,o=s.xData,a=s.yData,l=o.length,h=0,c=l,u=s.xAxis,d=s.options,p=d.cropThreshold,f=s.isCartesian;if(f&&!s.isDirty&&!u.isDirty&&!s.yAxis.isDirty&&!t)return!1;if(f&&s.sorted&&(!p||l>p||s.forceCrop)){var g=u.getExtremes(),m=g.min,y=g.max;if(m>o[l-1]||o[0]>y)o=[],a=[];else if(m>o[0]||o[l-1]>y){for(r=0;l>r;r++)if(o[r]>=m){h=ye(0,r-1);break}for(;l>r;r++)if(o[r]>y){c=r+1;break}o=o.slice(h,c),a=a.slice(h,c),e=!0}}for(r=o.length-1;r>0;r--)i=o[r]-o[r-1],i>0&&(n===j||n>i)&&(n=i);s.cropped=e,s.cropStart=h,s.processedXData=o,s.processedYData=a,null===d.pointRange&&(s.pointRange=n||1),s.closestPointRange=n},generatePoints:function(){var t,e,i,n,r=this,s=r.options,o=s.data,a=r.data,l=r.processedXData,h=r.processedYData,c=r.pointClass,u=l.length,p=r.cropStart||0,f=r.hasGroupedData,g=[];if(!a&&!f){var m=[];m.length=o.length,a=r.data=m}for(n=0;u>n;n++)e=p+n,f?g[n]=(new c).init(r,[l[n]].concat(d(h[n]))):(a[e]?i=a[e]:o[e]!==j&&(a[e]=i=(new c).init(r,o[e],l[n])),g[n]=i);if(a&&(u!==(t=a.length)||f))for(n=0;t>n;n++)n!==p||f||(n+=u),a[n]&&(a[n].destroyElements(),a[n].plotX=j);r.data=a,r.points=g},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t,e=this,i=e.chart,n=e.options,r=n.stacking,s=e.xAxis,o=s.categories,a=e.yAxis,l=e.points,h=l.length,u=!!e.modifyValue,d=a.series,f=d.length,g="between"===n.pointPlacement;f--;)if(d[f].visible){d[f]===e&&(t=!0);break}for(f=0;h>f;f++){var m,y,v=l[f],_=v.x,b=v.y,x=v.low,w=a.stacks[(n.threshold>b?"-":"")+e.stackKey];v.plotX=s.translate(_,0,0,0,1,g),r&&e.visible&&w&&w[_]&&(m=w[_],y=m.total,m.cum=x=m.cum-b,b=x+b,t&&(x=p(n.threshold,a.min)),a.isLog&&0>=x&&(x=null),"percent"===r&&(x=y?100*x/y:0,b=y?100*b/y:0),v.percentage=y?100*v.y/y:0,v.total=v.stackTotal=y,v.stackY=b),v.yBottom=c(x)?a.translate(x,0,1,0,1):null,u&&(b=e.modifyValue(b,v)),v.plotY="number"==typeof b?fe(10*a.translate(b,0,1,0,1))/10:j,v.clientX=i.inverted?i.plotHeight-v.plotX:v.plotX,v.category=o&&o[v.x]!==j?o[v.x]:v.x}e.getSegments()},setTooltipPoints:function(t){var e,i,n,r,s,o=this,a=[],l=o.xAxis,h=l?l.tooltipLen||l.len:o.chart.plotSizeX,c=l&&l.tooltipPosName||"plotX",u=[];if(o.options.enableMouseTracking!==!1){for(t&&(o.tooltipPoints=null),yi(o.segments||o.points,function(t){a=a.concat(t)}),l&&l.reversed&&(a=a.reverse()),e=a.length,s=0;e>s;s++)for(r=a[s],i=a[s-1]?n+1:0,n=a[s+1]?ye(0,ge((r[c]+(a[s+1]?a[s+1][c]:h))/2)):h;i>=0&&n>=i;)u[i++]=r;o.tooltipPoints=u}},tooltipHeaderFormatter:function(t){var e,i=this,n=i.tooltipOptions,r=n.xDateFormat,s=i.xAxis,a=s&&"datetime"===s.options.type;if(a&&!r)for(e in Z)if(Z[e]>=s.closestPointRange){r=n.dateTimeLabelFormats[e];break}return n.headerFormat.replace("{point.key}",a&&o(t)?q(r,t):t).replace("{series.name}",i.name).replace("{series.color}",i.color)},onMouseOver:function(){var t=this,e=t.chart,i=e.hoverSeries;i&&i!==t&&i.onMouseOut(),t.options.events.mouseOver&&Di(t,"mouseOver"),t.setState(Ke),e.hoverSeries=t},onMouseOut:function(){var t=this,e=t.options,i=t.chart,n=i.tooltip,r=i.hoverPoint;r&&r.onMouseOut(),t&&e.events.mouseOut&&Di(t,"mouseOut"),!n||e.stickyTracking||n.shared||n.hide(),t.setState(),i.hoverSeries=null},animate:function(e){var i,n,s,o=this,a=o.chart,l=a.renderer,h=o.options.animation,c=a.clipBox,u=a.inverted;h&&!r(h)&&(h=Pi[o.type].animation),s="_sharedClip"+h.duration+h.easing,e?(i=a[s],n=a[s+"m"],i||(a[s]=i=l.clipRect(t(c,{width:0})),a[s+"m"]=n=l.clipRect(-99,u?-a.plotLeft:-a.plotTop,99,u?a.chartWidth:a.chartHeight)),o.group.clip(i),o.markerGroup.clip(n),o.sharedClipKey=s):(i=a[s],i&&(i.animate({width:a.plotSizeX},h),a[s+"m"].animate({width:a.plotSizeX+99},h)),o.animate=null,o.animationTimeout=setTimeout(function(){o.afterAnimate()},h.duration))},afterAnimate:function(){var t=this.chart,e=this.sharedClipKey,i=this.group;i&&this.options.clip!==!1&&(i.clip(t.clipRect),this.markerGroup.clip()),setTimeout(function(){e&&t[e]&&(t[e]=t[e].destroy(),t[e+"m"]=t[e+"m"].destroy())},100)},drawPoints:function(){var e,i,n,r,s,o,a,l,h,c,u,d,f=this,g=f.points,m=f.chart,y=f.options,v=y.marker,_=f.markerGroup;if(v.enabled||f._hasPointMarkers)for(r=g.length;r--;)s=g[r],i=s.plotX,n=s.plotY,h=s.graphic,c=s.marker||{},u=v.enabled&&c.enabled===j||c.enabled,d=m.isInsidePlot(i,n,m.inverted),u&&n!==j&&!isNaN(n)?(e=s.pointAttr[s.selected?Je:qe],o=e.r,a=p(c.symbol,f.symbol),l=0===a.indexOf("url"),h?h.attr({visibility:d?Ae?"inherit":Ye:We}).animate(t({x:i-o,y:n-o},h.symbolName?{width:2*o,height:2*o}:{})):d&&(o>0||l)&&(s.graphic=h=m.renderer.symbol(a,i-o,n-o,2*o,2*o).attr(e).add(_))):h&&(s.graphic=h.destroy())},convertAttribs:function(t,e,i,n){var r,s,o=this.pointAttrToOptions,a={};t=t||{},e=e||{},i=i||{},n=n||{};for(r in o)s=o[r],a[r]=p(t[s],e[r],i[r],n[r]);return a},getAttribs:function(){var e,i,n,r,s,o,a=this,l=Pi[a.type].marker?a.options.marker:a.options,h=l.states,u=h[Ke],d=a.color,p={stroke:d,fill:d},f=a.points||[],g=[],m=a.pointAttrToOptions;for(a.options.marker?(u.radius=u.radius||l.radius+2,u.lineWidth=u.lineWidth||l.lineWidth+1):u.color=u.color||Ai(u.color||d).brighten(u.brightness).get(),g[qe]=a.convertAttribs(l,p),yi([Ke,Je],function(t){g[t]=a.convertAttribs(h[t],g[qe])}),a.pointAttr=g,i=f.length;i--;){if(n=f[i],l=n.options&&n.options.marker||n.options,l&&l.enabled===!1&&(l.radius=0),s=a.options.colorByPoint,n.options)for(o in m)c(l[m[o]])&&(s=!0);s?(l=l||{},r=[],h=l.states||{},e=h[Ke]=h[Ke]||{},a.options.marker||(e.color=Ai(e.color||n.color).brighten(e.brightness||u.brightness).get()),r[qe]=a.convertAttribs(t({color:n.color},l),g[qe]),r[Ke]=a.convertAttribs(h[Ke],g[Ke],r[qe]),r[Je]=a.convertAttribs(h[Je],g[Je],r[qe])):r=g,n.pointAttr=r}},destroy:function(){var t,e,i,n,r,s=this,o=s.chart,a=/AppleWebKit\/533/.test(De),l=s.data||[];for(Di(s,"destroy"),ki(s),yi(["xAxis","yAxis"],function(t){r=s[t],r&&(h(r.series,s),r.isDirty=!0)}),s.legendItem&&s.chart.legend.destroyItem(s),e=l.length;e--;)i=l[e],i&&i.destroy&&i.destroy();s.points=null,clearTimeout(s.animationTimeout),yi(["area","graph","dataLabelsGroup","group","markerGroup","tracker","trackerGroup"],function(e){s[e]&&(t=a&&"group"===e?"hide":"destroy",s[e][t]())}),o.hoverSeries===s&&(o.hoverSeries=null),h(o.series,s);for(n in s)delete s[n]},drawDataLabels:function(){var t,e,i,n,r=this,s=r.options,o=s.dataLabels,a=r.points;(o.enabled||r._hasPointLabels)&&(r.dlProcessOptions&&r.dlProcessOptions(o),n=r.plotGroup("dataLabelsGroup","data-labels",r.visible?Ye:We,6),e=o,yi(a,function(s){var a,l,h,u,d=s.dataLabel,f=!0;if(t=s.options&&s.options.dataLabels,a=e.enabled||t&&t.enabled,d&&!a)s.dataLabel=d.destroy();else if(a){if(u=o.rotation,o=xi(e,t),i=o.formatter.call(s.getLabelConfig(),o),o.style.color=p(o.color,o.style.color,r.color,"black"),d)d.attr({text:i}),f=!1;else if(c(i)){l={fill:o.backgroundColor,stroke:o.borderColor,"stroke-width":o.borderWidth,r:o.borderRadius||0,rotation:u,padding:o.padding,zIndex:1};for(h in l)l[h]===j&&delete l[h];d=s.dataLabel=r.chart.renderer[u?"text":"label"](i,0,-999,null,null,null,o.useHTML).attr(l).css(o.style).add(n).shadow(o.shadow)}d&&r.alignDataLabel(s,d,o,null,f)}}))},alignDataLabel:function(e,i,n,r,s){var o,a=this.chart,l=a.inverted,h=p(e.plotX,-999),c=p(e.plotY,-999),u=i.getBBox();r=t({x:l?a.plotWidth-c:h,y:fe(l?a.plotHeight-h:c),width:0,height:0},r),t(n,{width:u.width,height:u.height}),n.rotation?(o={align:n.align,x:r.x+n.x+r.width/2,y:r.y+n.y+r.height/2},i[s?"attr":"animate"](o)):(i.align(n,null,r),o=i.alignAttr),i.attr({visibility:n.crop===!1||a.isInsidePlot(o.x,o.y)||a.isInsidePlot(h,c,l)?Ae?"inherit":Ye:We})},getSegmentPath:function(t){var e=this,i=[];return yi(t,function(n,r){if(e.getPointSpline)i.push.apply(i,e.getPointSpline(t,n,r));else{if(i.push(r?Xe:Ue),r&&e.options.step){var s=t[r-1];i.push(n.plotX,s.plotY)}i.push(n.plotX,n.plotY)}}),i},getGraphPath:function(){var t,e=this,i=[],n=[];return yi(e.segments,function(r){t=e.getSegmentPath(r),r.length>1?i=i.concat(t):n.push(r[0])}),e.singlePoints=n,e.graphPath=i,i},drawGraph:function(){var t,e=this.options,i=this.graph,n=this.group,r=e.lineColor||this.color,s=e.lineWidth,o=e.dashStyle,a=this.getGraphPath();i?(Ti(i),i.animate({d:a})):s&&(t={stroke:r,"stroke-width":s,zIndex:1},o&&(t.dashstyle=o),this.graph=this.chart.renderer.path(a).attr(t).add(n).shadow(e.shadow))},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};yi(["group","trackerGroup","markerGroup"],function(i){e[i]&&e[i].attr(t).invert()})}var e=this,i=e.chart;wi(i,"resize",t),wi(e,"destroy",function(){ki(i,"resize",t)}),t(),e.invertGroups=t},plotGroup:function(t,e,i,n,r){var s=this[t],o=this.chart,a=this.xAxis,l=this.yAxis;return s||(this[t]=s=o.renderer.g(e).attr({visibility:i,zIndex:n||.1}).add(r)),s.translate(a?a.left:o.plotLeft,l?l.top:o.plotTop),s},render:function(){var t,e=this,i=e.chart,n=e.options,r=n.animation,s=r&&!!e.animate,o=e.visible?Ye:We,a=n.zIndex,l=e.hasRendered,h=i.seriesGroup;t=e.plotGroup("group","series",o,a,h),e.markerGroup=e.plotGroup("markerGroup","markers",o,a,h),s&&e.animate(!0),e.getAttribs(),t.inverted=i.inverted,e.drawGraph&&e.drawGraph(),e.drawPoints(),e.drawDataLabels(),e.options.enableMouseTracking!==!1&&e.drawTracker(),i.inverted&&e.invertGroups(),n.clip===!1||e.sharedClipKey||l||(t.clip(i.clipRect),this.trackerGroup&&this.trackerGroup.clip(i.clipRect)),s?e.animate():l||e.afterAnimate(),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this,e=t.chart,i=t.isDirtyData,n=t.group;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:t.xAxis.left,translateY:t.yAxis.top})),t.translate(),t.setTooltipPoints(!0),t.render(),i&&Di(t,"updatedData")},setState:function(t){var e=this,i=e.options,n=e.graph,r=i.states,s=i.lineWidth;if(t=t||qe,e.state!==t){if(e.state=t,r[t]&&r[t].enabled===!1)return;t&&(s=r[t].lineWidth||s+1),n&&!n.dashstyle&&n.attr({"stroke-width":s},t?0:500)}},setVisible:function(t,e){var i,n,r,s=this,o=s.chart,a=s.legendItem,l=s.group,h=s.tracker,c=s.dataLabelsGroup,u=s.markerGroup,d=s.points,p=o.options.chart.ignoreHiddenSeries,f=s.visible;if(s.visible=t=t===j?!f:t,i=t?"show":"hide",l&&l[i](),u&&u[i](),h)h[i]();else if(d)for(n=d.length;n--;)r=d[n],r.tracker&&r.tracker[i]();c&&c[i](),a&&o.legend.colorizeItem(s,t),s.isDirty=!0,s.options.stacking&&yi(o.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),p&&(o.isDirtyBox=!0),e!==!1&&o.redraw(),Di(s,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var e=this;e.selected=t=t===j?!e.selected:t,e.checkbox&&(e.checkbox.checked=t),Di(e,t?"select":"unselect")},drawTracker:function(){var t,e,i=this,n=i.options,r=n.trackByArea,s=[].concat(r?i.areaPath:i.graphPath),o=s.length,a=i.chart,l=a.renderer,h=a.options.tooltip.snap,c=i.tracker,u=n.cursor,d=u&&{cursor:u},p=i.singlePoints,f=this.isCartesian&&this.plotGroup("trackerGroup",null,Ye,n.zIndex||1,a.trackerGroup);if(o&&!r)for(e=o+1;e--;)s[e]===Ue&&s.splice(e+1,0,s[e+1]-h,s[e+2],Xe),(e&&s[e]===Ue||e===o)&&s.splice(e,0,Xe,s[e-2]+h,s[e-1]);for(e=0;p.length>e;e++)t=p[e],s.push(Ue,t.plotX-h,t.plotY,Xe,t.plotX+h,t.plotY);c?c.attr({d:s}):i.tracker=l.path(s).attr({isTracker:!0,"stroke-linejoin":"bevel",visibility:i.visible?Ye:We,stroke:Ge,fill:r?Ge:je,"stroke-width":n.lineWidth+(r?0:2*h)}).on(Ne?"touchstart":"mouseover",function(){a.hoverSeries!==i&&i.onMouseOver()}).on("mouseout",function(){n.stickyTracking||i.onMouseOut()}).css(d).add(f)}};var Hi=m(Ri);ui.line=Hi,Pi.area=xi(Ii,{threshold:0});var Wi=m(Ri,{type:"area",getSegmentPath:function(t){var e,i=Ri.prototype.getSegmentPath.call(this,t),n=[].concat(i),r=this.options,s=i.length;if(3===s&&n.push(Xe,i[1],i[2]),r.stacking&&!this.closedStacks)for(e=t.length-1;e>=0;e--)t.length-1>e&&r.step&&n.push(t[e+1].plotX,t[e].yBottom),n.push(t[e].plotX,t[e].yBottom);else this.closeSegment(n,t);return this.areaPath=this.areaPath.concat(n),i},closeSegment:function(t,e){var i=this.yAxis.getThreshold(this.options.threshold);t.push(Xe,e[e.length-1].plotX,i,Xe,e[0].plotX,i)},drawGraph:function(){this.areaPath=[],Ri.prototype.drawGraph.apply(this);var t=this.areaPath,e=this.options,i=this.area;i?i.animate({d:t}):this.area=this.chart.renderer.path(t).attr({fill:p(e.fillColor,Ai(this.color).setOpacity(e.fillOpacity||.75).get()),zIndex:0}).add(this.group)},drawLegendSymbol:function(t,e){e.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,t.options.symbolWidth,12,2).attr({zIndex:3}).add(e.legendGroup)}});ui.area=Wi,Pi.spline=xi(Ii);var Bi=m(Ri,{type:"spline",getPointSpline:function(t,e,i){var n,r,s,o,a,l=1.5,h=l+1,c=e.plotX,u=e.plotY,d=t[i-1],p=t[i+1];if(d&&p){var f,g=d.plotX,m=d.plotY,y=p.plotX,v=p.plotY;n=(l*c+g)/h,r=(l*u+m)/h,s=(l*c+y)/h,o=(l*u+v)/h,f=(o-r)*(s-c)/(s-n)+u-o,r+=f,o+=f,r>m&&r>u?(r=ye(m,u),o=2*u-r):m>r&&u>r&&(r=ve(m,u),o=2*u-r),o>v&&o>u?(o=ye(v,u),r=2*u-o):v>o&&u>o&&(o=ve(v,u),r=2*u-o),e.rightContX=s,e.rightContY=o}return i?(a=["C",d.rightContX||d.plotX,d.rightContY||d.plotY,n||c,r||u,c,u],d.rightContX=d.rightContY=null):a=[Ue,c,u],a}});ui.spline=Bi,Pi.areaspline=xi(Pi.area);var Yi=Wi.prototype,Vi=m(Bi,{type:"areaspline",closedStacks:!0,getSegmentPath:Yi.getSegmentPath,closeSegment:Yi.closeSegment,drawGraph:Yi.drawGraph});ui.areaspline=Vi,Pi.column=xi(Ii,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},threshold:0});var ji=m(Ri,{type:"column",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){Ri.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&yi(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},translate:function(){var t,e,i=this,n=i.chart,r=i.options,s=r.stacking,o=r.borderWidth,a=0,l=i.xAxis,h=l.reversed,u={};Ri.prototype.translate.apply(i),r.grouping===!1?a=1:yi(n.series,function(n){var r=n.options;n.type===i.type&&n.visible&&i.options.group===r.group&&(r.stacking?(t=n.stackKey,u[t]===j&&(u[t]=a++),e=u[t]):r.grouping!==!1&&(e=a++),n.columnIndex=e)});var d=i.points,f=_e(l.transA)*(l.ordinalSlope||r.pointRange||l.closestPointRange||1),g=f*r.groupPadding,m=f-2*g,y=m/a,v=r.pointWidth,_=c(v)?(y-v)/2:y*r.pointPadding,b=p(v,y-2*_),x=me(ye(b,1+2*o)),w=(h?a-i.columnIndex:i.columnIndex)||0,k=_+(g+w*y-f/2)*(h?-1:1),D=r.threshold,C=i.translatedThreshold=i.yAxis.getThreshold(D),M=p(r.minPointLength,5);yi(d,function(t){var e,r=t.plotY,a=p(t.yBottom,C),l=t.plotX+k,h=me(ve(r,a)),c=me(ye(r,a)-h),u=i.yAxis.stacks[(0>t.y?"-":"")+i.stackKey];s&&i.visible&&u&&u[t.x]&&u[t.x].setOffset(k,x),M>_e(c)&&M&&(c=M,h=_e(h-C)>M?a-M:C-(C>=r?M:0)),t.barX=l,t.pointWidth=b,t.shapeType="rect",t.shapeArgs=e=n.renderer.Element.prototype.crisp.call(0,o,l,h,x,c),o%2&&(e.y-=1,e.height+=1),t.trackerArgs=3>_e(c)&&xi(t.shapeArgs,{height:6,y:h-3})})},getSymbol:ze,drawLegendSymbol:Wi.prototype.drawLegendSymbol,drawGraph:ze,drawPoints:function(){var t,e=this,i=e.options,n=e.chart.renderer;yi(e.points,function(r){var s=r.plotY,o=r.graphic;s===j||isNaN(s)||null===r.y?o&&(r.graphic=o.destroy()):(t=r.shapeArgs,o?(Ti(o),o.animate(xi(t))):r.graphic=o=n[r.shapeType](t).attr(r.pointAttr[r.selected?Je:qe]).add(e.group).shadow(i.shadow,null,i.stacking&&!i.borderRadius))})},drawTracker:function(){var t,e,i,n,r,s=this,o=s.chart,a=o.renderer,l=+new Date,h=s.options,c=h.cursor,d=c&&{cursor:c},p=s.isCartesian&&s.plotGroup("trackerGroup",null,Ye,h.zIndex||1,o.trackerGroup);yi(s.points,function(c){e=c.tracker,t=c.trackerArgs||c.shapeArgs,n=c.plotY,r=!s.isCartesian||n!==j&&!isNaN(n),delete t.strokeWidth,null!==c.y&&r&&(e?e.attr(t):c.tracker=a[c.shapeType](t).attr({isTracker:l,fill:Ge,visibility:s.visible?Ye:We}).on(Ne?"touchstart":"mouseover",function(t){i=t.relatedTarget||t.fromElement,o.hoverSeries!==s&&u(i,"isTracker")!==l&&s.onMouseOver(),c.onMouseOver()}).on("mouseout",function(t){h.stickyTracking||(i=t.relatedTarget||t.toElement,u(i,"isTracker")!==l&&s.onMouseOut())}).css(d).add(c.group||p))})},alignDataLabel:function(t,e,i,n,r){var s=this.chart,o=s.inverted,a=t.below||t.plotY>(this.translatedThreshold||s.plotSizeY),l=this.options.stacking||i.inside;t.shapeArgs&&(n=xi(t.shapeArgs),o&&(n={x:s.plotWidth-n.y-n.height,y:s.plotHeight-n.x-n.width,width:n.height,height:n.width}),l||(o?(n.x+=a?0:n.width,n.width=0):(n.y+=a?n.height:0,n.height=0))),i.align=p(i.align,!o||l?"center":a?"right":"left"),i.verticalAlign=p(i.verticalAlign,o||l?"middle":a?"top":"bottom"),Ri.prototype.alignDataLabel.call(this,t,e,i,n,r)},animate:function(t){var e=this,i=e.points,n=e.options;t||(yi(i,function(t){var i=t.graphic,r=t.shapeArgs,s=e.yAxis,o=n.threshold;i&&(i.attr({height:0,y:c(o)?s.getThreshold(o):s.translate(s.getExtremes().min,0,1,0,1)}),i.animate({height:r.height,y:r.y},n.animation))}),e.animate=null)},remove:function(){var t=this,e=t.chart;e.hasRendered&&yi(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),Ri.prototype.remove.apply(t,arguments)}});ui.column=ji,Pi.bar=xi(Pi.column);var Ui=m(ji,{type:"bar",inverted:!0});ui.bar=Ui,Pi.scatter=xi(Ii,{lineWidth:0,states:{hover:{lineWidth:0}},tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});var Xi=m(Ri,{type:"scatter",sorted:!1,translate:function(){var t=this;Ri.prototype.translate.apply(t),yi(t.points,function(e){e.shapeType="circle",e.shapeArgs={x:e.plotX,y:e.plotY,r:t.chart.options.tooltip.snap}})},drawTracker:function(){for(var t,e=this,i=e.options.cursor,n=i&&{cursor:i},r=e.points,s=r.length;s--;)t=r[s].graphic,t&&(t.element._i=s);e._hasTracking?e._hasTracking=!0:e.markerGroup.attr({isTracker:!0}).on(Ne?"touchstart":"mouseover",function(t){e.onMouseOver(),t.target._i!==j&&r[t.target._i].onMouseOver()}).on("mouseout",function(){e.options.stickyTracking||e.onMouseOut()}).css(n)}});ui.scatter=Xi,Pi.pie=xi(Ii,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},legendType:"point",marker:null,size:"75%",showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}}});var Gi=m(Fi,{init:function(){Fi.prototype.init.apply(this,arguments);var e,i=this;return t(i,{visible:i.visible!==!1,name:p(i.name,"Slice")}),e=function(){i.slice()},wi(i,"select",e),wi(i,"unselect",e),i},setVisible:function(t){var e,i=this,n=i.series,r=n.chart,s=i.tracker,o=i.dataLabel,a=i.connector,l=i.shadowGroup;i.visible=t=t===j?!i.visible:t,e=t?"show":"hide",i.group[e](),s&&s[e](),o&&o[e](),a&&a[e](),l&&l[e](),i.legendItem&&r.legend.colorizeItem(i,t),!n.isDirty&&n.options.ignoreHiddenPoint&&(n.isDirty=!0,r.redraw())},slice:function(t,e,i){var n,r=this,s=r.series,o=s.chart,a=r.slicedTranslation;O(i,o),e=p(e,!0),t=r.sliced=c(t)?t:!r.sliced,n={translateX:t?a[0]:o.plotLeft,translateY:t?a[1]:o.plotTop},r.group.animate(n),r.shadowGroup&&r.shadowGroup.animate(n)}}),qi={type:"pie",isCartesian:!1,pointClass:Gi,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=this.chart.counters.color},animate:function(){var t=this,e=t.points;yi(e,function(e){var i=e.graphic,n=e.shapeArgs,r=-we/2;i&&(i.attr({r:0,start:r,end:r}),i.animate({r:n.r,start:n.start,end:n.end},t.options.animation))}),t.animate=null},setData:function(t,e){Ri.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),p(e,!0)&&this.chart.redraw()},getCenter:function(){var t,e=this.options,n=this.chart,r=n.plotWidth,s=n.plotHeight,o=e.center.concat([e.size,e.innerSize||0]),a=ve(r,s);return bi(o,function(e,n){return t=/%$/.test(e),t?[r,s,a,a][n]*i(e)/100:e
})},translate:function(){this.generatePoints();var t,e,i,n,r,s,o,a,l,h=0,c=this,u=-.25,d=1e3,p=c.options,f=p.slicedOffset,g=f+p.borderWidth,m=c.chart,y=c.points,v=2*we,_=p.dataLabels.distance,b=p.ignoreHiddenPoint,x=y.length;for(c.center=t=c.getCenter(),c.getX=function(e,i){return n=pe.asin((e-t[1])/(t[2]/2+_)),t[0]+(i?-1:1)*be(n)*(t[2]/2+_)},a=0;x>a;a++)l=y[a],h+=b&&!l.visible?0:l.y;for(a=0;x>a;a++)l=y[a],r=h?l.y/h:0,e=fe(u*v*d)/d,(!b||l.visible)&&(u+=r),i=fe(u*v*d)/d,l.shapeType="arc",l.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:e,end:i},n=(i+e)/2,l.slicedTranslation=bi([be(n)*f+m.plotLeft,xe(n)*f+m.plotTop],fe),s=be(n)*t[2]/2,o=xe(n)*t[2]/2,l.tooltipPos=[t[0]+.7*s,t[1]+.7*o],l.labelPos=[t[0]+s+be(n)*_,t[1]+o+xe(n)*_,t[0]+s+be(n)*g,t[1]+o+xe(n)*g,t[0]+s,t[1]+o,0>_?"center":v/4>n?"left":"right",n],l.percentage=100*r,l.total=h;this.setTooltipPoints()},render:function(){var t=this;t.getAttribs(),this.drawPoints(),t.options.enableMouseTracking!==!1&&t.drawTracker(),this.drawDataLabels(),t.options.animation&&t.animate&&t.animate(),t.isDirty=!1},drawPoints:function(){var e,i,n,r,s,o=this,a=o.chart,l=a.renderer,h=o.options.shadow;yi(o.points,function(c){i=c.graphic,s=c.shapeArgs,n=c.group,r=c.shadowGroup,h&&!r&&(r=c.shadowGroup=l.g("shadow").attr({zIndex:4}).add()),n||(n=c.group=l.g("point").attr({zIndex:5}).add()),e=c.sliced?c.slicedTranslation:[a.plotLeft,a.plotTop],n.translate(e[0],e[1]),r&&r.translate(e[0],e[1]),i?i.animate(s):c.graphic=i=l.arc(s).setRadialReference(o.center).attr(t(c.pointAttr[qe],{"stroke-linejoin":"round"})).add(c.group).shadow(h,r),c.visible===!1&&c.setVisible(!1)})},drawDataLabels:function(){var t,e,i,n,r,s,o,a,l,h,c,u,d=this,f=d.data,g=d.chart,m=d.options.dataLabels,y=p(m.connectorPadding,10),v=p(m.connectorWidth,1),_=p(m.softConnector,!0),b=m.distance,x=d.center,w=x[2]/2,k=x[1],D=b>0,C=[[],[]],M=2;if(m.enabled||d._hasPointLabels)for(Ri.prototype.drawDataLabels.apply(d),yi(f,function(t){t.dataLabel&&C[we/2>t.labelPos[7]?0:1].push(t)}),C[1].reverse(),c=function(t,e){return e.y-t.y},s=C[0][0]&&C[0][0].dataLabel&&(C[0][0].dataLabel.getBBox().height||21);M--;){var T,S,P,I=[],A=[],O=C[M],$=O.length;if(b>0){for(S=k-w-b;k+w+b>=S;S+=s)I.push(S);if(T=I.length,$>T){for(h=[].concat(O),h.sort(c),u=$;u--;)h[u].rank=u;for(u=$;u--;)O[u].rank>=T&&O.splice(u,1);$=O.length}for(u=0;$>u;u++){t=O[u],r=t.labelPos;var N,E,L=9999;for(E=0;T>E;E++)N=_e(I[E]-r[1]),L>N&&(L=N,P=E);if(u>P&&null!==I[u])P=u;else if($-u+P>T&&null!==I[u])for(P=T-$+u;null===I[P];)P++;else for(;null===I[P];)P++;A.push({i:P,y:I[P]}),I[P]=null}A.sort(c)}for(u=0;$>u;u++){var z,F;t=O[u],r=t.labelPos,n=t.dataLabel,l=t.visible===!1?We:Ye,F=r[1],b>0?(z=A.pop(),P=z.i,a=z.y,(F>a&&null!==I[P+1]||a>F&&null!==I[P-1])&&(a=F)):a=F,o=m.justify?x[0]+(M?-1:1)*(w+b):d.getX(0===P||P===I.length-1?F:a,M),n.attr({visibility:l,align:r[6]})[n.moved?"animate":"attr"]({x:o+m.x+({left:y,right:-y}[r[6]]||0),y:a+m.y-10}),n.moved=!0,D&&v&&(e=t.connector,i=_?[Ue,o+("left"===r[6]?5:-5),a,"C",o,a,2*r[2]-r[4],2*r[3]-r[5],r[2],r[3],Xe,r[4],r[5]]:[Ue,o+("left"===r[6]?5:-5),a,Xe,r[2],r[3],Xe,r[4],r[5]],e?(e.animate({d:i}),e.attr("visibility",l)):t.connector=e=d.chart.renderer.path(i).attr({"stroke-width":v,stroke:m.connectorColor||t.color||"#606060",visibility:l,zIndex:3}).translate(g.plotLeft,g.plotTop).add())}}},alignDataLabel:ze,drawTracker:ji.prototype.drawTracker,drawLegendSymbol:Wi.prototype.drawLegendSymbol,getSymbol:function(){}};return qi=m(Ri,qi),ui.pie=qi,t(Highcharts,{Axis:H,CanVGRenderer:Li,Chart:V,Color:Ai,Legend:Y,MouseTracker:B,Point:Fi,Tick:z,Tooltip:W,Renderer:U,Series:Ri,SVGRenderer:Oi,VMLRenderer:$i,dateFormat:q,pathAnim:J,getOptions:E,hasBidiBug:Oe,numberFormat:v,seriesTypes:ui,setOptions:N,addEvent:wi,removeEvent:ki,createElement:g,discardElement:P,css:f,each:yi,extend:t,map:bi,merge:xi,pick:p,splat:d,extendClass:m,pInt:i,wrap:b,svg:Ae,canvas:$e,vml:!Ae&&!$e,product:"Highcharts",version:"2.3.3"}),Highcharts}),define("plugins/backbone-charts/options",[],function(){var t,e;return t={chart:{style:{fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'}},title:{text:"",align:"right"},subtitle:{align:"right"},exporting:{enabled:!1},credits:{enabled:!1},tooltip:{snap:1,useHTML:!0,borderWidth:1,borderRadius:3},plotOptions:{series:{shadow:!1,animation:{duration:400}},area:{lineWidth:1,shadow:!1,stacking:"normal",states:{hover:{lineWidth:1}},marker:{enabled:!1,states:{hover:{enabled:!0,radius:5}}},fillOpacity:.1},areaspline:{lineWidth:1,shadow:!1,states:{hover:{lineWidth:1}},marker:{enabled:!1,states:{hover:{enabled:!0}}},fillOpacity:.1},bar:{borderWidth:0,minPointLength:2},column:{borderWidth:0,minPointLength:2},pie:{allowPointSelect:!0,cursor:"pointer",showInLegend:!0},scatter:{marker:{radius:5,states:{hover:{enabled:!1}}},states:{hover:{marker:{enabled:!1}}}}}},e={chart:{defaultSeriesType:"areaspline",margin:[0,0,0,0]},title:{text:"",align:"left",y:0,x:0,style:{fontSize:"8px",color:"#333333"}},credits:{enabled:!1},legend:{enabled:!1},tooltip:{enabled:!1},xAxis:{startOnTick:!0,labels:{enabled:!1}},yAxis:{endOnTick:!1,labels:{enabled:!1}},plotOptions:{series:{lineWidth:1,shadow:!1,states:{hover:{enabled:!1}},marker:{enabled:!1}},areaspline:{fillOpacity:.1},area:{fillOpacity:.1}}},{defaults:t,sparkline:e}});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};define("plugins/backbone-charts",["highcharts","underscore","backbone","./backbone-charts/options"],function(t,e,i,n){var r,s,o,a,l,h,c,u,d,p,f;c={el:"chart.renderTo",type:"chart.type",height:"chart.height",width:"chart.width",labelFormatter:"plotOptions.series.dataLabels.formatter",tooltipFormatter:"tooltip.formatter",animate:"plotOptions.series.animation",categories:"xAxis.categories",title:"title.text",subtitle:"subtitle.text",xAxis:"xAxis.title.text",yAxis:"yAxis.title.text",stacking:"plotOptions.series.stacking",legend:"legend.enabled",suffix:"tooltip.valueSuffix",prefix:"tooltip.valuePrefix",series:"series"},a=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return __extends(i,e),i.prototype.className="chart",i.prototype.chartOptions=n.defaults,i.prototype.initialize=function(t){var e,i;null==t.el&&(t.el=this.el),this.chartOptions=$.extend(!0,{},this.chartOptions,t.options);for(e in t)i=t[e],c[e]&&this.setOption(c[e],i)},i.prototype.setOption=function(t,e){var i,n,r,s,o,a;for(n=this.chartOptions,s=t.split("."),i=s.pop(),o=0,a=s.length;a>o;o++)r=s[o],null==n[r]&&(n[r]={}),n=n[r];return n[i]=e},i.prototype.render=function(){return this.chart&&this.chart.destroy(),this.model?(this.chartOptions.series=[$.extend(!0,{},this.model.toJSON())],this.model.categories&&this.setOption("xAxis.categories",this.model.categories)):this.collection&&(this.chartOptions.series=this.collection instanceof Series?[$.extend(!0,{},this.collection.toJSON())]:$.extend(!0,[],this.collection.toJSON()),this.collection.categories&&this.setOption("xAxis.categories",this.collection.categories)),this.chart=new t.Chart(this.chartOptions),this.$el},i}(i.View),a.setDefaultOption=function(t,i){var n,r,s,o,a,l,h,c;for(r=this.prototype.chartOptions=e.clone(this.prototype.chartOptions),l=t.split("."),n=l.pop(),s=null,o=null,h=0,c=l.length;c>h;h++)a=l[h],s=r,r=null!=s[a]?e.clone(s[a]):{},s[a]=r;return r[n]=i},r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e}(a),r.setDefaultOption("chart.type","area"),s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e}(a),s.setDefaultOption("chart.type","areaspline"),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e}(a),o.setDefaultOption("chart.type","bar"),l=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e}(a),l.setDefaultOption("chart.type","column"),h=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e}(a),h.setDefaultOption("chart.type","line"),u=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e}(a),u.setDefaultOption("chart.type","pie"),u.setDefaultOption("legend.enabled",!0),d=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e}(a),d.setDefaultOption("chart.type","scatter"),f=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e}(a),f.setDefaultOption("chart.type","spline"),p=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.className="sparkline",e.prototype.chartOptions=n.sparkline,e}(a),i.Chart=a,i.AreaChart=r,i.AreaSplineChart=s,i.BarChart=o,i.ColumnChart=l,i.LineChart=h,i.PieChart=u,i.ScatterChart=d,i.SplineChart=f,i.Sparkline=p}),define("plugins/bootstrap",["../jquery"],function(t){!function(t){t(function(){t.support.transition=function(){var t=function(){var t,e=document.createElement("bootstrap"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in i)if(void 0!==e.style[t])return i[t]}();return t&&{end:t}}()})}(t),!function(t){var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){n.trigger("closed").remove()}var n,r=t(this),s=r.attr("data-target");s||(s=r.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),n=t(s),e&&e.preventDefault(),n.length||(n=r.hasClass("alert")?r:r.parent()),n.trigger(e=t.Event("close")),e.isDefaultPrevented()||(n.removeClass("in"),t.support.transition&&n.hasClass("fade")?n.on(t.support.transition.end,i):i())};var n=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var n=t(this),r=n.data("alert");r||n.data("alert",r=new i(this)),"string"==typeof e&&r[e].call(n)})},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.alert.data-api",e,i.prototype.close)}(t),!function(t){var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,i)};e.prototype.setState=function(t){var e="disabled",i=this.$element,n=i.data(),r=i.is("input")?"val":"html";t+="Text",n.resetText||i.data("resetText",i[r]()),i[r](n[t]||this.options[t]),setTimeout(function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each(function(){var n=t(this),r=n.data("button"),s="object"==typeof i&&i;r||n.data("button",r=new e(this,s)),"toggle"==i?r.toggle():i&&r.setState(i)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle")})}(t),!function(t){var e=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(e){var i=this.getActiveIndex(),n=this;if(!(e>this.$items.length-1||0>e))return this.sliding?this.$element.one("slid",function(){n.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",t(this.$items[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(e,i){var n,r=this.$element.find(".item.active"),s=i||r[e](),o=this.interval,a="next"==e?"left":"right",l="next"==e?"first":"last",h=this;if(this.sliding=!0,o&&this.pause(),s=s.length?s:this.$element.find(".item")[l](),n=t.Event("slide",{relatedTarget:s[0],direction:a}),!s.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(h.$indicators.children()[h.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(n),n.isDefaultPrevented())return;s.addClass(e),s[0].offsetWidth,r.addClass(a),s.addClass(a),this.$element.one(t.support.transition.end,function(){s.removeClass([e,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),h.sliding=!1,setTimeout(function(){h.$element.trigger("slid")},0)})}else{if(this.$element.trigger(n),n.isDefaultPrevented())return;r.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return o&&this.cycle(),this}}};var i=t.fn.carousel;t.fn.carousel=function(i){return this.each(function(){var n=t(this),r=n.data("carousel"),s=t.extend({},t.fn.carousel.defaults,"object"==typeof i&&i),o="string"==typeof i?i:s.slide;r||n.data("carousel",r=new e(this,s)),"number"==typeof i?r.to(i):o?r[o]():s.interval&&r.pause().cycle()})},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(e){var i,n,r=t(this),s=t(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),o=t.extend({},s.data(),r.data());s.carousel(o),(n=r.attr("data-slide-to"))&&s.data("carousel").pause().to(n).cycle(),e.preventDefault()})}(t),!function(t){var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,i),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,i,n,r;if(!this.transitioning&&!this.$element.hasClass("in")){if(e=this.dimension(),i=t.camelCase(["scroll",e].join("-")),n=this.$parent&&this.$parent.find("> .accordion-group > .in"),n&&n.length){if(r=n.data("collapse"),r&&r.transitioning)return;n.collapse("hide"),r||n.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][i])}},hide:function(){var e;!this.transitioning&&this.$element.hasClass("in")&&(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(e,i,n){var r=this,s=function(){"show"==i.type&&r.reset(),r.transitioning=0,r.$element.trigger(n)};this.$element.trigger(i),i.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,s):s())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each(function(){var n=t(this),r=n.data("collapse"),s=t.extend({},t.fn.collapse.defaults,n.data(),"object"==typeof i&&i);r||n.data("collapse",r=new e(this,s)),"string"==typeof i&&r[i]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var i,n=t(this),r=n.attr("data-target")||e.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),s=t(r).data("collapse")?"toggle":n.data();n[t(r).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(r).collapse(s)})}(t),!function(t){function e(){t(n).each(function(){i(t(this)).removeClass("open")})}function i(e){var i,n=e.attr("data-target");return n||(n=e.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),i=n&&t(n),i&&i.length||(i=e.parent()),i}var n="[data-toggle=dropdown]",r=function(e){var i=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){i.parent().removeClass("open")})};r.prototype={constructor:r,toggle:function(){var n,r,s=t(this);if(!s.is(".disabled, :disabled"))return n=i(s),r=n.hasClass("open"),e(),r||n.toggleClass("open"),s.focus(),!1},keydown:function(e){var r,s,o,a,l;if(/(38|40|27)/.test(e.keyCode)&&(r=t(this),e.preventDefault(),e.stopPropagation(),!r.is(".disabled, :disabled"))){if(o=i(r),a=o.hasClass("open"),!a||a&&27==e.keyCode)return 27==e.which&&o.find(n).focus(),r.click();s=t("[role=menu] li:not(.divider):visible a",o),s.length&&(l=s.index(s.filter(":focus")),38==e.keyCode&&l>0&&l--,40==e.keyCode&&s.length-1>l&&l++,~l||(l=0),s.eq(l).focus())}}};var s=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),n=i.data("dropdown");n||i.data("dropdown",n=new r(this)),"string"==typeof e&&n[e].call(i)})},t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.dropdown.data-api",e).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on(".dropdown-menu",function(t){t.stopPropagation()}).on("click.dropdown.data-api",n,r.prototype.toggle).on("keydown.dropdown.data-api",n+", [role=menu]",r.prototype.keydown)}(t),!function(t){var e=function(e,i){this.options=i,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,i=t.Event("show");this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var i=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),i&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),i?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")}))},hide:function(e){e&&e.preventDefault(),e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,i=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(i),e.hideModal()})},hideModal:function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e):e()):e&&e()}};var i=t.fn.modal;t.fn.modal=function(i){return this.each(function(){var n=t(this),r=n.data("modal"),s=t.extend({},t.fn.modal.defaults,n.data(),"object"==typeof i&&i);r||n.data("modal",r=new e(this,s)),"string"==typeof i?r[i]():s.show&&r.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),n=i.attr("href"),r=t(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},r.data(),i.data());e.preventDefault(),r.modal(s).one("hide",function(){i.focus()})})}(t),!function(t){var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,i,n){var r,s,o,a,l;for(this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.enabled=!0,o=this.options.trigger.split(" "),l=o.length;l--;)a=o[l],"click"==a?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=a&&(r="hover"==a?"mouseenter":"focus",s="hover"==a?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.leave,this)));this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);return i.options.delay&&i.options.delay.show?(clearTimeout(this.timeout),i.hoverState="in",this.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show),void 0):i.show()},leave:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),i.options.delay&&i.options.delay.hide?(i.hoverState="out",this.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide),void 0):i.hide()},show:function(){var e,i,n,r,s,o,a=t.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(a),a.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),s="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),i=this.getPosition(),n=e[0].offsetWidth,r=e[0].offsetHeight,s){case"bottom":o={top:i.top+i.height,left:i.left+i.width/2-n/2};break;case"top":o={top:i.top-r,left:i.left+i.width/2-n/2};break;case"left":o={top:i.top+i.height/2-r/2,left:i.left-n};break;case"right":o={top:i.top+i.height/2-r/2,left:i.left+i.width}}this.applyPlacement(o,s),this.$element.trigger("shown")}},applyPlacement:function(t,e){var i,n,r,s,o=this.tip(),a=o[0].offsetWidth,l=o[0].offsetHeight;o.offset(t).addClass(e).addClass("in"),i=o[0].offsetWidth,n=o[0].offsetHeight,"top"==e&&n!=l&&(t.top=t.top+l-n,s=!0),"bottom"==e||"top"==e?(r=0,0>t.left&&(r=-2*t.left,t.left=0,o.offset(t),i=o[0].offsetWidth,n=o[0].offsetHeight),this.replaceArrow(r-a+i,i,"left")):this.replaceArrow(n-l,n,"top"),s&&o.offset(t)},replaceArrow:function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){i.off(t.support.transition.end).detach()},500);i.one(t.support.transition.end,function(){clearTimeout(e),i.detach()})}var i=this.tip(),n=t.Event("hide");return this.$element.trigger(n),n.isDefaultPrevented()?void 0:(i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():i.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var i=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;i.tip().hasClass("in")?i.hide():i.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var n=t(this),r=n.data("tooltip"),s="object"==typeof i&&i;r||n.data("tooltip",r=new e(this,s)),"string"==typeof i&&r[i]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(t),!function(t){var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,i=this.options;return t=("function"==typeof i.content?i.content.call(e[0]):i.content)||e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var n=t(this),r=n.data("popover"),s="object"==typeof i&&i;r||n.data("popover",r=new e(this,s)),"string"==typeof i&&r[i]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(t),!function(t){function e(e,i){var n,r=t.proxy(this.process,this),s=t(e).is("body")?t(window):t(e);this.options=t.extend({},t.fn.scrollspy.defaults,i),this.$scrollElement=s.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(n=t(e).attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){var e,i=this;this.offsets=t([]),this.targets=t([]),e=this.$body.find(this.selector).map(function(){var e=t(this),n=e.data("target")||e.attr("href"),r=/^#\w/.test(n)&&t(n);return r&&r.length&&[[r.position().top+(!t.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=i-this.$scrollElement.height(),r=this.offsets,s=this.targets,o=this.activeTarget;if(e>=n)return o!=(t=s.last()[0])&&this.activate(t);for(t=r.length;t--;)o!=s[t]&&e>=r[t]&&(!r[t+1]||r[t+1]>=e)&&this.activate(s[t])},activate:function(e){var i,n;this.activeTarget=e,t(this.selector).parent(".active").removeClass("active"),n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parent("li").addClass("active"),i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate")}};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each(function(){var n=t(this),r=n.data("scrollspy"),s="object"==typeof i&&i;r||n.data("scrollspy",r=new e(this,s)),"string"==typeof i&&r[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(t),!function(t){var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,i,n,r=this.element,s=r.closest("ul:not(.dropdown-menu)"),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),r.parent("li").hasClass("active")||(e=s.find(".active:last a")[0],n=t.Event("show",{relatedTarget:e}),r.trigger(n),n.isDefaultPrevented()||(i=t(o),this.activate(r.parent("li"),s),this.activate(i,i.parent(),function(){r.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,i,n){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),o?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}var s=i.find("> .active"),o=n&&t.support.transition&&s.hasClass("fade");o?s.one(t.support.transition.end,r):r(),s.removeClass("in")}};var i=t.fn.tab;t.fn.tab=function(i){return this.each(function(){var n=t(this),r=n.data("tab");r||n.data("tab",r=new e(this)),"string"==typeof i&&r[i]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(t),!function(t){var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,i),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=t(this.options.menu),this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var e;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(e=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,e?this.process(e):this)
},process:function(e){var i=this;return e=t.grep(e,function(t){return i.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,i=[],n=[],r=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?n.push(e):r.push(e):i.push(e);return i.concat(n,r)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var i=this;return e=t(e).map(function(e,n){return e=t(i.options.item).attr("data-value",n),e.find("a").html(i.highlighter(n)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(){var e=this.$menu.find(".active").removeClass("active"),i=e.next();i.length||(i=t(this.$menu.find("li")[0])),i.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),e=t.prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var i=t.fn.typeahead;t.fn.typeahead=function(i){return this.each(function(){var n=t(this),r=n.data("typeahead"),s="object"==typeof i&&i;r||n.data("typeahead",r=new e(this,s)),"string"==typeof i&&r[i]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=i,this},t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var e=t(this);e.data("typeahead")||e.typeahead(e.data())})}(t),!function(t){var e=function(e,i){this.options=t.extend({},t.fn.affix.defaults,i),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)).on("click.affix.data-api",t.proxy(function(){setTimeout(t.proxy(this.checkPosition,this),1)},this)),this.$element=t(e),this.checkPosition()};e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e,i=t(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),s=this.options.offset,o=s.bottom,a=s.top,l="affix affix-top affix-bottom";"object"!=typeof s&&(o=a=s),"function"==typeof a&&(a=s.top()),"function"==typeof o&&(o=s.bottom()),e=null!=this.unpin&&n+this.unpin<=r.top?!1:null!=o&&r.top+this.$element.height()>=i-o?"bottom":null!=a&&a>=n?"top":!1,this.affixed!==e&&(this.affixed=e,this.unpin="bottom"==e?r.top-n:null,this.$element.removeClass(l).addClass("affix"+(e?"-"+e:"")))}};var i=t.fn.affix;t.fn.affix=function(i){return this.each(function(){var n=t(this),r=n.data("affix"),s="object"==typeof i&&i;r||n.data("affix",r=new e(this,s)),"string"==typeof i&&r[i]()})},t.fn.affix.Constructor=e,t.fn.affix.defaults={offset:0},t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)})})}(t)}),define("plugins/bootstrap-typeselect",["jquery"],function(t){!function(t){var e=function(e,i){this.$element=t(e).typeahead(i),this.options=t.extend({},t.fn.typeselect.defaults,i),this.$target=t(this.options.target);var n=this.$element.data("typeahead");this._process=t.proxy(n.process,n),n.process=t.proxy(this.process,this),this.selected=[],this.selectedItems={};for(var r=this.options.selected||[],s=0;r.length>s;s++)this.add(r[s]);this.listen()};e.prototype={constructor:e,listen:function(){this.$element.on("keydown",t.proxy(this.keyup,this)).on("change",t.proxy(this.change,this)),this.$target.on("click",".close",t.proxy(this.click,this))},add:function(e){if(!this.selectedItems[e]){this.selected.push(e);var i=t(this.options.selectedItem).text(e).attr("data-value",e).append('<span class="close">&times;</span>');this.selectedItems[e]=i,this.$target.append(i)}},remove:function(t){var e=this.selectedItems[t],i=this.selected.indexOf(t);i>=0&&this.selected.pop(i),delete this.selectedItems[t],e.remove()},change:function(){var t=this.$element.val();this.add(t),this.$element.val("")},process:function(e){var i=this;return e=t.grep(e,function(t){return null==i.selectedItems[t]}),this._process(e)},click:function(e){e.preventDefault(),this.remove(t(e.target).parent().attr("data-value"))}},t.fn.typeselect=function(i){return this.each(function(){var n=t(this),r=n.data("typeselect"),s="object"==typeof i&&i;r||n.data("typeselect",r=new e(this,s)),"string"==typeof i&&r[i]()})},t.fn.typeselect.defaults={selected:[],selectedItem:"<li></li>"},t.fn.typeselect.Constructor=e,t(document).on("focus.typeselect.data-api",'[data-provide="typeselect"]',function(e){var i=t(this);i.data("typeselect")||(e.preventDefault(),i.typeselect(i.data()))})}(t)}),define("plugins/bootstrap-datepicker",["jquery"],function(t){function e(){return new Date(Date.UTC.apply(Date,arguments))}var i=function(e,i){var s=this;switch(this.element=t(e),this.language=i.language||this.element.data("date-language")||"en",this.language=this.language in n?this.language:this.language.split("-")[0],this.language=this.language in n?this.language:"en",this.isRTL=n[this.language].rtl||!1,this.format=r.parseFormat(i.format||this.element.data("date-format")||n[this.language].format||"mm/dd/yyyy"),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this._attachEvents(),this.forceParse=!0,"forceParse"in i?this.forceParse=i.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse")),this.picker=t(r.template).appendTo(this.isInline?this.element:"body").on({click:t.proxy(this.click,this),mousedown:t.proxy(this.mousedown,this)}),this.isInline?this.picker.addClass("datepicker-inline"):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.isRTL&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),t(document).on("mousedown",function(e){0===t(e.target).closest(".datepicker.datepicker-inline, .datepicker.datepicker-dropdown").length&&s.hide()}),this.autoclose=!1,"autoclose"in i?this.autoclose=i.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose")),this.keyboardNavigation=!0,"keyboardNavigation"in i?this.keyboardNavigation=i.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation")),this.viewMode=this.startViewMode=0,i.startView||this.element.data("date-start-view")){case 2:case"decade":this.viewMode=this.startViewMode=2;break;case 1:case"year":this.viewMode=this.startViewMode=1}this.todayBtn=i.todayBtn||this.element.data("date-today-btn")||!1,this.todayHighlight=i.todayHighlight||this.element.data("date-today-highlight")||!1,this.calendarWeeks=!1,"calendarWeeks"in i?this.calendarWeeks=i.calendarWeeks:"dateCalendarWeeks"in this.element.data()&&(this.calendarWeeks=this.element.data("date-calendar-weeks")),this.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this.weekStart=(i.weekStart||this.element.data("date-weekstart")||n[this.language].weekStart||0)%7,this.weekEnd=(this.weekStart+6)%7,this.startDate=-1/0,this.endDate=1/0,this.daysOfWeekDisabled=[],this.setStartDate(i.startDate||this.element.data("date-startdate")),this.setEndDate(i.endDate||this.element.data("date-enddate")),this.setDaysOfWeekDisabled(i.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled")),this.fillDow(),this.fillMonths(),this.update(),this.showMode(),this.isInline&&this.show()};i.prototype={constructor:i,_events:[],_attachEvents:function(){this._detachEvents(),this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]];for(var e,i,n=0;this._events.length>n;n++)e=this._events[n][0],i=this._events[n][1],e.on(i)},_detachEvents:function(){for(var t,e,i=0;this._events.length>i;i++)t=this._events[i][0],e=this._events[i][1],t.off(e);this._events=[]},show:function(e){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.update(),this.place(),t(window).on("resize",t.proxy(this.place,this)),e&&(e.stopPropagation(),e.preventDefault()),this.element.trigger({type:"show",date:this.date})},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide(),t(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||t(document).off("mousedown",this.hide),this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.element.trigger({type:"hide",date:this.date}))},remove:function(){this._detachEvents(),this.picker.remove(),delete this.element.data().datepicker},getDate:function(){var t=this.getUTCDate();return new Date(t.getTime()+6e4*t.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(t){this.setUTCDate(new Date(t.getTime()-6e4*t.getTimezoneOffset()))},setUTCDate:function(t){this.date=t,this.setValue()},setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t):(this.component&&this.element.find("input").val(t),this.element.data("date",t))},getFormattedDate:function(t){return void 0===t&&(t=this.format),r.formatDate(this.date,t,this.language)},setStartDate:function(t){this.startDate=t||-1/0,this.startDate!==-1/0&&(this.startDate=r.parseDate(this.startDate,this.format,this.language)),this.update(),this.updateNavArrows()},setEndDate:function(t){this.endDate=t||1/0,1/0!==this.endDate&&(this.endDate=r.parseDate(this.endDate,this.format,this.language)),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this.daysOfWeekDisabled=e||[],t.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=t.map(this.daysOfWeekDisabled,function(t){return parseInt(t,10)}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=parseInt(this.element.parents().filter(function(){return"auto"!=t(this).css("z-index")}).first().css("z-index"))+10,i=this.component?this.component.offset():this.element.offset(),n=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:i.top+n,left:i.left,zIndex:e})}},update:function(){var t,e=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],e=!0):t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),this.date=r.parseDate(t,this.format,this.language),e&&this.setValue(),this.viewDate=this.date<this.startDate?new Date(this.startDate):this.date>this.endDate?new Date(this.endDate):new Date(this.date),this.fill()},fillDow:function(){var t=this.weekStart,e="<tr>";if(this.calendarWeeks){var i='<th class="cw">&nbsp;</th>';e+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;this.weekStart+7>t;)e+='<th class="dow">'+n[this.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+n[this.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},fill:function(){var i=new Date(this.viewDate),s=i.getUTCFullYear(),o=i.getUTCMonth(),a=this.startDate!==-1/0?this.startDate.getUTCFullYear():-1/0,l=this.startDate!==-1/0?this.startDate.getUTCMonth():-1/0,h=1/0!==this.endDate?this.endDate.getUTCFullYear():1/0,c=1/0!==this.endDate?this.endDate.getUTCMonth():1/0,u=this.date&&this.date.valueOf(),d=new Date;this.picker.find(".datepicker-days thead th.switch").text(n[this.language].months[o]+" "+s),this.picker.find("tfoot th.today").text(n[this.language].today).toggle(this.todayBtn!==!1),this.updateNavArrows(),this.fillMonths();var p=e(s,o-1,28,0,0,0,0),f=r.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(f),p.setUTCDate(f-(p.getUTCDay()-this.weekStart+7)%7);var g=new Date(p);g.setUTCDate(g.getUTCDate()+42),g=g.valueOf();for(var m,y=[];g>p.valueOf();){if(p.getUTCDay()==this.weekStart&&(y.push("<tr>"),this.calendarWeeks)){var v=new Date(+p+864e5*((this.weekStart-p.getUTCDay()-7)%7)),_=new Date(+v+864e5*((11-v.getUTCDay())%7)),b=new Date(+(b=e(_.getUTCFullYear(),0,1))+864e5*((11-b.getUTCDay())%7)),x=(_-b)/864e5/7+1;y.push('<td class="cw">'+x+"</td>")}m="",s>p.getUTCFullYear()||p.getUTCFullYear()==s&&o>p.getUTCMonth()?m+=" old":(p.getUTCFullYear()>s||p.getUTCFullYear()==s&&p.getUTCMonth()>o)&&(m+=" new"),this.todayHighlight&&p.getUTCFullYear()==d.getFullYear()&&p.getUTCMonth()==d.getMonth()&&p.getUTCDate()==d.getDate()&&(m+=" today"),u&&p.valueOf()==u&&(m+=" active"),(p.valueOf()<this.startDate||p.valueOf()>this.endDate||-1!==t.inArray(p.getUTCDay(),this.daysOfWeekDisabled))&&(m+=" disabled"),y.push('<td class="day'+m+'">'+p.getUTCDate()+"</td>"),p.getUTCDay()==this.weekEnd&&y.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(y.join(""));var w=this.date&&this.date.getUTCFullYear(),k=this.picker.find(".datepicker-months").find("th:eq(1)").text(s).end().find("span").removeClass("active");w&&w==s&&k.eq(this.date.getUTCMonth()).addClass("active"),(a>s||s>h)&&k.addClass("disabled"),s==a&&k.slice(0,l).addClass("disabled"),s==h&&k.slice(c+1).addClass("disabled"),y="",s=10*parseInt(s/10,10);var D=this.picker.find(".datepicker-years").find("th:eq(1)").text(s+"-"+(s+9)).end().find("td");s-=1;for(var C=-1;11>C;C++)y+='<span class="year'+(-1==C||10==C?" old":"")+(w==s?" active":"")+(a>s||s>h?" disabled":"")+'">'+s+"</span>",s+=1;D.html(y)},updateNavArrows:function(){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.startDate!==-1/0&&this.startDate.getUTCFullYear()>=e&&this.startDate.getUTCMonth()>=i?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.endDate&&e>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.startDate!==-1/0&&this.startDate.getUTCFullYear()>=e?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.endDate&&e>=this.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},click:function(i){i.stopPropagation(),i.preventDefault();var n=t(i.target).closest("span, td, th");if(1==n.length)switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var s=r.modes[this.viewMode].navStep*("prev"==n[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,s);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,s)}this.fill();break;case"today":var o=new Date;o=e(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0),this.showMode(-2);var a="linked"==this.todayBtn?null:"view";this._setDate(o,a)}break;case"span":if(!n.is(".disabled")){if(this.viewDate.setUTCDate(1),n.is(".month")){var l=n.parent().find("span").index(n);this.viewDate.setUTCMonth(l),this.element.trigger({type:"changeMonth",date:this.viewDate})}else{var h=parseInt(n.text(),10)||0;this.viewDate.setUTCFullYear(h),this.element.trigger({type:"changeYear",date:this.viewDate})}this.showMode(-1),this.fill()}break;case"td":if(n.is(".day")&&!n.is(".disabled")){var c=parseInt(n.text(),10)||1,h=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth();n.is(".old")?0===l?(l=11,h-=1):l-=1:n.is(".new")&&(11==l?(l=0,h+=1):l+=1),this._setDate(e(h,l,c,0,0,0,0))}}},_setDate:function(t,e){e&&"date"!=e||(this.date=t),e&&"view"!=e||(this.viewDate=t),this.fill(),this.setValue(),this.element.trigger({type:"changeDate",date:this.date});var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&(i.change(),!this.autoclose||e&&"date"!=e||this.hide())},moveMonth:function(t,e){if(!e)return t;var i,n,r=new Date(t.valueOf()),s=r.getUTCDate(),o=r.getUTCMonth(),a=Math.abs(e);if(e=e>0?1:-1,1==a)n=-1==e?function(){return r.getUTCMonth()==o}:function(){return r.getUTCMonth()!=i},i=o+e,r.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var l=0;a>l;l++)r=this.moveMonth(r,e);i=r.getUTCMonth(),r.setUTCDate(s),n=function(){return i!=r.getUTCMonth()}}for(;n();)r.setUTCDate(--s),r.setUTCMonth(i);return r},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.startDate&&this.endDate>=t},keydown:function(t){if(this.picker.is(":not(:visible)"))return 27==t.keyCode&&this.show(),void 0;var e,i,n,r=!1;switch(t.keyCode){case 27:this.hide(),t.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;e=37==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),n=this.moveYear(this.viewDate,e)):t.shiftKey?(i=this.moveMonth(this.date,e),n=this.moveMonth(this.viewDate,e)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+e),n=new Date(this.viewDate),n.setUTCDate(this.viewDate.getUTCDate()+e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),t.preventDefault(),r=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;e=38==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),n=this.moveYear(this.viewDate,e)):t.shiftKey?(i=this.moveMonth(this.date,e),n=this.moveMonth(this.viewDate,e)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+7*e),n=new Date(this.viewDate),n.setUTCDate(this.viewDate.getUTCDate()+7*e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),t.preventDefault(),r=!0);break;case 13:this.hide(),t.preventDefault();break;case 9:this.hide()}if(r){this.element.trigger({type:"changeDate",date:this.date});var s;this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.change()}},showMode:function(t){t&&(this.viewMode=Math.max(0,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+r.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}},t.fn.datepicker=function(e){var n=Array.apply(null,arguments);return n.shift(),this.each(function(){var r=t(this),s=r.data("datepicker"),o="object"==typeof e&&e;s||r.data("datepicker",s=new i(this,t.extend({},t.fn.datepicker.defaults,o))),"string"==typeof e&&"function"==typeof s[e]&&s[e].apply(s,n)})},t.fn.datepicker.defaults={},t.fn.datepicker.Constructor=i;var n=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today"}},r={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return 0===t%4&&0!==t%100||0===t%400},getDaysInMonth:function(t,e){return[31,r.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\0").split("\0"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(r,s,o){if(r instanceof Date)return r;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(r)){var a,l,h=/([\-+]\d+)([dmwy])/,c=r.match(/([\-+]\d+)([dmwy])/g);r=new Date;for(var u=0;c.length>u;u++)switch(a=h.exec(c[u]),l=parseInt(a[1]),a[2]){case"d":r.setUTCDate(r.getUTCDate()+l);break;case"m":r=i.prototype.moveMonth.call(i.prototype,r,l);break;case"w":r.setUTCDate(r.getUTCDate()+7*l);break;case"y":r=i.prototype.moveYear.call(i.prototype,r,l)}return e(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),0,0,0)}var d,p,a,c=r&&r.match(this.nonpunctuation)||[],r=new Date,f={},g=["yyyy","yy","M","MM","m","mm","d","dd"],m={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!=e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};m.M=m.MM=m.mm=m.m,m.dd=m.d,r=e(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0);var y=s.parts.slice();if(c.length!=y.length&&(y=t(y).filter(function(e,i){return-1!==t.inArray(i,g)}).toArray()),c.length==y.length){for(var u=0,v=y.length;v>u;u++){if(d=parseInt(c[u],10),a=y[u],isNaN(d))switch(a){case"MM":p=t(n[o].months).filter(function(){var t=this.slice(0,c[u].length),e=c[u].slice(0,t.length);return t==e}),d=t.inArray(p[0],n[o].months)+1;break;case"M":p=t(n[o].monthsShort).filter(function(){var t=this.slice(0,c[u].length),e=c[u].slice(0,t.length);return t==e}),d=t.inArray(p[0],n[o].monthsShort)+1}f[a]=d}for(var _,u=0;g.length>u;u++)_=g[u],_ in f&&!isNaN(f[_])&&m[_](r,f[_])}return r},formatDate:function(e,i,r){var s={d:e.getUTCDate(),D:n[r].daysShort[e.getUTCDay()],DD:n[r].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:n[r].monthsShort[e.getUTCMonth()],MM:n[r].months[e.getUTCMonth()],yy:(""+e.getUTCFullYear()).substring(2),yyyy:e.getUTCFullYear()};s.dd=(10>s.d?"0":"")+s.d,s.mm=(10>s.m?"0":"")+s.m;for(var e=[],o=t.extend([],i.separators),a=0,l=i.parts.length;l>a;a++)o.length&&e.push(o.shift()),e.push(s[i.parts[a]]);return e.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};r.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+r.headTemplate+"<tbody></tbody>"+r.footTemplate+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+"</table>"+"</div>"+"</div>",t.fn.datepicker.DPGlobal=r}),define("plugins/jquery-ui",["../jquery"],function(t){(function(t,e){function i(e,i){var r,s,o,a=e.nodeName.toLowerCase();return"area"===a?(r=e.parentNode,s=r.name,e.href&&s&&"map"===r.nodeName.toLowerCase()?(o=t("img[usemap=#"+s+"]")[0],!!o&&n(o)):!1):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var r=0,s=/^ui-id-\d+$/;t.ui=t.ui||{},t.ui.version||(t.extend(t.ui,{version:"1.10.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({_focus:t.fn.focus,focus:function(e,i){return"number"==typeof e?this.each(function(){var n=this;setTimeout(function(){t(n).focus(),i&&i.call(n)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var n,r,s=t(this[0]);s.length&&s[0]!==document;){if(n=s.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(r=parseInt(s.css("zIndex"),10),!isNaN(r)&&0!==r))return r;s=s.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(e,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,n){function r(e,i,n,r){return t.each(s,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var s="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?a["inner"+n].call(this):this.each(function(){t(this).css(o,r(this,i)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?a["outer"+n].call(this,e):this.each(function(){t(this).css(o,r(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,n){var r,s=t.ui[e].prototype;for(r in n)s.plugins[r]=s.plugins[r]||[],s.plugins[r].push([i,n[r]])},call:function(t,e,i){var n,r=t.plugins[e];if(r&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(n=0;r.length>n;n++)t.options[r[n][0]]&&r[n][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return e[n]>0?!0:(e[n]=1,r=e[n]>0,e[n]=0,r)}}))})(t),function(t,e){var i=0,n=Array.prototype.slice,r=t.cleanData;t.cleanData=function(e){for(var i,n=0;null!=(i=e[n]);n++)try{t(i).triggerHandler("remove")}catch(s){}r(e)},t.widget=function(i,n,r){var s,o,a,l,h={},c=i.split(".")[0];i=i.split(".")[1],s=c+"-"+i,r||(r=n,n=t.Widget),t.expr[":"][s.toLowerCase()]=function(e){return!!t.data(e,s)},t[c]=t[c]||{},o=t[c][i],a=t[c][i]=function(t,i){return this._createWidget?(arguments.length&&this._createWidget(t,i),e):new a(t,i)},t.extend(a,o,{version:r.version,_proto:t.extend({},r),_childConstructors:[]}),l=new n,l.options=t.widget.extend({},l.options),t.each(r,function(i,r){return t.isFunction(r)?(h[i]=function(){var t=function(){return n.prototype[i].apply(this,arguments)},e=function(t){return n.prototype[i].apply(this,t)};return function(){var i,n=this._super,s=this._superApply;return this._super=t,this._superApply=e,i=r.apply(this,arguments),this._super=n,this._superApply=s,i}}(),e):(h[i]=r,e)}),a.prototype=t.widget.extend(l,{widgetEventPrefix:o?l.widgetEventPrefix:i},h,{constructor:a,namespace:c,widgetName:i,widgetFullName:s}),o?(t.each(o._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete o._childConstructors):n._childConstructors.push(a),t.widget.bridge(i,a)},t.widget.extend=function(i){for(var r,s,o=n.call(arguments,1),a=0,l=o.length;l>a;a++)for(r in o[a])s=o[a][r],o[a].hasOwnProperty(r)&&s!==e&&(i[r]=t.isPlainObject(s)?t.isPlainObject(i[r])?t.widget.extend({},i[r],s):t.widget.extend({},s):s);return i},t.widget.bridge=function(i,r){var s=r.prototype.widgetFullName||i;t.fn[i]=function(o){var a="string"==typeof o,l=n.call(arguments,1),h=this;return o=!a&&l.length?t.widget.extend.apply(null,[o].concat(l)):o,a?this.each(function(){var n,r=t.data(this,s);return r?t.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,l),n!==r&&n!==e?(h=n&&n.jquery?h.pushStack(n.get()):n,!1):e):t.error("no such method '"+o+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+o+"'")}):this.each(function(){var e=t.data(this,s);e?e.option(o||{})._init():t.data(this,s,new r(o,this))}),h}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")
},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var r,s,o,a=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(a={},r=i.split("."),i=r.shift(),r.length){for(s=a[i]=t.widget.extend({},this.options[i]),o=0;r.length-1>o;o++)s[r[o]]=s[r[o]]||{},s=s[r[o]];if(i=r.pop(),n===e)return s[i]===e?null:s[i];s[i]=n}else{if(n===e)return this.options[i]===e?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,n,r){var s,o=this;"boolean"!=typeof i&&(r=n,n=i,i=!1),r?(n=s=t(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,s=this.widget()),t.each(r,function(r,a){function l(){return i||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):e}"string"!=typeof a&&(l.guid=a.guid=a.guid||l.guid||t.guid++);var h=r.match(/^(\w+)\s*(.*)$/),c=h[1]+o.eventNamespace,u=h[2];u?s.delegate(u,c,l):n.bind(c,l)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var r,s,o=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(r in s)r in i||(i[r]=s[r]);return this.element.trigger(i,n),!(t.isFunction(o)&&o.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,s){"string"==typeof r&&(r={effect:r});var o,a=r?r===!0||"number"==typeof r?i:r.effect||i:e;r=r||{},"number"==typeof r&&(r={duration:r}),o=!t.isEmptyObject(r),r.complete=s,r.delay&&n.delay(r.delay),o&&t.effects&&t.effects.effect[a]?n[e](r):a!==e&&n[a]?n[a](r.duration,r.easing,s):n.queue(function(i){t(this)[e](),s&&s.call(n[0]),i()})}})}(t),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.0",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,r=1===i.which,s="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return r&&!s&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(t),function(t){function e(t,e,i){return t>e&&e+i>t}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var n=null,r=!1,s=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,s.widgetName+"-item")===s?(n=t(this),!1):undefined}),t.data(e.target,s.widgetName+"-item")===s&&(n=t(e.target)),n?!this.options.handle||i||(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(r=!0)}),r)?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,n){var r,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&(t("body").css("cursor")&&(this._storedCursor=t("body").css("cursor")),t("body").css("cursor",s.cursor)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,r,s,o=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-t(document).scrollTop()<o.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<o.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+o.scrollSpeed)),e.pageX-t(document).scrollLeft()<o.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<o.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+o.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],r=n.item[0],s=this._intersectsWithPointer(n),s&&n.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],r):!0)){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,r=this.placeholder.offset();this.reverting=!0,t(this.helper).animate({left:r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft),top:r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,s=t.left,o=s+t.width,a=t.top,l=a+t.height,h=this.offset.click.top,c=this.offset.click.left,u=n+h>a&&l>n+h&&e+c>s&&o>e+c;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?u:e+this.helperProportions.width/2>s&&o>i-this.helperProportions.width/2&&n+this.helperProportions.height/2>a&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),r=i&&n,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return r?this.floating?o&&"right"===o||"down"===s?2:1:s&&("down"===s?2:1):!1},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),r=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&n||"left"===s&&!n:r&&("down"===r&&i||"up"===r&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,n,r,s,o=[],a=[],l=this._connectWith();if(l&&e)for(i=l.length-1;i>=0;i--)for(r=t(l[i]),n=r.length-1;n>=0;n--)s=t.data(r[n],this.widgetFullName),s&&s!==this&&!s.options.disabled&&a.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=a.length-1;i>=0;i--)a[i][0].each(function(){o.push(this)});return t(o)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,r,s,o,a,l,h,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(r=t(d[i]),n=r.length-1;n>=0;n--)s=t.data(r[n],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(u.push([t.isFunction(s.options.items)?s.options.items.call(s.element[0],e,{item:this.currentItem}):t(s.options.items,s.element),s]),this.containers.push(s));for(i=u.length-1;i>=0;i--)for(o=u[i][1],a=u[i][0],n=0,h=a.length;h>n;n++)l=t(a[n]),l.data(this.widgetName+"-item",o),c.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,r,s;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=r.outerWidth(),n.height=r.outerHeight()),s=r.offset(),n.left=s.left,n.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)s=this.containers[i].element.offset(),this.containers[i].containerCache.left=s.left,this.containers[i].containerCache.top=s.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t(document.createElement(e.currentItem[0].nodeName)).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return i||(n.style.visibility="hidden"),n},update:function(t,r){(!i||n.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var i,n,r,s,o,a,l,h,c,u=null,d=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(u&&t.contains(this.containers[i].element[0],u.element[0]))continue;u=this.containers[i],d=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(u)if(1===this.containers.length)this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1;else{for(r=1e4,s=null,o=this.containers[d].floating?"left":"top",a=this.containers[d].floating?"width":"height",l=this.positionAbs[o]+this.offset.click[o],n=this.items.length-1;n>=0;n--)t.contains(this.containers[d].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(h=this.items[n].item.offset()[o],c=!1,Math.abs(h-l)>Math.abs(h+this.items[n][a]-l)&&(c=!0,h+=this.items[n][a]),r>Math.abs(h-l)&&(r=Math.abs(h-l),s=this.items[n],this.direction=c?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[d],s?this._rearrange(e,s,null,!0):this._rearrange(e,null,this.containers[d].element,!0),this._trigger("change",e,this._uiHash()),this.containers[d]._trigger("change",e,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],i=t(r.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:r.scrollLeft())*n}},_generatePosition:function(e){var i,n,r=this.options,s=e.pageX,o=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((s-this.originalPageX)/r.grid[0])*r.grid[0],s=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!n)})},_clear:function(e,i){this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!i&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||i||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(i||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)i||r.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);if(this._storedCursor&&t("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!i){for(this._trigger("beforeStop",e,this._uiHash()),n=0;r.length>n;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(i||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!i){for(n=0;r.length>n;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}(t),function(t,e){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){t.datepicker._isDisabledDatepicker(s.inline?e.parent()[0]:s.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))})}function r(e,i){t.extend(e,i);for(var n in i)null==i[n]&&(e[n]=i[n]);return e}t.extend(t.ui,{datepicker:{version:"1.10.0"}});var s,o="datepicker",a=(new Date).getTime();t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return r(this._defaults,t||{}),this
},_attachDatepicker:function(e,i){var n,r,s;n=e.nodeName.toLowerCase(),r="div"===n||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),s=this._newInst(t(e),r),s.settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,s):r&&this._inlineDatepicker(e,s)},_newInst:function(e,i){var r=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,o,i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,r,s,o=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=t("<span class='"+this._appendClass+"'>"+o+"</span>"),e[a?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&e.focus(this._showDatepicker),("button"===n||"both"===n)&&(r=this._get(i,"buttonText"),s=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:s,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(s?t("<img/>").attr({src:s,alt:r,title:r}):r)),e[a?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,r,s=new Date(2009,11,20),o=this._get(t,"dateFormat");o.match(/[DM]/)&&(e=function(t){for(i=0,n=0,r=0;t.length>r;r++)t[r].length>i&&(i=t[r].length,n=r);return n},s.setMonth(e(this._get(t,o.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(e(this._get(t,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),t.input.attr("size",this._formatDate(t,s).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,o,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,s,a){var l,h,c,u,d,p=this._dialogInst;return p||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},t.data(this._dialogInput[0],o,p)),r(p.settings,s||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(h=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,c/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],o,p),this},_destroyDatepicker:function(e){var i,n=t(e),r=t.data(e,o);n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,o),"input"===i?(r.append.remove(),r.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var i,n,r=t(e),s=t.data(e,o);r.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=r.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,r=t(e),s=t.data(e,o);r.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=r.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,o)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,n,s){var o,a,l,h,c=this._getInst(i);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):c?"all"===n?t.extend({},c.settings):this._get(c,n):null:(o=n||{},"string"==typeof n&&(o={},o[n]=s),c&&(this._curInst===c&&this._hideDatepicker(),a=this._getDateDatepicker(i,!0),l=this._getMinMaxDate(c,"min"),h=this._getMinMaxDate(c,"max"),r(c.settings,o),null!==l&&o.dateFormat!==e&&o.minDate===e&&(c.settings.minDate=this._formatDate(c,l)),null!==h&&o.dateFormat!==e&&o.maxDate===e&&(c.settings.maxDate=this._formatDate(c,h)),"disabled"in o&&(o.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(t(i),c),this._autoSize(c),this._setDate(c,a),this._updateAlternate(c),this._updateDatepicker(c)),e)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,r,s=t.datepicker._getInst(e.target),o=!0,a=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),o=!1;break;case 13:return r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",s.dpDiv),r[0]&&t.datepicker._selectDay(e.target,s.selectedMonth,s.selectedYear,r[0]),i=t.datepicker._get(s,"onSelect"),i?(n=t.datepicker._formatDate(s),i.apply(s.input?s.input[0]:null,[n,s])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(s,"stepBigMonths"):-t.datepicker._get(s,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(s,"stepBigMonths"):+t.datepicker._get(s,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(s,"stepBigMonths"):-t.datepicker._get(s,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(s,"stepBigMonths"):+t.datepicker._get(s,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(i){var n,r,s=t.datepicker._getInst(i.target);return t.datepicker._get(s,"constrainInput")?(n=t.datepicker._possibleChars(t.datepicker._get(s,"dateFormat")),r=String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||" ">r||!n||n.indexOf(r)>-1):e},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)),i&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(r){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,n,s,o,a,l,h;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(i,"beforeShow"),s=n?n.apply(e,[e,i]):{},s!==!1&&(r(i.settings,s),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),o=!1,t(e).parents().each(function(){return o|="fixed"===t(this).css("position"),!o}),a={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),a=t.datepicker._checkOffset(i,a,o),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":o?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),i.inline||(l=t.datepicker._get(i,"showAnim"),h=t.datepicker._get(i,"duration"),i.dpDiv.zIndex(t(e).zIndex()+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.datepicker._get(i,"showOptions"),h):i.dpDiv[l||"show"](l?h:null),i.input.is(":visible")&&!i.input.is(":disabled")&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,s=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,n=this._getNumberOfMonths(e),r=n[1],o=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",o*r+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!==document.activeElement&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_getBorders:function(t){var e=function(t){return{thin:1,medium:2,thick:3}[t]||t};return[parseFloat(e(t.css("border-left-width"))),parseFloat(e(t.css("border-top-width")))]},_checkOffset:function(e,i,n){var r=e.dpDiv.outerWidth(),s=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),h=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?r-o:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+a?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+r>l&&l>r?Math.abs(i.left+r-l):0),i.top-=Math.min(i.top,i.top+s>h&&h>s?Math.abs(s+a):0),i},_findPos:function(e){for(var i,n=this._getInst(e),r=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,r,s,a=this._curInst;!a||e&&a!==t.data(e,o)||this._datepickerShowing&&(i=this._get(a,"showAnim"),n=this._get(a,"duration"),r=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),n,r):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,r),i||r(),this._datepickerShowing=!1,s=this._get(a,"onClose"),s&&s.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==n)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var r=t(e),s=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(s,i+("M"===n?this._get(s,"showCurrentAtPos"):0),n),this._updateDatepicker(s))},_gotoToday:function(e){var i,n=t(e),r=this._getInst(n[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(i=new Date,r.selectedDay=i.getDate(),r.drawMonth=r.selectedMonth=i.getMonth(),r.drawYear=r.selectedYear=i.getFullYear()),this._notifyChange(r),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var r=t(e),s=this._getInst(r[0]);s["selected"+("M"===n?"Month":"Year")]=s["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(r)},_selectDay:function(e,i,n,r){var s,o=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(s=this._getInst(o[0]),s.selectedDay=s.currentDay=t("a",r).html(),s.selectedMonth=s.currentMonth=i,s.selectedYear=s.currentYear=n,this._selectDate(e,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,r=t(e),s=this._getInst(r[0]);i=null!=i?i:this._formatDate(s),s.input&&s.input.val(i),this._updateAlternate(s),n=this._get(s,"onSelect"),n?n.apply(s.input?s.input[0]:null,[i,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,n,r,s=this._get(e,"altField");s&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),r=this.formatDate(i,n,this._getFormatConfig(e)),t(s).each(function(){t(this).val(r)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(i,n,r){if(null==i||null==n)throw"Invalid arguments";if(n="object"==typeof n?""+n:n+"",""===n)return null;var s,o,a,l,h=0,c=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,p=(r?r.dayNames:null)||this._defaults.dayNames,f=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,g=(r?r.monthNames:null)||this._defaults.monthNames,m=-1,y=-1,v=-1,_=-1,b=!1,x=function(t){var e=i.length>s+1&&i.charAt(s+1)===t;return e&&s++,e},w=function(t){var e=x(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r=RegExp("^\\d{1,"+i+"}"),s=n.substring(h).match(r);if(!s)throw"Missing number at position "+h;return h+=s[0].length,parseInt(s[0],10)},k=function(i,r,s){var o=-1,a=t.map(x(i)?s:r,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,i){var r=i[1];return n.substr(h,r.length).toLowerCase()===r.toLowerCase()?(o=i[0],h+=r.length,!1):e}),-1!==o)return o+1;throw"Unknown name at position "+h},D=function(){if(n.charAt(h)!==i.charAt(s))throw"Unexpected literal at position "+h;h++};for(s=0;i.length>s;s++)if(b)"'"!==i.charAt(s)||x("'")?D():b=!1;else switch(i.charAt(s)){case"d":v=w("d");break;case"D":k("D",d,p);break;case"o":_=w("o");break;case"m":y=w("m");break;case"M":y=k("M",f,g);break;case"y":m=w("y");break;case"@":l=new Date(w("@")),m=l.getFullYear(),y=l.getMonth()+1,v=l.getDate();break;case"!":l=new Date((w("!")-this._ticksTo1970)/1e4),m=l.getFullYear(),y=l.getMonth()+1,v=l.getDate();break;case"'":x("'")?D():b=!0;break;default:D()}if(n.length>h&&(a=n.substr(h),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),_>-1)for(y=1,v=_;;){if(o=this._getDaysInMonth(m,y-1),o>=v)break;y++,v-=o}if(l=this._daylightSavingAdjust(new Date(m,y-1,v)),l.getFullYear()!==m||l.getMonth()+1!==y||l.getDate()!==v)throw"Invalid date";return l},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var n,r=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},h=function(t,e,i){var n=""+e;if(l(t))for(;i>n.length;)n="0"+n;return n},c=function(t,e,i,n){return l(t)?n[e]:i[e]},u="",d=!1;if(e)for(n=0;t.length>n;n++)if(d)"'"!==t.charAt(n)||l("'")?u+=t.charAt(n):d=!1;else switch(t.charAt(n)){case"d":u+=h("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),r,s);break;case"o":u+=h("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=h("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),o,a);break;case"y":u+=l("y")?e.getFullYear():(10>e.getYear()%100?"0":"")+e.getYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":d=!0;break;default:u+=t.charAt(n)}return u},_possibleChars:function(t){var e,i="",n=!1,r=function(i){var n=t.length>e+1&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;t.length>e;e++)if(n)"'"!==t.charAt(e)||r("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":r("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,i){return t.settings[i]!==e?t.settings[i]:this._defaults[i]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),s=r,o=this._getFormatConfig(t);try{s=this.parseDate(i,n,o)||r}catch(a){n=e?"":n}t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),t.currentDay=n?s.getDate():0,t.currentMonth=n?s.getMonth():0,t.currentYear=n?s.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var r=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},s=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(n){}for(var r=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,s=r.getFullYear(),o=r.getMonth(),a=r.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,h=l.exec(i);h;){switch(h[2]||"d"){case"d":case"D":a+=parseInt(h[1],10);break;case"w":case"W":a+=7*parseInt(h[1],10);break;case"m":case"M":o+=parseInt(h[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(s,o));break;case"y":case"Y":s+=parseInt(h[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(s,o))}h=l.exec(i)}return new Date(s,o,a)},o=null==i||""===i?n:"string"==typeof i?s(i):"number"==typeof i?isNaN(i)?n:r(i):new Date(i.getTime());return o=o&&"Invalid Date"==""+o?n:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,r=t.selectedMonth,s=t.selectedYear,o=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=o.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=o.getMonth(),t.drawYear=t.selectedYear=t.currentYear=o.getFullYear(),r===t.selectedMonth&&s===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){window["DP_jQuery_"+a].datepicker._adjustDate(n,-i,"M")},next:function(){window["DP_jQuery_"+a].datepicker._adjustDate(n,+i,"M")},hide:function(){window["DP_jQuery_"+a].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+a].datepicker._gotoToday(n)},selectDay:function(){return window["DP_jQuery_"+a].datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+a].datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+a].datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,r,s,o,a,l,h,c,u,d,p,f,g,m,y,v,_,b,x,w,k,D,C,M,T,S,P,I,A,O,$,N,E,L,z,F,R,H=new Date,W=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),B=this._get(t,"isRTL"),Y=this._get(t,"showButtonPanel"),V=this._get(t,"hideIfNoPrevNext"),j=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),X=this._get(t,"showCurrentAtPos"),G=this._get(t,"stepMonths"),q=1!==U[0]||1!==U[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(t,"min"),Z=this._getMinMaxDate(t,"max"),Q=t.drawMonth-X,te=t.drawYear;if(0>Q&&(Q+=12,te--),Z)for(e=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-U[0]*U[1]+1,Z.getDate())),e=J&&J>e?J:e;this._daylightSavingAdjust(new Date(te,Q,1))>e;)Q--,0>Q&&(Q=11,te--);for(t.drawMonth=Q,t.drawYear=te,i=this._get(t,"prevText"),i=j?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Q-G,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,te,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>":V?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>",r=this._get(t,"nextText"),r=j?this.formatDate(r,this._daylightSavingAdjust(new Date(te,Q+G,1)),this._getFormatConfig(t)):r,s=this._canAdjustMonth(t,1,te,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+r+"</span></a>":V?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+r+"</span></a>",o=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?K:W,o=j?this.formatDate(o,a,this._getFormatConfig(t)):o,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",h=Y?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(B?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),y=this._get(t,"showOtherMonths"),v=this._get(t,"selectOtherMonths"),_=this._getDefaultDate(t),b="",w=0;U[0]>w;w++){for(k="",this.maxRows=4,D=0;U[1]>D;D++){if(C=this._daylightSavingAdjust(new Date(te,Q,t.selectedDay)),M=" ui-corner-all",T="",q){if(T+="<div class='ui-datepicker-group",U[1]>1)switch(D){case 0:T+=" ui-datepicker-group-first",M=" ui-corner-"+(B?"right":"left");break;case U[1]-1:T+=" ui-datepicker-group-last",M=" ui-corner-"+(B?"left":"right");break;default:T+=" ui-datepicker-group-middle",M=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+M+"'>"+(/all|left/.test(M)&&0===w?B?s:n:"")+(/all|right/.test(M)&&0===w?B?n:s:"")+this._generateMonthYearHeader(t,Q,te,J,Z,w>0||D>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",S=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",x=0;7>x;x++)P=(x+c)%7,S+="<th"+((x+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[P]+"'>"+p[P]+"</span></th>";for(T+=S+"</tr></thead><tbody>",I=this._getDaysInMonth(te,Q),te===t.selectedYear&&Q===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,I)),A=(this._getFirstDayOfMonth(te,Q)-c+7)%7,O=Math.ceil((A+I)/7),$=q?this.maxRows>O?this.maxRows:O:O,this.maxRows=$,N=this._daylightSavingAdjust(new Date(te,Q,1-A)),E=0;$>E;E++){for(T+="<tr>",L=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(N)+"</td>":"",x=0;7>x;x++)z=m?m.apply(t.input?t.input[0]:null,[N]):[!0,""],F=N.getMonth()!==Q,R=F&&!v||!z[0]||J&&J>N||Z&&N>Z,L+="<td class='"+((x+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(N.getTime()===C.getTime()&&Q===t.selectedMonth&&t._keyEvent||_.getTime()===N.getTime()&&_.getTime()===C.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!y?"":" "+z[1]+(N.getTime()===K.getTime()?" "+this._currentClass:"")+(N.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(F&&!y||!z[2]?"":" title='"+z[2]+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(F&&!y?"&#xa0;":R?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===W.getTime()?" ui-state-highlight":"")+(N.getTime()===K.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);T+=L+"</tr>"}Q++,Q>11&&(Q=0,te++),T+="</tbody></table>"+(q?"</div>"+(U[0]>0&&D===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=T}b+=k}return b+=h,t._keyEvent=!1,b},_generateMonthYearHeader:function(t,e,i,n,r,s,o,a){var l,h,c,u,d,p,f,g,m=this._get(t,"changeMonth"),y=this._get(t,"changeYear"),v=this._get(t,"showMonthAfterYear"),_="<div class='ui-datepicker-title'>",b="";if(s||!m)b+="<span class='ui-datepicker-month'>"+o[e]+"</span>";else{for(l=n&&n.getFullYear()===i,h=r&&r.getFullYear()===i,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=n.getMonth())&&(!h||r.getMonth()>=c)&&(b+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+a[c]+"</option>");b+="</select>"}if(v||(_+=b+(!s&&m&&y?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",s||!y)_+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=n?Math.max(f,n.getFullYear()):f,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",_+=t.yearshtml,t.yearshtml=null}return _+=this._get(t,"yearSuffix"),v&&(_+=(!s&&m&&y?"":"&#xa0;")+b),_+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"===i?e:0),r=t.drawMonth+("M"===i?e:0),s=Math.min(t.selectedDay,this._getDaysInMonth(n,r))+("D"===i?e:0),o=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,r,s)));t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),r=i&&i>e?i:e;return n&&r>n?n:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var r=this._getNumberOfMonths(t),s=this._daylightSavingAdjust(new Date(i,n+(0>e?e:r[0]*r[1]),1));return 0>e&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(t,s)},_isInRange:function(t,e){var i,n,r=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),o=null,a=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),o=parseInt(i[0],10)+n,a=parseInt(i[1],10)+n),(!r||e.getTime()>=r.getTime())&&(!s||e.getTime()<=s.getTime())&&(!o||e.getFullYear()>=o)&&(!a||a>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);
var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.10.0",window["DP_jQuery_"+a]=t}(t)}),define("plugins/jquery-easing",["../jquery"],function(t){t.easing.jswing=t.easing.swing,t.extend(t.easing,{def:"easeOutQuad",swing:function(e,i,n,r,s){return t.easing[t.easing.def](e,i,n,r,s)},easeInQuad:function(t,e,i,n,r){return n*(e/=r)*e+i},easeOutQuad:function(t,e,i,n,r){return-n*(e/=r)*(e-2)+i},easeInOutQuad:function(t,e,i,n,r){return 1>(e/=r/2)?n/2*e*e+i:-n/2*(--e*(e-2)-1)+i},easeInCubic:function(t,e,i,n,r){return n*(e/=r)*e*e+i},easeOutCubic:function(t,e,i,n,r){return n*((e=e/r-1)*e*e+1)+i},easeInOutCubic:function(t,e,i,n,r){return 1>(e/=r/2)?n/2*e*e*e+i:n/2*((e-=2)*e*e+2)+i},easeInQuart:function(t,e,i,n,r){return n*(e/=r)*e*e*e+i},easeOutQuart:function(t,e,i,n,r){return-n*((e=e/r-1)*e*e*e-1)+i},easeInOutQuart:function(t,e,i,n,r){return 1>(e/=r/2)?n/2*e*e*e*e+i:-n/2*((e-=2)*e*e*e-2)+i},easeInQuint:function(t,e,i,n,r){return n*(e/=r)*e*e*e*e+i},easeOutQuint:function(t,e,i,n,r){return n*((e=e/r-1)*e*e*e*e+1)+i},easeInOutQuint:function(t,e,i,n,r){return 1>(e/=r/2)?n/2*e*e*e*e*e+i:n/2*((e-=2)*e*e*e*e+2)+i},easeInSine:function(t,e,i,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+i},easeOutSine:function(t,e,i,n,r){return n*Math.sin(e/r*(Math.PI/2))+i},easeInOutSine:function(t,e,i,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+i},easeInExpo:function(t,e,i,n,r){return 0==e?i:n*Math.pow(2,10*(e/r-1))+i},easeOutExpo:function(t,e,i,n,r){return e==r?i+n:n*(-Math.pow(2,-10*e/r)+1)+i},easeInOutExpo:function(t,e,i,n,r){return 0==e?i:e==r?i+n:1>(e/=r/2)?n/2*Math.pow(2,10*(e-1))+i:n/2*(-Math.pow(2,-10*--e)+2)+i},easeInCirc:function(t,e,i,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+i},easeOutCirc:function(t,e,i,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+i},easeInOutCirc:function(t,e,i,n,r){return 1>(e/=r/2)?-n/2*(Math.sqrt(1-e*e)-1)+i:n/2*(Math.sqrt(1-(e-=2)*e)+1)+i},easeInElastic:function(t,e,i,n,r){var s=1.70158,o=0,a=n;if(0==e)return i;if(1==(e/=r))return i+n;if(o||(o=.3*r),Math.abs(n)>a){a=n;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(n/a);return-(a*Math.pow(2,10*(e-=1))*Math.sin((e*r-s)*2*Math.PI/o))+i},easeOutElastic:function(t,e,i,n,r){var s=1.70158,o=0,a=n;if(0==e)return i;if(1==(e/=r))return i+n;if(o||(o=.3*r),Math.abs(n)>a){a=n;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(n/a);return a*Math.pow(2,-10*e)*Math.sin((e*r-s)*2*Math.PI/o)+n+i},easeInOutElastic:function(t,e,i,n,r){var s=1.70158,o=0,a=n;if(0==e)return i;if(2==(e/=r/2))return i+n;if(o||(o=r*.3*1.5),Math.abs(n)>a){a=n;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(n/a);return 1>e?-.5*a*Math.pow(2,10*(e-=1))*Math.sin((e*r-s)*2*Math.PI/o)+i:.5*a*Math.pow(2,-10*(e-=1))*Math.sin((e*r-s)*2*Math.PI/o)+n+i},easeInBack:function(t,e,i,n,r,s){return void 0==s&&(s=1.70158),n*(e/=r)*e*((s+1)*e-s)+i},easeOutBack:function(t,e,i,n,r,s){return void 0==s&&(s=1.70158),n*((e=e/r-1)*e*((s+1)*e+s)+1)+i},easeInOutBack:function(t,e,i,n,r,s){return void 0==s&&(s=1.70158),1>(e/=r/2)?n/2*e*e*(((s*=1.525)+1)*e-s)+i:n/2*((e-=2)*e*(((s*=1.525)+1)*e+s)+2)+i},easeInBounce:function(e,i,n,r,s){return r-t.easing.easeOutBounce(e,s-i,0,r,s)+n},easeOutBounce:function(t,e,i,n,r){return 1/2.75>(e/=r)?n*7.5625*e*e+i:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+i:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+i:n*(7.5625*(e-=2.625/2.75)*e+.984375)+i},easeInOutBounce:function(e,i,n,r,s){return s/2>i?.5*t.easing.easeInBounce(e,2*i,0,r,s)+n:.5*t.easing.easeOutBounce(e,2*i-s,0,r,s)+.5*r+n}})}),define("plugins/jquery-panels",["jquery"],function(t){var e;return e=function(e){var i,n,r=this;return this.element=t(e),this.slideWidth=this.element.width(),(n=this.element.children(".panel-toggle"))[0]&&(n.on("click",function(){return r.element.panel("toggle")}),this.slideWidth-=n.width()),this.state=1,this.side=this.element.hasClass("panel-right")?"right":"left",this.element.hasClass("closed")&&(this.state=0,(i={})[this.side]=-this.slideWidth,this.element.css(i).show()),this},e.prototype={constructor:e,open:function(){var t;return this.state?void 0:(this.state=1,(t={})[this.side]=0,this.element.animate(t,300).removeClass("closed"))},close:function(){var t;return this.state?(this.state=0,(t={})[this.side]=-this.slideWidth,this.element.animate(t,300).addClass("closed")):void 0},toggle:function(){return this.state?this.close():this.open()}},t.fn.panel=function(i){return this.each(function(){var n,r;return n=t(this),r=n.data("panel"),r||n.data("panel",r=new e(this)),"string"==typeof i?r[i]():void 0})},t.fn.panel.Constructor=e,t(function(){return t(".panel").panel(),t("[data-toggle*=panel]").each(function(){var e;return(e=t(this)).on("click",function(){var i;return i=e.data("target")?t(e.data("target")):e.parent(),i.panel("toggle")})})})}),define("plugins/jquery-scroller",["jquery","underscore"],function(t,e){var i,n;return n={container:window,threshold:.75,autofill:!1,resize:!0,trigger:null},i=function(i,n){var r=this;return this.element=t(i),this.options=n,this.container=t(n.container),n.resize&&t(window).on("resize",e.debounce(function(){return r.reset()},100)),this.container.on("scroll",e.debounce(function(){var t,e;return t=r.container.scrollTop(),e=(r.element.height()-r.container.height())*r.options.threshold,!r.reached&&t>=e?(r.reached=!0,r.element.trigger("scroller")):void 0},100)),n.trigger&&this.element.on("scroller",n.trigger),this},i.prototype={constructor:i,reset:function(){return this.reached=!1,this.options.autofill&&0>this.element.height()-this.container.height()&&this.element.trigger("scroller"),this}},t.fn.scroller=function(e){var r;return r=t.isPlainObject(e)?t.extend({},n,e):t.extend({},n),this.each(function(){var n,s;return n=t(this),s=n.data("scroller"),s||n.data("scroller",s=new i(n,r)),"string"==typeof e?s[e]():void 0})},t.fn.scroller.Constructor=i});var __slice=[].slice;define("cilantro/ui/core",["../core","date","inputio","plugins/backbone-marionette","plugins/backbone-charts","plugins/bootstrap","plugins/bootstrap-typeselect","plugins/bootstrap-datepicker","plugins/jquery-ui","plugins/jquery-easing","plugins/jquery-panels","plugins/jquery-scroller"],function(t){var e;return t.Marionette=Backbone.Marionette,t.Marionette.View.prototype.publish=t.publish,t.Marionette.View.prototype.unsubscribe=t.unsubscribe,t.Marionette.View.prototype.subscribe=function(e,i,n){var r,s,o;null==this._channels&&(this._channels={}),n||(r=null!=(o=(s=this._channels)[e])?o:s[e]=[],r.push(i)),t.subscribe(e,i,n)},t.Marionette.View.prototype.onClose=function(){var t,e,i,n,r,s;if(null!=this._channels){s=this._channels;for(t in s)for(i=s[t],n=0,r=i.length;r>n;n++)e=i[n],this.unsubscribe(t,e)}},t.Marionette.View.prototype.bindSubscribers=function(){var t,e,i,n,r;if(null!=this.subscribers){n=this.subscribers,r=[];for(t in n){if(i=n[t],null==(e=this[i]))throw Error(""+i+" not a method");r.push(this.subscribe(t,e))}return r}},e=t.Marionette.View.prototype.constructor,t.Marionette.View.prototype.constructor=function(){var t;return t=arguments.length>=1?__slice.call(arguments,0):[],e.call(this,t),this.bindSubscribers()},t});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};define("cilantro/ui/views/concept/search",["../../core"],function(t){var e;return e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.className="concept-search",e}(t.Marionette.ItemView),{ConceptSearch:e}});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};define("cilantro/ui/views/concept/item",["../../core"],function(t){var e;return e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.className="concept",e}(t.Marionette.ItemView),{Concept:e}});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};define("cilantro/ui/views/concept/index",["../../core","./item"],function(t,e){var i,n;return n=function(e){function i(){return this.inactivate=__bind(this.inactivate,this),this.activate=__bind(this.activate,this),i.__super__.constructor.apply(this,arguments)}return __extends(i,e),i.prototype.tagName="li",i.prototype.template="<a href=#>{{ name }}</a>",i.prototype.events={"click a":"click"},i.prototype.subscribers={"conceptform/active":"activate","conceptform/inactive":"inactivate"},i.prototype.click=function(e){return e.preventDefault(),t.publish("concept/active",this.model.id)},i.prototype.activate=function(t){return t===this.model.id?this.$el.addClass("active"):this.$el.removeClass("active")},i.prototype.inactivate=function(t){return t===this.model.id?this.$el.removeClass("active"):void 0},i}(e.Concept),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.tagName="ul",e.prototype.className="concept-index",e.prototype.itemView=n,e}(t.Marionette.CollectionView),{ConceptIndex:i,ConceptIndexItem:n}});var __slice=[].slice,__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};define("cilantro/ui/views/concept",["../core","./concept/search","./concept/item","./concept/index"],function(){var t,e,i,n,r;return i=arguments[0],n=arguments.length>=2?__slice.call(arguments,1):[],e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.className="concept-workspace",e}(i.Marionette.CollectionView),t=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.className="concept-form",e}(i.Marionette.ItemView),(r=i._).extend.apply(r,[{ConceptWorkspace:e,ConceptForm:t}].concat(__slice.call(n)))});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};define("cilantro/ui/views/field",["../core"],function(t){var e,i,n;return e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.className="field-container",e}(t.Marionette.ItemView),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.className="field-stats",e}(t.Marionette.ItemView),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.className="field-control",e}(t.Marionette.ItemView),{FieldContainer:e,FieldStats:n,FieldControl:i}});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};define("cilantro/ui/views/filter",["../core"],function(t){var e,i;return e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.className="filter",e}(t.Marionette.ItemView),i=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return __extends(i,t),i.prototype.className="named-filter",i.prototype.itemView=e,i}(t.Marionette.CollectionView),{NamedFilter:i,Filter:e}});var __slice=[].slice;define("cilantro/ui/views",["underscore","./views/concept","./views/field","./views/filter"],function(){var t,e;return e=arguments[0],t=arguments.length>=2?__slice.call(arguments,1):[],e.extend.apply(e,[{}].concat(__slice.call(t)))}),define("cilantro/ui/regions",["./core"],function(){}),define("cilantro/ui/layouts",["./core"],function(){}),define("cilantro/ui",["./core","./ui/views","./ui/regions","./ui/layouts"],function(t,e,i,n){return t.ui={views:e,regions:i,layouts:n},t});