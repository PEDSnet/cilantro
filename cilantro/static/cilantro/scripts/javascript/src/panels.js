// Generated by CoffeeScript 1.3.3

define(['jquery'], function($) {
  return $('[data-toggle*=panel]').each(function() {
    var content, panel, slideWidth, toggle;
    toggle = $(this);
    if (toggle.data('target')) {
      panel = $(toggle.data('target'));
      content = panel.children('.panel-content');
    } else {
      panel = toggle.parent();
      content = toggle.siblings('.panel-content');
    }
    slideWidth = panel.outerWidth();
    if (panel.children('.panel-toggle')[0]) {
      slideWidth -= panel.children('.panel-toggle').outerWidth();
    }
    if (panel.hasClass('panel-right')) {
      if (panel.hasClass('closed')) {
        panel.css({
          right: -slideWidth
        }).show();
      }
      return toggle.on('click', function() {
        panel.toggleClass('closed');
        return panel.animate({
          right: (parseInt(panel.css('right'), 10) === 0 ? -slideWidth : 0)
        }, 300);
      });
    } else if (panel.hasClass('panel-left')) {
      if (panel.hasClass('closed')) {
        panel.css({
          left: -slideWidth
        }).show();
      }
      return toggle.on('click', function() {
        panel.toggleClass('closed');
        return panel.animate({
          left: (parseInt(panel.css('left'), 10) === 0 ? -slideWidth : 0)
        }, 300);
      });
    }
  });
});
